(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{107:function(n,r,e){"use strict";e.r(r);var t=e(0),i=e.n(t),a=e(44),o=e.n(a),s=e(69),l=e.n(s),c=(e(147),e(149),e(151),e(153),e(155),e(156),e(158),e(159),e(160),e(161),e(22)),u=e(16),d=e(9),p=e(33),f=e(2),g=e(30),m=e(21),h=e(7),b=e(43),v=(e(190),e(32)),w=(e(31),e(6),e(41));window.jQuery=i.a,window.$=i.a,window.JSZip=o.a,window.JSZipUtils=l.a;var y=e(146);["js","messagestore","fallbacks","parser","emitter","language"].forEach((function(n){y("./jquery.i18n."+n)})),"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js").then(n=>{console.log("SW registered: ",n)}).catch(n=>{console.log("SW registration failed: ",n)})});var k=['<i class="fas fa-map-marked-alt"></i> 去邊㗎 GoToWhere','<i class="fas fa-map-marked-alt"></i> GoToWhere<small>.ga</small>','<i class="fas fa-map-marked-alt"></i> HeuiBin<small>.ga</small>'],_=!1;i()(document).ready((function(){adjustMargin(),i()(".startup .progress-panel").fadeIn(5e3),i()(".startup .container").fadeIn(2e3,(function(){!function n(r){_||((void 0===r||r>2)&&(r=0),i()(".startup h1").html(k[r]),i()(".startup h1").fadeIn(2e3,(function(){i()(".startup h1").fadeOut(2e3,(function(){n(r+1)}))})))}()})),console.log("GoToWhere (c) 2019. Licensed under the MIT License."),i()("#startup-status").html("Loading GoToWhere scripts...")})),i()(window).resize((function(){adjustMargin()})),window.adjustMargin=function(){var n=0;i()(".numeric-keypad .btn-group").each((function(){n+=i()(this).height()})),i()(".letter-keypad").css("height",n);var r=i()(".header").height(),e=i()(window).height();i()(".desktop.half-map-container").css("height",e-r),i()(".content-panel-container").css("height",e-r-n);var t=i()(".mobile-split-container").height(),a=i()(".mobile.half-map-panel").height();i()(".mobile.half-map-container").css("height",t-a)},window.p=p,i()(".build-version").html("1.1.12"),w.a.defs("EPSG:2326","+proj=tmerc +lat_0=22.31213333333334 +lon_0=114.1785555555556 +k=1 +x_0=836694.05 +y_0=819069.8 +ellps=intl +towgs84=-162.619,-276.959,-161.764,0.067753,-2.24365,-1.15883,-1.09425 +units=m +no_defs"),w.a.defs("EPSG:4326","+proj=longlat +datum=WGS84 +no_defs"),h.load(),v.changeLanguage(h.get("preferred_language","en")),b.c(),c.register("www.gotowhere.ga",!0),c.register("plugins.gotowhere.ga",!0);var x=["agency","calendar","calendar_dates","frequencies","routes","trips","stops","stop_time_paths","stop_times","fare_attributes","fare_rules"];window.indexedDB&&window.localStorage?(i()("#startup-progress").css("width","0%"),i()("#startup-status").html(i.a.i18n("startup-status-loading-plugins")),u.c((function(n){i()("#startup-progress").css("width",n/5+"%")})).then((function(){return i()("#startup-status").html(i.a.i18n("startup-status-fetching-reference-db")),p.fetchAllDatabase((function(n){i()("#startup-progress").css("width",n/5+20+"%")}))})).then((function(){return i()("#startup-status").html(i.a.i18n("startup-status-obtaining-db-version")),d.e((function(n){i()("#startup-progress").css("width",n/5+40+"%")}))})).then((function(){return i()("#startup-status").html(i.a.i18n("startup-status-checking-db-update")),d.a((function(n){i()("#startup-progress").css("width",n/5+60+"%")}))})).then((function(){return i()("#startup-status").html(i.a.i18n("startup-status-validating-db")),d.j((function(n){i()("#startup-progress").css("width",n/5+80+"%")}))})).then((function(){if(d.c()){d.d();var n="<b>"+i.a.i18n("startup-status-load-db-take-some-time")+"</b><br />";return i()("#startup-status").html(n+i.a.i18n("startup-status-downloading-db")),d.b((function(n){console.log(n),i()("#startup-progress").css("width",n/8+"%")})).then((function(){return i()("#startup-status").html(n+i.a.i18n("startup-status-preparing-update")),d.f((function(n){console.log(n),i()("#startup-progress").css("width",n/8+12.5+"%")}))})).then((function r(e){"number"!=typeof e&&(e=0);var t=x[e];return i()("#startup-status").html(n+i.a.i18n("startup-status-loading-"+t)),d.g(t,(function(n){console.log(n),i()("#startup-progress").css("width",(n/2/x.length+100*e/x.length)/100*75+25+"%")})).then((function(){return i()("#startup-status").html(n+i.a.i18n("startup-status-updating-"+t)),d.k((function(n){console.log(n),i()("#startup-progress").css("width",((n/2+50)/x.length+100*e/x.length)/100*75+25+"%")}))})).then((function(){if(e!=x.length-1)return r(e+1);d.i()}))}))}})).then((function(){return i()("#startup-progress").css("width","100%"),i()("#startup-status").html(i.a.i18n("startup-status-init-map")),f.c()})).then((function(){i()("#startup-status").html(i.a.i18n("startup-status-finish")),i()(".build-version").fadeOut(2e3);var n=localStorage.getItem("gtw-lastversion");n&&"1.1.12"!==n&&(console.log("Application updated to 1.1.12. Showing change-log."),m.d("updated","1.1.12")),localStorage.setItem("gtw-lastversion","1.1.12"),m.c();var r,e=[];for(var t in u.d)(r=u.d[t]).status<0&&e.push(r);console.log(e),e.length&&m.d("errorplugins",e),g.e((function(){i()("#loc-status-btn").addClass("btn-success"),i()("#loc-status-btn").removeClass("btn-warning"),setTimeout((function(){i()("#loc-status-btn").fadeOut(500)}),2e3)}),(function(){i()("#loc-status-btn").addClass("btn-danger"),i()("#loc-status-btn").removeClass("btn-warning"),i()("#loc-status-btn").append(" <span> "+i.a.i18n("location-error")+"</span>"),setTimeout((function(){i()("#loc-status-btn span").fadeOut(500)}),5e3)})),setTimeout((function(){i()(".footer").animate({height:0,opacity:0},1e3,(function(){i()(".footer").css("display","none")}))}),2e3),i()(".startup").fadeOut(1e3,(function(){_=!0}))}))):(i()("#startup-status").attr("style","color: red"),i()("#startup-status").html(i.a.i18n("startup-status-not-supported")))},112:function(n,r){},114:function(n,r){},146:function(n,r,e){var t={"./jquery.i18n":70,"./jquery.i18n.emitter":71,"./jquery.i18n.emitter.bidi":72,"./jquery.i18n.emitter.bidi.js":72,"./jquery.i18n.emitter.js":71,"./jquery.i18n.fallbacks":73,"./jquery.i18n.fallbacks.js":73,"./jquery.i18n.js":70,"./jquery.i18n.language":74,"./jquery.i18n.language.js":74,"./jquery.i18n.messagestore":75,"./jquery.i18n.messagestore.js":75,"./jquery.i18n.parser":76,"./jquery.i18n.parser.js":76,"./languages/bs":77,"./languages/bs.js":77,"./languages/dsb":78,"./languages/dsb.js":78,"./languages/fi":79,"./languages/fi.js":79,"./languages/ga":80,"./languages/ga.js":80,"./languages/he":81,"./languages/he.js":81,"./languages/hsb":82,"./languages/hsb.js":82,"./languages/hu":83,"./languages/hu.js":83,"./languages/hy":84,"./languages/hy.js":84,"./languages/la":85,"./languages/la.js":85,"./languages/ml":86,"./languages/ml.js":86,"./languages/os":87,"./languages/os.js":87,"./languages/ru":88,"./languages/ru.js":88,"./languages/sl":89,"./languages/sl.js":89,"./languages/uk":90,"./languages/uk.js":90};function i(n){var r=a(n);return e(r)}function a(n){if(!e.o(t,n)){var r=new Error("Cannot find module '"+n+"'");throw r.code="MODULE_NOT_FOUND",r}return t[n]}i.keys=function(){return Object.keys(t)},i.resolve=a,n.exports=i,i.id=146},151:function(n,r,e){var t=e(152);"string"==typeof t&&(t=[[n.i,t,""]]);var i={insert:"head",singleton:!1};e(29)(t,i);t.locals&&(n.exports=t.locals)},152:function(n,r,e){(n.exports=e(28)(!1)).push([n.i,"body {\r\n    width: 100%;\r\n    height: 100vh;\r\n    /* overflow: hidden; */\r\n    position: absolute;\r\n}\r\n\r\n.landscape-notice {\r\n    display: none;\r\n    width: 100%;\r\n    height: 100%;\r\n    background-color: white;\r\n    z-index: 5;\r\n    position: relative;\r\n    padding: 12%;\r\n    font-weight: bold;\r\n}\r\n\r\n/* Update Change-log */\r\n\r\n.build-version {\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\r\n    z-index: 5;\r\n    padding-top: env(safe-area-inset-top);\r\n    margin: 1rem;\r\n}\r\n\r\n#updated-changelog {\r\n    white-space: normal;\r\n}\r\n\r\n/* Toast */\r\n\r\n.toast-stack-container {\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\r\n    width: 100%;\r\n}\r\n\r\n#gtw-toast-stack {\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\r\n    margin: 1rem;\r\n    z-index: 3;\r\n}\r\n\r\n/* Startup DIV CSS */\r\n\r\n.startup {\r\n    position: absolute;\r\n    top: 0;\r\n    background-color: white;\r\n    width: 100%;\r\n    height: 100%;\r\n    overflow: hidden;\r\n    z-index: 4;\r\n}\r\n\r\n.startup .container {\r\n    display: none;\r\n    position: relative;\r\n}\r\n\r\n.progress-panel {\r\n    position: absolute;\r\n    text-align: center;\r\n    width: 100%;\r\n    bottom: 0px;\r\n    z-index: 2;\r\n}\r\n\r\n.progress {\r\n    border-radius: 0px;\r\n}\r\n\r\n.bg-loaddb-panel {\r\n    display: none;\r\n}\r\n\r\n.request-progress-panel {\r\n    position: absolute;\r\n    text-align: center;\r\n    width: 100%;\r\n    left: 0px;\r\n    bottom: 0px;\r\n    display: none;\r\n}\r\n\r\n.startup .overlay {\r\n    position: absolute;\r\n    top: 0;\r\n    height: 100%;\r\n    width: 100%;\r\n    background-color: white;\r\n    opacity: 0.5;\r\n    z-index: 1;\r\n}\r\n\r\n.startup .progress-panel {\r\n    display: none;\r\n}\r\n\r\n/* Getting Started Panel */\r\n.getting-started-panel {\r\n    display: none;\r\n    padding: 1rem;\r\n    position: absolute;\r\n    z-index: 1;\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\n.getting-started-panel p.app-title {\r\n    margin-top: 0.8125rem;\r\n    margin-left: 1rem;\r\n    margin-bottom: 0.8125rem;\r\n    white-space: nowrap;\r\n    line-height: inherit;\r\n    font-size: 1.25rem;\r\n}\r\n\r\n#gettingStartedWizard {\r\n    margin-top: 2rem;\r\n    background-color: white;\r\n    padding: 1rem;\r\n    width: 100%;\r\n}\r\n\r\n#gettingStartedWizard ul {\r\n    flex-wrap: nowrap;\r\n    overflow-x: auto;\r\n    overflow-y: hidden;\r\n}\r\n\r\n.getting-started-progress-panel {\r\n    display: none;\r\n}\r\n\r\n.getting-started-progress-panel .progress-panel {\r\n    text-align: center;\r\n}\r\n\r\n.getting-started-plugin-error-panel{\r\n    display: none;\r\n}\r\n\r\n/* ETA CSS */\r\n.bg-trans {\r\n    background-color: unset;\r\n}\r\n\r\n.half-map-container {\r\n    display: none;\r\n    width: 100%;\r\n    position: absolute;\r\n    overflow-x: hidden;\r\n    overflow-y: scroll;\r\n    z-index: 2;\r\n}\r\n\r\n.container {\r\n    padding: 0px;\r\n}\r\n\r\n.content-panel-container {\r\n\r\n}\r\n\r\n.item-list {\r\n    height: inherit;\r\n}\r\n\r\n.item-list .list-group {\r\n    width: 100%;\r\n    height: inherit;\r\n    overflow-x: hidden;\r\n    overflow-y: scroll;\r\n    z-index: 1;\r\n}\r\n\r\n.item-list .list-group li {\r\n    min-height: 100px;\r\n}\r\n\r\n.all-route-list {\r\n    display: none;\r\n}\r\n\r\n.stop-eta tr.active {\r\n    font-size: 18px;\r\n    font-weight: bold;\r\n}\r\n\r\n/* Map CSS */\r\n\r\n#gtw-map {\r\n    width: 100vw;\r\n    height: 100vh;\r\n    top: 0px;\r\n    left: 0px;\r\n    position: fixed;\r\n    overflow: hidden;\r\n}\r\n\r\n/* Search panel CSS */\r\n\r\n.top-panel {\r\n    padding: 8px;\r\n    margin-bottom: 0px;\r\n    background-color: unset;\r\n}\r\n\r\n.top-panel .tabs, .hori-scroll {\r\n    overflow: auto;\r\n    white-space: nowrap;\r\n    display: block;\r\n    padding: 4px;\r\n}\r\n\r\n.top-panel .tabs .ui-tab, .hori-scroll button {\r\n    display: inline-block;\r\n}\r\n\r\n#loc-status-btn {\r\n    margin-top: env(safe-area-inset-top);\r\n    margin-bottom: env(safe-area-inset-bottom);\r\n    position: fixed;\r\n    z-index: 3;\r\n    right: 4px;\r\n    bottom: 4px;\r\n}\r\n\r\n/* Header, footer CSS */\r\n\r\n.gtw-container {\r\n    position: fixed;\r\n    top: 0;\r\n    width: 100%;\r\n    z-index: 1;\r\n}\r\n\r\n/*\r\n.header nav {\r\n    background-color: #343a40\r\n}\r\n*/\r\n\r\n.footer {\r\n    padding-top: 8px;\r\n    padding-bottom: 0px;\r\n    position: fixed;\r\n    bottom: 0;\r\n    z-index: 2;\r\n    width: 100%;\r\n}\r\n\r\n.map-overlay {\r\n    position: fixed;\r\n    width: 100%;\r\n    height: 100%;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    background-color: rgba(233,236,239,0.8);\r\n    z-index: 1;\r\n    cursor: pointer;\r\n}\r\n\r\n/* Loading Overlay CSS */\r\n\r\n.loading-overlay {\r\n    position: fixed;\r\n    display: none;\r\n    width: 100%;\r\n    height: 100%;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    background-color: rgba(0,0,0,0.3);\r\n    z-index: 3;\r\n    opacity: 100;\r\n    cursor: pointer;\r\n}\r\n\r\n.loading-overlay .loading-spinner {\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\n.loading-overlay .spinner-border {\r\n    width: 3rem;\r\n    height: 3rem;\r\n}\r\n\r\n/* Touch Keypad */\r\n\r\n.touch-keypad {\r\n    position: fixed;\r\n    left: 0;\r\n    bottom: 0;\r\n    width: 100%;\r\n    margin: 0px;\r\n    padding: 0px;\r\n    z-index: 2;\r\n    background: rgba(255, 255, 255, 0.4);\r\n    display: none;\r\n    padding-bottom: env(safe-area-inset-bottom);\r\n}\r\n\r\n.touch-keypad .numeric-keypad {\r\n    width: 75%;\r\n}\r\n\r\n.touch-keypad .letter-keypad {\r\n    width: 25%;\r\n    overflow-x: hidden;\r\n    overflow-y: auto;\r\n    white-space: nowrap;\r\n    justify-content: flex-start;\r\n}\r\n\r\n.touch-keypad-key {\r\n    min-height: 58px;\r\n}\r\n\r\n/* Route selection */\r\n\r\n.route-selection .route-id {\r\n    padding-right: 16px;\r\n    font-weight: bold;\r\n}\r\n\r\n.route-selection .stop-info {\r\n    margin-left: 8px;\r\n    margin-right: 8px;\r\n}\r\n\r\n.route-selection .stop-info .badge {\r\n\r\n}\r\n\r\n.route-selection .stop-info .col-sm-12{\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis; \r\n    width: inherit;\r\n}\r\n\r\n/* Search Transit Field */\r\n\r\n#search-transit-text {\r\n    background-color: #fff;\r\n}\r\n\r\n/* Half-map Panel */\r\n.half-map-panel {\r\n    display: none;\r\n    background-color: unset;\r\n    padding: 8px;\r\n    margin-bottom: 0px;\r\n    position: relative;\r\n    z-index: 1;\r\n}\r\n\r\n.mobile-split-container {\r\n    /*margin-top: 50vh;*/\r\n    display: none;\r\n    position: fixed;\r\n    left: 0;\r\n    bottom: 0;\r\n    width: 100%;\r\n    height: 80%;\r\n    padding: 0px;\r\n    background-color: rgba(233,236,239,0.8);\r\n}\r\n\r\n/* Route list */\r\n\r\n.view-alert-btn {\r\n    font-size: inherit;\r\n    padding: 0px;\r\n}\r\n\r\n/* Media Query */\r\n@media only screen and (min-width: 768px) {\r\n    .top-panel {\r\n        /*width: 25%;*/\r\n    }\r\n\r\n    .half-map-panel {\r\n        /*width: 25%;*/\r\n    }\r\n\r\n    .half-map-container {\r\n        /*width: 25%;*/\r\n        margin-left: 0;\r\n    }\r\n\r\n    .content-panel-container {\r\n        /*width: 25%;*/\r\n        margin-left: 0;\r\n    }\r\n\r\n    .request-progress-panel {\r\n        width: 25%;\r\n    }\r\n\r\n    #gtw-map {\r\n        width: 100vw;\r\n        /*width: 75%;\r\n        margin-left: 25%;*/\r\n    }\r\n\r\n    .gtw-container {\r\n        width: 35%;\r\n    }\r\n\r\n    .map-overlay {\r\n        width: 35%;\r\n        /*display: none;*/\r\n    }\r\n\r\n    .touch-keypad {\r\n        width: 35%;\r\n    }\r\n\r\n    .getting-started-panel {\r\n        /*width: 25%;*/\r\n    }\r\n\r\n    .desktop.half-map-panel.gtw-half-map {\r\n        display: block;\r\n    }\r\n\r\n    .desktop.half-map-container.gtw-half-map {\r\n        display: block;\r\n    }\r\n\r\n    .mobile.half-map-panel.gtw-half-map {\r\n        display: none;\r\n    }\r\n\r\n    .mobile.half-map-container.gtw-half-map {\r\n        display: none;\r\n    }\r\n}\r\n\r\n@media only screen and (max-width: 768px) {\r\n    .gtw-container nav {\r\n        margin-top: env(safe-area-inset-top);\r\n        background-color: unset;\r\n    }\r\n\r\n    .toast-stack-container {\r\n        margin-top: env(safe-area-inset-top);\r\n        margin-bottom: env(safe-area-inset-bottom);\r\n    }\r\n\r\n    .getting-started-panel {\r\n        padding-top: env(safe-area-inset-top);\r\n        padding-bottom: env(safe-area-inset-bottom);\r\n    }\r\n\r\n    .modal {\r\n        padding-top: env(safe-area-inset-top);\r\n        padding-bottom: env(safe-area-inset-bottom);\r\n    }\r\n\r\n    .mobile-split-container.gtw-half-map {\r\n        display: block;\r\n    }\r\n\r\n    .startup .progress-panel {\r\n        padding-bottom: env(safe-area-inset-bottom);\r\n    }\r\n\r\n    /*\r\n    body.gtw-half-map {\r\n        overflow-y: scroll;\r\n    }\r\n\r\n    #gtw-map {\r\n        display: none;\r\n    }\r\n    */\r\n\r\n    .map-overlay.gtw-half-map {\r\n        display: none;\r\n        /*margin-top: 50vh;\r\n        height: 50vh;*/\r\n    }\r\n\r\n    /*\r\n    #gtw-map.gtw-half-map {\r\n        height: 50vh;\r\n        display: block;\r\n    }\r\n    */\r\n\r\n    .desktop.half-map-panel.gtw-half-map {\r\n        display: none;\r\n    }\r\n\r\n    .desktop.half-map-container.gtw-half-map {\r\n        display: none;\r\n    }\r\n\r\n    .mobile.half-map-panel.gtw-half-map {\r\n        display: block;\r\n        /*height: 20vh;*/\r\n    }\r\n\r\n    .mobile.half-map-container.gtw-half-map {\r\n        display: block;\r\n        /*height: 30vh;*/\r\n        height: inherit;\r\n    }\r\n}\r\n\r\n/*\r\n@media only screen and (max-height: 768px) and (orientation: landscape) {\r\n    .landscape-notice {\r\n        display: block;\r\n    }\r\n}\r\n*/\r\n\r\n@media screen and (max-width: 470px) {\r\n    .startup h1 {\r\n        font-size: 10vw;\r\n    }\r\n}\r\n\r\n@media (prefers-color-scheme: dark) {\r\n    .map-overlay {\r\n        background-color: rgba(150, 150, 150, 0.8);\r\n    }\r\n\r\n    .mobile-split-container {\r\n        background-color: rgba(150, 150, 150, 0.8);\r\n    }\r\n\r\n    .list-group-item-light {\r\n        background-color: #dadada;\r\n    }\r\n    \r\n    #search-transit-text {\r\n        background-color: #ececec;\r\n    }\r\n\r\n    .btn, .btn-link, a {\r\n        color: #fff;\r\n    }\r\n\r\n    /*\r\n    .timeline-icon {\r\n        background: #a9a9a9;\r\n        color: #fff;\r\n    }\r\n\r\n    .timeline-icon.bg-light {\r\n        background-color: #a9a9a9!important;\r\n    }\r\n\r\n    .timeline-label {\r\n        background: #a9a9a9!important;\r\n    }\r\n\r\n    .timeline-label p{\r\n        color: #fff!important;\r\n    }\r\n    */\r\n\r\n    .startup {\r\n        background-color: #000;\r\n        color: #fff;\r\n    }\r\n\r\n    .build-version{\r\n        color: #fff;\r\n    }\r\n\r\n    .text-dark {\r\n        color: #fff!important;\r\n    }\r\n\r\n    #gettingStartedWizard {\r\n        background-color: #989898;\r\n    }\r\n\r\n    #gettingStartedWizard .nav-tabs{\r\n        border-bottom: unset;\r\n    }\r\n\r\n    #gettingStartedWizard li.active {\r\n        color: #ffffff!important;\r\n    }\r\n\r\n    #gettingStartedWizard li.done {\r\n        color: #cecece!important;\r\n    }\r\n\r\n    #gettingStartedWizard .step-content {\r\n        background-color: #989898;\r\n        color: #fff;\r\n    }\r\n\r\n    #gettingStartedWizard .sw-toolbar {\r\n        background-color: #989898;\r\n    }\r\n    \r\n}",""])},153:function(n,r,e){var t=e(154);"string"==typeof t&&(t=[[n.i,t,""]]);var i={insert:"head",singleton:!1};e(29)(t,i);t.locals&&(n.exports=t.locals)},154:function(n,r,e){(n.exports=e(28)(!1)).push([n.i,'\r\nimg {\r\n    vertical-align: middle;\r\n}\r\n\r\n.img-responsive {\r\n    display: block;\r\n    height: auto;\r\n    max-width: 100%;\r\n}\r\n\r\n.img-rounded {\r\n    border-radius: 3px;\r\n}\r\n\r\n.img-thumbnail {\r\n    background-color: #fff;\r\n    border: 1px solid #ededf0;\r\n    border-radius: 3px;\r\n    display: inline-block;\r\n    height: auto;\r\n    line-height: 1.428571429;\r\n    max-width: 100%;\r\n    moz-transition: all .2s ease-in-out;\r\n    o-transition: all .2s ease-in-out;\r\n    padding: 2px;\r\n    transition: all .2s ease-in-out;\r\n    webkit-transition: all .2s ease-in-out;\r\n}\r\n\r\n.img-circle {\r\n    border-radius: 50%;\r\n}\r\n\r\n.timeline-centered {\r\n    position: relative;\r\n    margin-bottom: 30px;\r\n}\r\n\r\n    .timeline-centered:before, .timeline-centered:after {\r\n        content: " ";\r\n        display: table;\r\n    }\r\n\r\n    .timeline-centered:after {\r\n        clear: both;\r\n    }\r\n\r\n    .timeline-centered:before, .timeline-centered:after {\r\n        content: " ";\r\n        display: table;\r\n    }\r\n\r\n    .timeline-centered:after {\r\n        clear: both;\r\n    }\r\n\r\n    .timeline-centered:before {\r\n        content: \'\';\r\n        position: absolute;\r\n        display: block;\r\n        width: 4px;\r\n        background: #f5f5f6;\r\n        /*left: 50%;*/\r\n        top: 20px;\r\n        bottom: 20px;\r\n        margin-left: 30px;\r\n    }\r\n\r\n    .timeline-centered .timeline-entry {\r\n        position: relative;\r\n        /*width: 50%;\r\n        float: right;*/\r\n        margin-top: 5px;\r\n        margin-left: 30px;\r\n        margin-bottom: 10px;\r\n        clear: both;\r\n    }\r\n\r\n        .timeline-centered .timeline-entry:before, .timeline-centered .timeline-entry:after {\r\n            content: " ";\r\n            display: table;\r\n        }\r\n\r\n        .timeline-centered .timeline-entry:after {\r\n            clear: both;\r\n        }\r\n\r\n        .timeline-centered .timeline-entry:before, .timeline-centered .timeline-entry:after {\r\n            content: " ";\r\n            display: table;\r\n        }\r\n\r\n        .timeline-centered .timeline-entry:after {\r\n            clear: both;\r\n        }\r\n\r\n        .timeline-centered .timeline-entry.begin {\r\n            margin-bottom: 0;\r\n        }\r\n\r\n        .timeline-centered .timeline-entry.left-aligned {\r\n            float: left;\r\n        }\r\n\r\n            .timeline-centered .timeline-entry.left-aligned .timeline-entry-inner {\r\n                margin-left: 0;\r\n                margin-right: -18px;\r\n            }\r\n\r\n                .timeline-centered .timeline-entry.left-aligned .timeline-entry-inner .timeline-time {\r\n                    left: auto;\r\n                    right: -100px;\r\n                    text-align: left;\r\n                }\r\n\r\n                .timeline-centered .timeline-entry.left-aligned .timeline-entry-inner .timeline-icon {\r\n                    float: right;\r\n                }\r\n\r\n                .timeline-centered .timeline-entry.left-aligned .timeline-entry-inner .timeline-label {\r\n                    margin-left: 0;\r\n                    margin-right: 70px;\r\n                }\r\n\r\n                    .timeline-centered .timeline-entry.left-aligned .timeline-entry-inner .timeline-label:after {\r\n                        left: auto;\r\n                        right: 0;\r\n                        margin-left: 0;\r\n                        margin-right: -9px;\r\n                        -moz-transform: rotate(180deg);\r\n                        -o-transform: rotate(180deg);\r\n                        -webkit-transform: rotate(180deg);\r\n                        -ms-transform: rotate(180deg);\r\n                        transform: rotate(180deg);\r\n                    }\r\n\r\n        .timeline-centered .timeline-entry .timeline-entry-inner {\r\n            position: relative;\r\n            margin-left: -20px;\r\n        }\r\n\r\n            .timeline-centered .timeline-entry .timeline-entry-inner:before, .timeline-centered .timeline-entry .timeline-entry-inner:after {\r\n                content: " ";\r\n                display: table;\r\n            }\r\n\r\n            .timeline-centered .timeline-entry .timeline-entry-inner:after {\r\n                clear: both;\r\n            }\r\n\r\n            .timeline-centered .timeline-entry .timeline-entry-inner:before, .timeline-centered .timeline-entry .timeline-entry-inner:after {\r\n                content: " ";\r\n                display: table;\r\n            }\r\n\r\n            .timeline-centered .timeline-entry .timeline-entry-inner:after {\r\n                clear: both;\r\n            }\r\n\r\n            .timeline-centered .timeline-entry .timeline-entry-inner .timeline-time {\r\n                position: absolute;\r\n                left: -100px;\r\n                text-align: right;\r\n                padding: 10px;\r\n                -webkit-box-sizing: border-box;\r\n                -moz-box-sizing: border-box;\r\n                box-sizing: border-box;\r\n            }\r\n\r\n                .timeline-centered .timeline-entry .timeline-entry-inner .timeline-time > span {\r\n                    display: block;\r\n                }\r\n\r\n                    .timeline-centered .timeline-entry .timeline-entry-inner .timeline-time > span:first-child {\r\n                        font-size: 15px;\r\n                        font-weight: bold;\r\n                    }\r\n\r\n                    .timeline-centered .timeline-entry .timeline-entry-inner .timeline-time > span:last-child {\r\n                        font-size: 12px;\r\n                    }\r\n\r\n            .timeline-centered .timeline-entry .timeline-entry-inner .timeline-icon {\r\n                background: #fff;\r\n                color: #737881;\r\n                display: block;\r\n                width: 40px;\r\n                height: 40px;\r\n                -webkit-background-clip: padding-box;\r\n                -moz-background-clip: padding;\r\n                background-clip: padding-box;\r\n                -webkit-border-radius: 20px;\r\n                -moz-border-radius: 20px;\r\n                border-radius: 20px;\r\n                text-align: center;\r\n                -moz-box-shadow: 0 0 0 5px #f5f5f6;\r\n                -webkit-box-shadow: 0 0 0 5px #f5f5f6;\r\n                box-shadow: 0 0 0 5px #f5f5f6;\r\n                line-height: 40px;\r\n                font-size: 15px;\r\n                float: left;\r\n            }\r\n\r\n                .timeline-centered .timeline-entry .timeline-entry-inner .timeline-icon.bg-primary {\r\n                    background-color: #303641;\r\n                    color: #fff;\r\n                }\r\n\r\n                .timeline-centered .timeline-entry .timeline-entry-inner .timeline-icon.bg-secondary {\r\n                    background-color: #ee4749;\r\n                    color: #fff;\r\n                }\r\n\r\n                .timeline-centered .timeline-entry .timeline-entry-inner .timeline-icon.bg-success {\r\n                    background-color: #00a651;\r\n                    color: #fff;\r\n                }\r\n\r\n                .timeline-centered .timeline-entry .timeline-entry-inner .timeline-icon.bg-info {\r\n                    background-color: #21a9e1;\r\n                    color: #fff;\r\n                }\r\n\r\n                .timeline-centered .timeline-entry .timeline-entry-inner .timeline-icon.bg-warning {\r\n                    background-color: #fad839;\r\n                    color: #fff;\r\n                }\r\n\r\n                .timeline-centered .timeline-entry .timeline-entry-inner .timeline-icon.bg-danger {\r\n                    background-color: #cc2424;\r\n                    color: #fff;\r\n                }\r\n\r\n            .timeline-centered .timeline-entry .timeline-entry-inner .timeline-label {\r\n                position: relative;\r\n                background: #f5f5f6;\r\n                padding: 1em;\r\n                margin-left: 60px;\r\n                -webkit-background-clip: padding-box;\r\n                -moz-background-clip: padding;\r\n                background-clip: padding-box;\r\n                -webkit-border-radius: 3px;\r\n                -moz-border-radius: 3px;\r\n                border-radius: 3px;\r\n            }\r\n\r\n                .timeline-centered .timeline-entry .timeline-entry-inner .timeline-label:after {\r\n                    content: \'\';\r\n                    display: block;\r\n                    position: absolute;\r\n                    width: 0;\r\n                    height: 0;\r\n                    border-style: solid;\r\n                    border-width: 9px 9px 9px 0;\r\n                    border-color: transparent #f5f5f6 transparent transparent;\r\n                    left: 0;\r\n                    top: 10px;\r\n                    margin-left: -9px;\r\n                }\r\n\r\n                .timeline-centered .timeline-entry .timeline-entry-inner .timeline-label h2, .timeline-centered .timeline-entry .timeline-entry-inner .timeline-label p {\r\n                    color: #737881;\r\n                    font-family: "Noto Sans",sans-serif;\r\n                    font-size: 12px;\r\n                    margin: 0;\r\n                    line-height: 1.428571429;\r\n                }\r\n\r\n                    .timeline-centered .timeline-entry .timeline-entry-inner .timeline-label p + p {\r\n                        margin-top: 15px;\r\n                    }\r\n\r\n                .timeline-centered .timeline-entry .timeline-entry-inner .timeline-label h2 {\r\n                    font-size: 16px;\r\n                }\r\n\r\n                    .timeline-centered .timeline-entry .timeline-entry-inner .timeline-label h2 button {\r\n                        color: #303641;\r\n                    }\r\n\r\n                    .timeline-centered .timeline-entry .timeline-entry-inner .timeline-label h2 span {\r\n                        -webkit-opacity: .6;\r\n                        -moz-opacity: .6;\r\n                        opacity: .6;\r\n                        -ms-filter: alpha(opacity=60);\r\n                        filter: alpha(opacity=60);\r\n                    }\r\n',""])},16:function(n,r,e){"use strict";(function(n){e.d(r,"d",(function(){return o})),e.d(r,"b",(function(){return c})),e.d(r,"e",(function(){return u})),e.d(r,"a",(function(){return d})),e.d(r,"c",(function(){return f}));var t=e(8),i=e(6),a=e(42),o={},s=[],l=["gtwp-kmb"];function c(n,r){return!function(n){for(var r of s)if(r===n)return!0;return!1}(n)&&(s.push(n),!1!==r&&p(),!0)}async function u(n,r){var e;for(await i.b(n),e=0;e<s.length;e++)if(s[e]===n)return s.splice(e,1),!1!==r&&p(),!0;return!1}function d(n){return o[n]}function p(){return window.localStorage.setItem("gtw-plugins",JSON.stringify(s)),!0}function f(r){if(localStorage){var i=localStorage.getItem("gtw-plugins");i&&(s=JSON.parse(i)),s&&"number"==typeof s.length||(console.warn("Warning: Installed plugins JSON string is invalid. Resetting as empty."),p());var c=[];for(var d of s){if(l.includes(d)){alert(n.i18n("plugin-deprecated-auto-uninstall",d)),u(d);continue}const r={package:d,status:1,msg:"Not Enabled"};a[d]?c.push(new Promise((t,i)=>{e(165)(`./${d}/index.js`).then((function(e){var a;if(e)if(e.onload&&"function"==typeof e.onload){new Promise((n,r)=>{var t=e.onload();t instanceof Promise?t.then(n).catch(r):n(t)}).then((function(e){if(e)r.status=0,delete r.msg;else{var i=n.i18n("plugin-error-onload-function-error",d);console.error(i),r.status=-4,r.msg=i}t()})).catch(i)}else a=n.i18n("plugin-error-no-onload-function",d),console.error(a),r.status=-3,r.msg=a;else a=n.i18n("plugin-error-no-module-returned",d),console.error(a),r.status=-2,r.msg=a}))})):(r.status=-1,r.msg="This plugin is not available in this version of GoToWhere."),o[d]=r}return t.a(c,r)}console.error("Error: LocalStorage is not supported in this browser.")}}).call(this,e(0))},162:function(n,r,e){var t={"./en.json":[191,43],"./zh.json":[192,44]};function i(n){if(!e.o(t,n))return Promise.resolve().then((function(){var r=new Error("Cannot find module '"+n+"'");throw r.code="MODULE_NOT_FOUND",r}));var r=t[n],i=r[0];return e.e(r[1]).then((function(){return e.t(i,3)}))}i.keys=function(){return Object.keys(t)},i.id=162,n.exports=i},163:function(n,r,e){n.exports=e.p+"1.3143549eae1b49940de8.worker.js"},164:function(n,r,e){n.exports=e.p+"2.b6dfd31411fea68be1fe.worker.js"},165:function(n,r,e){var t={"./gtwp-ctbnwfb/index.js":[193,45],"./gtwp-hktransit/index.js":[194,46],"./gtwp-kmblwb/index.js":[195,47]};function i(n){if(!e.o(t,n))return Promise.resolve().then((function(){var r=new Error("Cannot find module '"+n+"'");throw r.code="MODULE_NOT_FOUND",r}));var r=t[n],i=r[0];return e.e(r[1]).then((function(){return e(i)}))}i.keys=function(){return Object.keys(t)},i.id=165,n.exports=i},166:function(n,r,e){n.exports=e.p+"0.678b40c2897f099dac40.worker.js"},184:function(n,r,e){var t={"./gtw-map-googlemap":[96,2],"./gtw-map-googlemap.js":[96,2]};function i(n){if(!e.o(t,n))return Promise.resolve().then((function(){var r=new Error("Cannot find module '"+n+"'");throw r.code="MODULE_NOT_FOUND",r}));var r=t[n],i=r[0];return e.e(r[1]).then((function(){return e(i)}))}i.keys=function(){return Object.keys(t)},i.id=184,n.exports=i},185:function(n,r,e){var t={"./gtw-ui-modal-about":[97,3],"./gtw-ui-modal-about.js":[97,3],"./gtw-ui-modal-errorplugins":[98,4],"./gtw-ui-modal-errorplugins.js":[98,4],"./gtw-ui-modal-loading":[99,5],"./gtw-ui-modal-loading.js":[99,5],"./gtw-ui-modal-pluginclosedapi":[100,6],"./gtw-ui-modal-pluginclosedapi.js":[100,6],"./gtw-ui-modal-pluginmanager":[101,0],"./gtw-ui-modal-pluginmanager.js":[101,0],"./gtw-ui-modal-settings":[102,7],"./gtw-ui-modal-settings.js":[102,7],"./gtw-ui-modal-updated":[103,8],"./gtw-ui-modal-updated.js":[103,8],"./gtw-ui-modal-viewgtfsalerts":[104,9],"./gtw-ui-modal-viewgtfsalerts.js":[104,9],"./gtw-ui-modal-viewplugin":[105,10],"./gtw-ui-modal-viewplugin.js":[105,10]};function i(n){if(!e.o(t,n))return Promise.resolve().then((function(){var r=new Error("Cannot find module '"+n+"'");throw r.code="MODULE_NOT_FOUND",r}));var r=t[n],i=r[0];return e.e(r[1]).then((function(){return e(i)}))}i.keys=function(){return Object.keys(t)},i.id=185,n.exports=i},186:function(n,r,e){var t={"./modal-about-header.html":[197,17],"./modal-errorplugins-header.html":[198,20],"./modal-loading-header.html":[199,23],"./modal-pluginclosedapi-header.html":[200,26],"./modal-pluginmanager-header.html":[201,29],"./modal-settings-header.html":[202,32],"./modal-updated-header.html":[203,35],"./modal-viewgtfsalerts-header.html":[204,38],"./modal-viewplugin-header.html":[205,41]};function i(n){if(!e.o(t,n))return Promise.resolve().then((function(){var r=new Error("Cannot find module '"+n+"'");throw r.code="MODULE_NOT_FOUND",r}));var r=t[n],i=r[0];return e.e(r[1]).then((function(){return e.t(i,7)}))}i.keys=function(){return Object.keys(t)},i.id=186,n.exports=i},187:function(n,r,e){var t={"./modal-about-body.html":[206,15],"./modal-errorplugins-body.html":[207,18],"./modal-loading-body.html":[208,21],"./modal-pluginclosedapi-body.html":[209,24],"./modal-pluginmanager-body.html":[210,27],"./modal-settings-body.html":[211,30],"./modal-updated-body.html":[212,33],"./modal-viewgtfsalerts-body.html":[213,36],"./modal-viewplugin-body.html":[214,39]};function i(n){if(!e.o(t,n))return Promise.resolve().then((function(){var r=new Error("Cannot find module '"+n+"'");throw r.code="MODULE_NOT_FOUND",r}));var r=t[n],i=r[0];return e.e(r[1]).then((function(){return e.t(i,7)}))}i.keys=function(){return Object.keys(t)},i.id=187,n.exports=i},188:function(n,r,e){var t={"./modal-about-footer.html":[215,16],"./modal-errorplugins-footer.html":[216,19],"./modal-loading-footer.html":[217,22],"./modal-pluginclosedapi-footer.html":[218,25],"./modal-pluginmanager-footer.html":[219,28],"./modal-settings-footer.html":[220,31],"./modal-updated-footer.html":[221,34],"./modal-viewgtfsalerts-footer.html":[222,37],"./modal-viewplugin-footer.html":[223,40]};function i(n){if(!e.o(t,n))return Promise.resolve().then((function(){var r=new Error("Cannot find module '"+n+"'");throw r.code="MODULE_NOT_FOUND",r}));var r=t[n],i=r[0];return e.e(r[1]).then((function(){return e.t(i,7)}))}i.keys=function(){return Object.keys(t)},i.id=188,n.exports=i},189:function(n,r,e){var t={"./gtw-ui-tab-transit":[106,1],"./gtw-ui-tab-transit.js":[106,1]};function i(n){if(!e.o(t,n))return Promise.resolve().then((function(){var r=new Error("Cannot find module '"+n+"'");throw r.code="MODULE_NOT_FOUND",r}));var r=t[n],i=r[0];return e.e(r[1]).then((function(){return e(i)}))}i.keys=function(){return Object.keys(t)},i.id=189,n.exports=i},190:function(n,r,e){"use strict";(function(n){var r=e(7),t=1e3,i=[],a=console.trace;console.trace=function(n){b("console",n,-1)};var o=console.debug;console.debug=function(n){b("console",n,-2)};var s=console.log;console.log=function(n){b("console",n,0)};var l=console.warn;console.warn=function(n){b("console",n,1)};var c=console.error;console.error=function(n){b("console",n,2)};var u=!0;function d(n,r){-2===r?a(n):-1===r?o(n):0===r?s(n):1===r?l(n):2===r&&c(n)}function p(e,a,o,s){i.length>=t&&i.shift(),i.push({time:o,msg:a,level:s}),r.get("show_debug_msg",!1)&&function(r,e,t,i,a){if(a<=0)return;if(f===t&&g===e&&m===a&&i-h<7500)return;h=i,f=t,g=e,m=a;var o=n("#gtw-toast-stack"),s="Unknown",l="";-2===a?s="Trace":-1===a?s="Debug":0===a?(s="Info",l=" text-primary"):1===a?(s="Warning",l=" text-warning"):2===a&&(s="Error",l=" text-danger");var c='<div class="toast" role="alert" log-entry-id="'+r+'">    <div class="toast-header">        <strong class="mr-auto'+l+'">'+s+" ("+e+')</strong>        <small class="text-muted">'+new Date(i).toLocaleString()+'</small>        <button type="button" class="ml-2 mb-1 close" data-dismiss="toast" aria-label="Close"><span aria-hidden="true">&times;</span></button>    </div>    <div class="toast-body">'+t+"    </div></div>";o.children().length>=3&&o.children().each((function(r){r>=2&&n(this).toast("hide")}));o.prepend(c);var u=".toast[log-entry-id='"+r+"']";n(u).on("hidden.bs.toast",(function(){n(this).remove()})),n(u).toast({animation:!0,autohide:!0,delay:5e3}),n(u).toast("show")}(i.length,e,a,o,s)}var f=0,g=0,m=0,h=0;function b(n="unknown",r,e=0){var t=Date.now();if("object"==typeof r)if(u)d("["+new Date(t).toLocaleString()+"] ["+n+"]",e),d(r,e);else{var i=JSON.stringify(r);d("["+new Date(t).toLocaleString()+"] ["+n+"] "+i,e)}else d("["+new Date(t).toLocaleString()+"] ["+n+"] "+r,e);p(n,r,t,e)}}).call(this,e(0))},2:function(n,r,e){"use strict";e.d(r,"c",(function(){return a})),e.d(r,"g",(function(){return o})),e.d(r,"i",(function(){return s})),e.d(r,"a",(function(){return l})),e.d(r,"h",(function(){return c})),e.d(r,"d",(function(){return u})),e.d(r,"e",(function(){return d})),e.d(r,"b",(function(){return p})),e.d(r,"f",(function(){return f}));var t=e(93),i=!1;function a(){return new Promise((n,r)=>{e(184)(`./gtw-map-${t.a.mapApi}`).then((function(r){i=r,window.k=i,i.init().then((function(){n()}))}))})}function o(n){return i.setCenter(n)}function s(n){return i.setZoom(n)}function l(n,r){return i.addMarker(n,r)}function c(n,r){return i.setMarkerPosition(n,r)}function u(n){return i.lockMarker(n)}function d(){return i.removeAllMarkers()}function p(n,r,e,t=1,a=!0){return i.addPolyline(n,r,e,t,a)}function f(){return i.removeAllPolylines()}},21:function(n,r,e){"use strict";(function(n){e.d(r,"c",(function(){return u})),e.d(r,"b",(function(){return p})),e.d(r,"d",(function(){return f})),e.d(r,"a",(function(){return g}));var t=e(2),i=e(16),a=e(30),o=e(5),s=!1,l=!1;n(document).ready((function(){n(".header-links-plugins").on("click",(function(){f("pluginmanager")})),n(".header-links-settings").on("click",(function(){f("settings")})),n(".header-links-github").on("click",(function(){window.open("https://github.com/mob41/GoToWhere")})),n(".header-links-about").on("click",(function(){f("about")})),n(".header-links-feedback").on("click",(function(){window.open("https://forms.gle/nP9cp1V2rqhdqybv5")}))})),n(".ui-tab").on("click",(function(){if(!n(this).hasClass("btn-primary")){n(".ui-tab").removeClass("btn-primary"),n(".ui-tab").removeClass("btn-link");var r=n(this).attr("gtw-tab");n(this).addClass("btn-primary"),n(".ui-tab:not([gtw-tab='"+r+"'])").addClass("btn-link"),b(r)}})),n(".btn").on("click",(function(){n(this).blur()})),n(".ui-half-map-back-btn").on("click",(function(){o.c(o.a.EVENT_UI_BACK),t.g(a.a()),t.i(16),t.e(),t.f(),d()}));var c=50;function u(){0===Object.keys(i.d).length&&(h(),m(),e.e(14).then(e.bind(null,196)).then((function(n){n.enable()}))),b("transit"),adjustMargin(),d()}function d(){n(".content-panel-container").css("display","inline-block"),n(".top-panel").css("display","block"),n(".header nav").removeClass("gtw-half-map"),n("body").removeClass("gtw-half-map"),n("#gtw-map").removeClass("gtw-half-map"),n(".map-overlay").removeClass("gtw-half-map"),n(".half-map-panel").removeClass("gtw-half-map"),n(".half-map-container").removeClass("gtw-half-map"),n(".mobile-split-container").removeClass("gtw-half-map"),adjustMargin()}function p(){n(".top-panel").css("display","none"),n(".content-panel-container").css("display","none"),n(".header nav").addClass("gtw-half-map"),n("#gtw-map").addClass("gtw-half-map"),n(".map-overlay").addClass("gtw-half-map"),n(".half-map-panel").addClass("gtw-half-map"),n(".half-map-container").addClass("gtw-half-map"),n(".mobile-split-container").addClass("gtw-half-map"),adjustMargin()}function f(r,...t){m(),function(r,t={}){const i="modal-"+r;!0===t&&((t={}).backdrop="static",t.keyboard=!1);var a=[];a.push(e(186)(`./${i}-header.html`).then((function(r){n(".modal-header").html(r.default)}))),a.push(e(187)(`./${i}-body.html`).then((function(r){n(".modal-body").html(r.default)}))),a.push(e(188)(`./${i}-footer.html`).then((function(r){n(".modal-footer").html(r.default)})));var o=Promise.all(a);return o.then((function(){n(".modal").modal(t)})),o}(r,!0).then((function(){n(".modal").i18n(),e(185)(`./gtw-ui-modal-${r}`).then((function(n){l=n,n.enable.apply(this,t)}))}))}function g(){n(".modal").modal("hide"),m()}function m(){l&&(l.disable(),l=!1)}function h(){s&&(s.disable(),s=!1)}function b(n){h(),e(189)(`./gtw-ui-tab-${n}`).then((function(n){s=n,n.enable()}))}n(".ui-pull-up-btn").on("click",(function(){c>=90||(c+=10,n(".mobile-split-container").css("height",c+"%"),adjustMargin())})),n(".ui-pull-down-btn").on("click",(function(){c<=10||(c-=10,n(".mobile-split-container").css("height",c+"%"),adjustMargin())})),window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&(n(".header nav").removeClass("navbar-light"),n(".header nav").addClass("navbar-dark"))}).call(this,e(0))},22:function(n,r,e){"use strict";e.r(r),e.d(r,"domains",(function(){return a})),e.d(r,"register",(function(){return o})),e.d(r,"extractHost",(function(){return s})),e.d(r,"isCors",(function(){return l}));var t=e(95);const i="https://";var a={};function o(n,r=!1){var e={};e.allowCors=r,a[n]=e}function s(n){if(!n.includes("://"))return"___local___";if(n.startsWith("file://"))return"___file___";var r=n.indexOf("://"),e=n.substring(r+3);return-1===(r=e.indexOf("/"))&&(r=e.length()),e.substring(0,r)}function l(n){if(!n.startsWith(i))return!0;var r=s(n);return a[r]?!a[r].allowCors:window.location.host!==r}e.n(t).a.before((function(n,r){var t=e(22),i=e(7);if(i.get("cors_check_bypass",!1))r();else{if(t.isCors(n.url)){var a=t.extractHost(n.url);if(!a||""===a||"___local___"===a)return void r();var o=t.domains[a];if(!o)return console.error('gtw-cors: The request to "'+a+'" was dropped, because this cross-domain host was not registered before performing AJAX.'),void r({status:403,statusText:"The request is dropped by GoToWhere because this host was not registered before performing AJAX.",headers:{}});if(o.allowCors)return void r();if(!i.get("use_cors_proxy",!0))return console.error("gtw-cors: The request was dropped because there are no proxy available to handle CORS requests."),void r({status:403,statusText:"The request was dropped because there are no proxy available to handle CORS requests.",headers:{}});var s=i.get("cors_proxy_server","https://cp1.gotowhere.ga/");if(!s.startsWith("https://")||!s.endsWith("/"))return console.error("gtw-cors: The provided CORS Proxy server is invalid! Please check if the server URL in the settings is correct!"),void r({status:403,statusText:"The provided CORS Proxy server is invalid! Please check if the server URL in the settings is correct!.",headers:{}});var l=n.url.indexOf("http://"),c=n.url.indexOf("https://");if(-1!==l&&-1===c)n.url=s+n.url.substring(l+7);else{if(-1!==l||-1===c)return console.error("gtw-cors: Invalid URL: "+n.url),void r({status:403,statusText:"Invalid URL: "+n.url,headers:{}});n.url=s+n.url.substring(c+8)}}r()}}))},30:function(n,r,e){"use strict";e.d(r,"e",(function(){return c})),e.d(r,"d",(function(){return u})),e.d(r,"c",(function(){return d})),e.d(r,"b",(function(){return p})),e.d(r,"a",(function(){return f}));var t=e(2),i=e(5);var a=0,o={lat:22.2952296,lng:114.1766577},s=!1,l=!1;function c(n=function(){},r=function(){}){if(navigator.geolocation){navigator.geolocation.getCurrentPosition((function(r){s=!0,o={lat:r.coords.latitude,lng:r.coords.longitude},t.g(o),t.i(16),a=t.a(o,{icon:"img/star.png"}),t.d(a),navigator.geolocation.watchPosition(g,m,{enableHighAccuracy:!1,timeout:5e3,maximumAge:0}),i.c(i.a.EVENT_LOCATION_SUCCESS),n(o)}),(function(n){s=!1,l=n,i.c(i.a.EVENT_LOCATION_ERROR,n),r(n)}),{timeout:1e4})}else r(ERROR_NOT_SUPPORTED)}function u(){return s}function d(){return!1!==l}function p(){return l}function f(){return o}function g(n){o={lat:n.coords.latitude,lng:n.coords.longitude},s=!0,l=!1,t.h(a,o),i.c(i.a.EVENT_LOCATION_CHANGE,o)}function m(n){s=!1,l=n,i.c(i.a.EVENT_LOCATION_ERROR,n)}},31:function(n,r,e){"use strict";e.d(r,"a",(function(){return i})),e.d(r,"b",(function(){return a}));var t=new(e(20).a)("gtw-db");async function i(n,r){return await t.transitReference.where("[package+provider]").equals([n,r]).first()}async function a(n){if(n.package&&n.provider)return await t.transitReference.put(n);console.error("Error: Database missing package or provider parameter(s).")}t.version(2).stores({pluginStorage:"package",transitReference:"[package+provider]"})},32:function(n,r,e){"use strict";e.r(r),function(n){e.d(r,"languages",(function(){return i})),e.d(r,"translatedString",(function(){return a})),e.d(r,"localizedKey",(function(){return o})),e.d(r,"getLanguage",(function(){return s})),e.d(r,"getLocale",(function(){return l})),e.d(r,"changeLanguage",(function(){return c}));var t=e(7);const i={en:"English",zh:"繁體中文"};function a(n){var r=s(),e=l();for(var t of n.translation)if(t.language===r)return t.text;for(var t of n.translation)if(t.language===e||t.language.split("-")[0]===e)return t.text;for(var t of n.translation)if("en"===t.language)return t.text;return!1}function o(n,r){var e=r+"_"+s(),t=r+"_"+l(),i=r+"_en";return n[e]?n[e]:n[t]?n[t]:n[i]?n[i]:!!n[r]&&n[r]}function s(){return t.get("preferred_language","en")}function l(){return t.get("preferred_language","en").split("-")[0]}function c(r){var a=!1;for(var o in i)if(r===o){a=!0;break}return!!a&&(t.set("preferred_language",r),t.save(),n.i18n().locale=r,e(162)(`./${r}.json`).then((function(e){n.i18n().load(e.default,r),n("body").i18n()})))}}.call(this,e(0))},33:function(n,r,e){"use strict";e.r(r),e.d(r,"clearCache",(function(){return s})),e.d(r,"timeDifference",(function(){return l})),e.d(r,"registerProvider",(function(){return c})),e.d(r,"unregisterProvider",(function(){return u})),e.d(r,"getProviders",(function(){return d})),e.d(r,"getProvider",(function(){return p})),e.d(r,"getEtaProvider",(function(){return f})),e.d(r,"fetchAllDatabase",(function(){return g})),e.d(r,"fetchEta",(function(){return m})),e.d(r,"getCache",(function(){return h}));e(8);var t=e(31),i=e(40),a=[],o={};function s(){o={}}function l(n,r){return 60*n.hr+n.min-(60*r.hr+r.min)}function c(n,r,e,t){if(!t.fetchEta||"function"!=typeof t.fetchEta||!t.fetchDatabase||"function"!=typeof t.fetchDatabase||!t.checkDatabaseUpdate||"function"!=typeof t.checkDatabaseUpdate)throw new Error("Error: "+r+" does not contain fetchEta, fetchDatabase or checkDatabaseUpdate function!");if(t.pkg=n,t.id=r,t.etaProviders=e,t.db=!1,"object"==typeof name)for(var i in t.name=name.default,name)t["name_"+i]=name[i];else t.name=name;a.push(t)}function u(n,r){for(var e=-1,t=0;t<a.length;t++)a[t].pkg===n&&a[t].id===r&&(e=t);a.splice(e,1)}function d(){return a}function p(n,r){for(var e of a)if(e.pkg===n&&e.id===r)return e;return!1}function f(n){for(var r of a)if(r.etaProviders.includes(n))return r;return!1}async function g(n){var r;for(var e of a)(r=await t.a(e.pkg,e.id))&&(e.db=r);var i={};for(var e of a)if(e.db){console.log("has db "+e.id);try{var o=await new Promise((n,r)=>{e.checkDatabaseUpdate(n,r,e.db.version)});console.log("update: "+e.id+" "+o),i[e.id]=o}catch(n){console.error("Error: Database check update for "+e.id+" failed!"),i[e.id]=!1}}else console.log("No db found for "+e.id),i[e.id]=!0;for(var e of(console.log(i),a))if(i[e.id])try{var s=await new Promise((n,r)=>{e.fetchDatabase(n,r)});if(!s.package||!s.provider||!s.version)return void console.error("Error: Returned reference database is missing version, package or provider parameter(s) for "+(s.provider?s.provider:"unknown provider")+".");e.db=s,await t.b(s)}catch(n){console.error("Error: Database fetch for "+e.id+" failed!")}}function m(n){return n.agency&&n.route&&n.trip&&n.stopTimes&&n.stop?new Promise((r,e)=>{var t=[],a=0;for(var s of n.etaProviders)t.push(new Promise((r,e)=>{var t=f(s);if(!t)return r(),void console.log('Could not find registered Transit ETA provider with name "'+s+'"');a++;var l=s+"-"+n.route.route_id+"-"+n.trip.trip_id+"-"+n.stop.stop_id,c=o[l],u=new Date;if(c&&u-c.lastFetched>3e4&&(c=!1,delete o[l]),c)r(c.feed);else{new Promise((r,e)=>{t.fetchEta(r,e,n)}).then((function(n){var e=i.transit_realtime.FeedMessage.fromObject(n),t=i.transit_realtime.FeedMessage.verify(e);if(null===t){var a=new Date;o[l]={lastFetched:a.getTime(),feed:e},r(e)}else console.error("Error: Returned feed is invalid: "+t)})).catch((function(r){e(n,r)}))}}));Promise.all(t).then((function(e){if(a>0){var t=[];for(var i of e)i&&i.header&&i.entity&&t.push(i);r({feeds:t,options:n,code:0})}else n.etaProviders&&n.etaProviders.length>0?r({code:-2,options:n}):r({code:-1,options:n})})).catch(e)}):(console.error("Error: Fetch ETA missing agency, route, trip or stop parameter."),!1)}function h(){return o}},42:function(n){n.exports=JSON.parse('{"gtwp-hktransit":{"package":"gtwp-hktransit","name":"HKTransit","fullName":"Hong Kong Transit Data","desc":"Official transit data from data.gov.hk","author":"mob41","license":"https://github.com/mob41/GoToWhere/tree/master/src/plugins/gtwp-hktransit/LICENSE","closedApi":false,"github":"https://github.com/mob41/GoToWhere/tree/master/src/plugins/gtwp-hktransit","version":"0.0.1","targetApi":"0.0.1","region":"HK","category":"transit","dependencies":{}},"gtwp-kmblwb":{"package":"gtwp-kmblwb","name":"KMBLWB","fullName":"Kowloon Motor Bus and Long Win Bus Transit ETA","desc":"Providing closed transit data from KMB and LWB.","author":"mob41","license":"https://github.com/mob41/GoToWhere/tree/master/src/plugins/gtwp-kmblwb/LICENSE","closedApi":true,"github":"https://github.com/mob41/GoToWhere/tree/master/src/plugins/gtwp-kmblwb","version":"0.0.1","targetApi":"0.0.1","region":"HK","category":"transitEta","dependencies":{}},"gtwp-ctbnwfb":{"package":"gtwp-ctbnwfb","name":"CTBNWFB","fullName":"Citybus and New World First Bus Transit ETA","desc":"Providing publicized transit data from Citybus and New World First Bus.","author":"mob41","license":"https://github.com/mob41/GoToWhere/tree/master/src/plugins/gtwp-ctbnwfb/LICENSE","closedApi":false,"github":"https://github.com/mob41/GoToWhere/tree/master/src/plugins/gtwp-ctbnwfb","version":"0.0.1","targetApi":"0.0.1","region":"HK","category":"transitEta","dependencies":{}}}')},43:function(n,r,e){"use strict";e.d(r,"b",(function(){return t})),e.d(r,"c",(function(){return o})),e.d(r,"a",(function(){return s}));var t=[],i=500,a=!1;function o(){a||(a=!0,function n(){var r=t.shift();r&&"function"==typeof r[0]&&r[0].apply(null,r[1]);a&&setTimeout((function(){n()}),i)}())}function s(){t=[]}},5:function(n,r,e){"use strict";e.d(r,"a",(function(){return t})),e.d(r,"c",(function(){return a})),e.d(r,"b",(function(){return o})),e.d(r,"d",(function(){return s}));const t={EVENT_UI_BACK:"EVENT_UI_BACK",EVENT_LOCATION_CHANGE:"EVENT_LOCATION_CHANGE",EVENT_LOCATION_SUCCESS:"EVENT_LOCATION_SUCCESS",EVENT_LOCATION_ERROR:"EVENT_LOCATION_ERROR"};var i={};function a(n,...r){if(i[n])for(var e of i[n])e?e.apply(this,r):s(e)}function o(n,r){i[n]||(i[n]=[]),i[n].push(r)}function s(n,r){if(i[n]){var e=i[n].indexOf(r);-1!==e&&i[n].splice(e,1)}}},6:function(n,r,e){"use strict";(function(n,t){e.d(r,"c",(function(){return o})),e.d(r,"v",(function(){return l})),e.d(r,"a",(function(){return c})),e.d(r,"b",(function(){return u})),e.d(r,"t",(function(){return d})),e.d(r,"i",(function(){return p})),e.d(r,"u",(function(){return f})),e.d(r,"p",(function(){return g})),e.d(r,"l",(function(){return m})),e.d(r,"j",(function(){return b})),e.d(r,"r",(function(){return v})),e.d(r,"g",(function(){return w})),e.d(r,"q",(function(){return y})),e.d(r,"s",(function(){return k})),e.d(r,"e",(function(){return _})),e.d(r,"f",(function(){return x})),e.d(r,"k",(function(){return E})),e.d(r,"o",(function(){return j})),e.d(r,"m",(function(){return O})),e.d(r,"h",(function(){return T})),e.d(r,"n",(function(){return C}));var i=e(20),a=e(8),o=new i.a("gtfs");o.version(1).stores({versions:"[package+provider],[package+provider+version],package",agency:"[package+provider+agency_id],[package+provider],[package+provider+version],package",calendar:"[package+provider+service_id],[package+provider],[package+provider+version],package",calendar_dates:"[package+provider+service_id+date],[package+provider],[package+provider+service_id],[package+provider+version],package",frequencies:"[package+provider+trip_id],[package+provider],[package+provider+version],package",routes:"[package+provider+route_id],[package+provider],route_short_name,[package+provider+version],package",trips:"[package+provider+trip_id],[package+provider],[package+provider+route_id],[package+provider+route_id+service_id],[package+provider+path_id],[package+provider+version],package",stops:"[package+provider+stop_id],[package+provider],[package+provider+version],package",stop_times:"++id, [package+provider+trip_id], [package+provider+stop_id], [package+provider],[package+provider+version],package",stop_time_paths:"++id, [package+provider+path_id], [package+provider+stop_id], [package+provider],[package+provider+version],package",fare_attributes:"[package+provider+fare_id],[package+provider],[package+provider+version],package",fare_rules:"[package+provider+fare_id],[package+provider],[package+provider+version],package",stop_times_raw:"[package+provider],[package+provider+version],package",fare_attributes_raw:"[package+provider],[package+provider+version],package",fare_rules_raw:"[package+provider],[package+provider+version],package"});var s=["versions","agency","calendar","calendar_dates","frequencies","routes","trips","stops","stop_times","stop_time_paths","fare_attributes","fare_rules","stop_times_raw","fare_attributes_raw","fare_rules_raw"];async function l(n,r,e,t){var i,a;for(var s in t)if("stop_times"!==s&&"fare_attributes"!==s&&"fare_rules"!==s&&(i=t[s],(a=await o[s].where("[package+provider+version]").equals([n,r,e]).count())!==i))return console.warn("Warning: "+n+","+r+" "+e+" version database invalid at "+s+" with different rows: "+a+" (Required: "+i+")"),!1;return!0}async function c(n,r){for(var e of s)await o[e].where("[package+provider]").equals([n,r]).delete()}async function u(n){for(var r of s)await o[r].where("package").equals(n).delete()}function d(n,r){r.startsWith('"')&&r.endsWith('"')&&(r=r.substr(1,r.length-2));for(var e=r.split("|"),t="["+n+"] ",i=0;i<e.length;i++)if(e[i].startsWith(t))return e[i].substr(t.length);var a=e[0],o=a.indexOf("] ");return-1===o?a:a.substr(o+2)}async function p(n,r,e){var t=await j(n,r,e);for(var i of t)if(h(n,r,i.trip_id))return i;return!1}function f(n){var r=n.split(":"),e=new Date;return e.setHours(r[0]),e.setMinutes(r[1]),e.setSeconds(r[2]),e}function g(n){var r=Date.now(),e=f(n.start_time),t=f(n.end_time);return r>=e.getTime()&&r<=t.getTime()}async function m(n,r,e,t){var i,a=await j(n,r,e),o=[];for(var s of a)if(s.path_id===t){var l=await b(n,r,s.trip_id);for(var c of l){for(var u of(i=!1,o))if(u.start_time===c.start_time&&u.end_time===c.end_time&&u.headway_secs===c.headway_secs){i=!0;break}i||o.push(c)}}return o}async function h(n,r,e){var t=await b(n,r,e);Date.now();for(var i of t)if(g(i))return i;return!1}async function b(n,r,e){return await o.frequencies.where("[package+provider+trip_id]").equals([n,r,e]).toArray()}async function v(n){return await o.routes.where("route_short_name").startsWithIgnoreCase(n).toArray()}async function w(n,r,e){return new Promise((t,i)=>{var a=[];o.routes.filter(r=>r.route_short_name.length>n).each(t=>{var i=t.route_short_name.substr(n,r);e&&a.includes(i)||a.push(i)}).then((function(){t(a)}))})}async function y(n,r,e,t=!0){var i=await o.stops.toArray(),s=[];return i.forEach(t=>{var i=a.c(n,r,t.stop_lat,t.stop_lon);i<=e&&s.push({distance:i,stop:t})}),t&&s.sort((n,r)=>n.distance-r.distance),s}function k(n,r,e){return new Promise((t,i)=>{var a=[],s=[],l={},c={},u={},d=Date.now();return async function(n,r,e){return await o.stop_time_paths.where("[package+provider+stop_id]").equals([n,r,e]).sortBy("path_id")}(n,r,e).then((function(e){for(var t of e){var i=t.path_id;a.push([n,r,i]),c[i]=t}console.log("PATH DONE: "+(Date.now()-d))})).then((function(){d=Date.now(),o.trips.where("[package+provider+path_id]").anyOf(a).each(e=>{var t=e.route_id;u[t]=e,s.push([n,r,t])}).then((function(){console.log("EACH DONE: "+(Date.now()-d)),d=Date.now(),o.routes.where("[package+provider+route_id]").anyOf(s).each(n=>{var r=n.route_id;l[r]=n}).then((function(){console.log("EACH2 DONE: "+(Date.now()-d)),t({routes:l,trips:u,stopTimes:c})}))}))}))})}async function _(){return await o.agency.toArray()}async function x(n,r,e){return await o.agency.where("[package+provider+agency_id]").equals([n,r,e]).first()}async function E(n,r,e){return await o.routes.where("[package+provider+route_id]").equals([n,r,e]).first()}async function j(n,r,e){return await o.trips.where("[package+provider+route_id]").equals([n,r,e]).toArray()}async function O(n,r,e){return await o.stops.where("[package+provider+stop_id]").equals([n,r,e]).first()}async function T(n,r,e){return await o.calendar.where("[package+provider+service_id]").equals([n,r,e]).first()}async function C(n,r,e){return await o.stop_time_paths.where("[package+provider+path_id]").equals([n,r,e]).sortBy("stop_sequence")}}).call(this,e(163),e(164))},7:function(n,r,e){"use strict";e.r(r),function(n){e.d(r,"getDefaultSettings",(function(){return i})),e.d(r,"json",(function(){return a})),e.d(r,"get",(function(){return o})),e.d(r,"set",(function(){return s})),e.d(r,"load",(function(){return l})),e.d(r,"save",(function(){return c}));const t="gtw-settings";function i(){return[{key:"preferred_language",type:"string",name:n.i18n("settings-key-preferred-language"),desc:n.i18n("settings-key-preferred-language-desc"),def:"en",checkfunc:function(n){var r=e(32).languages,t=!1;for(var i in r)if(i===n){t=!0;break}return t}},{key:"show_debug_msg",type:"boolean",name:n.i18n("settings-key-show-debug-msg"),desc:n.i18n("settings-key-show-debug-msg-desc"),def:!1},{key:"min_nearby_transit_range",type:"number",name:n.i18n("settings-key-min-nearby-transit-search-range"),desc:n.i18n("settings-key-min-nearby-transit-search-range-desc"),def:200,checkfunc:function(n){var r=parseInt(n);return!Number.isNaN(r)&&r<1e4}},{key:"max_nearby_transit_to_display",type:"number",name:n.i18n("settings-key-max-nearby-transit-to-be-displayed"),desc:n.i18n("settings-key-max-nearby-transit-to-be-displayed-desc"),def:20,checkfunc:function(n){var r=parseInt(n);return!Number.isNaN(r)&&r<100}},{key:"use_cors_proxy",type:"boolean",name:n.i18n("settings-key-use-cors-proxy"),desc:n.i18n("settings-key-use-cors-proxy-desc"),def:!0},{key:"cors_proxy_server",type:"string",name:n.i18n("settings-key-cors-proxy-server"),desc:n.i18n("settings-key-cors-proxy-server-desc"),def:"https://cp1.gotowhere.ga/",checkfunc:function(n){return n.startsWith("https://")&&n.endsWith("/")}},{key:"cors_check_bypass",type:"boolean",name:n.i18n("settings-key-cors-check-bypass"),desc:n.i18n("settings-key-cors-check-bypass-desc"),def:!1}]}var a={};function o(n,r=!1){var e=a[n];return void 0===e?r:e}function s(n,r){return a[n]=r,!0}function l(){if(!localStorage)return!1;var n=localStorage.getItem(t);if(!n)return c();var r=JSON.parse(n);return!!r&&(a=r,!0)}function c(){return!!localStorage&&(localStorage.setItem(t,JSON.stringify(a)),!0)}}.call(this,e(0))},8:function(n,r,e){"use strict";function t(n,r,e,t){var i=.017453292519943295,a=Math.cos,o=.5-a((e-n)*i)/2+a(n*i)*a(e*i)*(1-a((t-r)*i))/2;return 12742*Math.asin(Math.sqrt(o))}function i(n,r){let e=0;r(0);for(const t of n)t.then(()=>{r(100*++e/n.length)});return Promise.all(n)}function a(n){return n<10?"0"+n:n}e.d(r,"c",(function(){return t})),e.d(r,"a",(function(){return i})),e.d(r,"b",(function(){return a}))},9:function(n,r,e){"use strict";(function(n){e.d(r,"h",(function(){return p})),e.d(r,"e",(function(){return f})),e.d(r,"a",(function(){return g})),e.d(r,"j",(function(){return m})),e.d(r,"c",(function(){return h})),e.d(r,"b",(function(){return b})),e.d(r,"f",(function(){return w})),e.d(r,"d",(function(){return k})),e.d(r,"i",(function(){return _})),e.d(r,"g",(function(){return x})),e.d(r,"k",(function(){return E}));var t=e(8),i=e(6),a=(e(20),e(167),e(168),[]),o=[],s={},l={},c={},u={},d={};function p(n,r,e){if(!e.fetchDatabase||"function"!=typeof e.fetchDatabase||!e.checkDatabaseUpdate||"function"!=typeof e.checkDatabaseUpdate)throw new Error("Error: "+name+" does not contain fetchDatabase or checkDatabaseUpdate function!");e.pkg=n,e.id=r,e.db=!1,a.push(e)}function f(n){console.log("Obtaining db version");var r=[];for(var e of a)window.x=i.c,r.push(i.c.versions.where("[package+provider]").equals([e.pkg,e.id]).first().then((function(n){if(n){var r=n.package+","+n.provider;s[r]=n.version,d[r]=n.map}})));return t.a(r,n)}function g(n){console.log("DBVersions:"),console.log(s);var r,e=[];for(var i of a){var o=i.pkg+","+i.id;s[o]?(r=new Promise((n,r)=>{i.checkDatabaseUpdate(n,r,s[o])}),e.push(r.then((function(n){u[o]=n})).catch((function(n){console.error("Error: Promise rejected when checking update for "+o+".")})))):u[o]=!0}return t.a(e,n)}async function m(){var n;for(var r of a){var e=r.pkg+","+r.id;(n=d[e])?await i.v(r.pkg,r.id,s[e],n)||(console.warn("Warning: Invalid GTFS database compared with map! Forcing to update!"),u[e]=!0):(console.error("Error: GTFS database does not contain a map to validate! Forcing it to update!"),u[e]=!0)}}function h(){for(var n in u)if(u[n])return!0;return!1}function b(n){console.log("DBUpdateNeeded:"),console.log(u);var r,e=[];for(var i of a){var o=i.pkg+","+i.id;u[o]&&(r=new Promise((n,r)=>{i.fetchDatabase(n,r)}),e.push(r.then((function(n){l[o]=n}))))}return t.a(e,n)}var v=["agency.json","calendar_dates.json","calendar.json","fare_attributes.json","fare_rules.json","frequencies.json","routes.json","stops.json","stop_time_paths.json","stop_times.json","trips.json"];function w(n){console.log("DBZips:"),console.log(l);var r,e=[];for(var o of a){var s=o.pkg+","+o.id;if(l[s]){if(r=l[s],console.log("Preparing for update for key: "+s),!r.files["version.json"]){console.error("Error: Database returned from "+s+" does not contain a version file.");continue}for(var u of(c[s]=[],v))r.files[u]&&e.push(r.files[u].async("string").then((function(n){var r=JSON.parse(n);r.pkg=o.pkg,r.id=o.id,console.log(r),c[s].push(r)})));e.push(r.file("version.json").async("string").then((function(n){var r=JSON.parse(n);r.package=o.pkg,r.provider=o.id,i.c.versions.put(r)}))),e.push(i.a(o.pkg,o.id))}}return t.a(e,n)}var y=!1;function k(){y=new Worker(n,{})}function _(){y.terminate()}function x(n,r){console.log("DBChunks:"),console.log(c);var e,i,o=[];for(var s of a){var u=s.pkg+","+s.id;if(i=l[u],c[u]){e=c[u];for(const r of e)n===r.dataType&&o.push(new Promise((n,e)=>{var t="";console.log("Loading "+r.dataType),i.file(r.dataType+"-chunk.json").internalStream("string").on("data",(function(n){t+=n})).on("error",(function(n){console.log("ERROR"),e(n)})).on("end",(function(){console.log("Chunk end"),y.postMessage({type:0,pkg:s.pkg,id:s.id,info:r,string:t}),n()})).resume()}))}}return t.a(o,r)}function E(n){return new Promise((r,e)=>{y.addEventListener("message",(function e(t){var a=t.data;if(0===a.type)console.log("Finish"),y.removeEventListener("message",e),r();else if(1===a.type)n(a.progress);else if(2===a.type){var s=t.data;o.push(i.c.putGtfs(s.pkg,s.id,s.info.dataType,s.result))}})),y.postMessage({type:1})})}}).call(this,e(166))},93:function(n,r,e){"use strict";r.a={mapApi:"googlemap",googleMapApiKey:"AIzaSyAhU7FqH46IdF4RaHrBlABfkoFlHZeudFg"}}},[[107,12,13]]]);
//# sourceMappingURL=app.1bf2bb24278886ae282b.js.map