{"version":3,"sources":["webpack:///./src/gtw-ui-modal-settings.js"],"names":["enable","val","html","setting","key","def","name","desc","type","$","i18n","on","out","parseInt","checkfunc","alert","this","hasClass","disable"],"mappings":"yFAAA,qHAGO,SAASA,IACZ,IAEIC,EAFAC,EAAO,GAGX,IAAK,IAAIC,KAAW,uBAChBF,EAAM,MAAaE,EAAQC,IAAKD,EAAQE,KACxCH,GACI,yCACmBC,EAAQG,KAAO,WAAaH,EAAQI,KAAO,eAC7C,YAAjBJ,EAAQK,MACRN,GAAQ,qDAA0DC,EAAQC,IAAM,KAE5EF,GADAD,EAEI,wCAA4CQ,EAAEC,KAAK,uBAAyB,uCAC1CD,EAAEC,KAAK,sBAAwB,YAGjE,+BAAmCD,EAAEC,KAAK,uBAAyB,gDACxBD,EAAEC,KAAK,sBAAwB,YAElFR,GAAQ,kBAERA,GAAQ,oDAAyDC,EAAQC,IAAM,WAC1D,WAAjBD,EAAQK,KACRN,GAAQ,SAERA,GAAQ,OAEZA,GAAQ,YAAgBD,EAAM,OAElCC,GAAQ,SAIZA,GACI,uGAA8GO,EAAEC,KAAK,+BAAiC,gFACnED,EAAEC,KAAK,sBAAwB,MAEtHD,EAAE,eAAeP,KAAKA,GAEtBO,EAAE,yBAAyBE,GAAG,SAAS,WACnC,IAAIV,EACAW,EACJ,IAAK,IAAIT,KAAW,uBAA+B,CAS/C,GARAF,EAAMQ,EAAE,iBAAmBN,EAAQC,KAAKH,MAEpCW,EADiB,YAAjBT,EAAQK,KACM,QAARP,EACkB,WAAjBE,EAAQK,KACTK,SAASZ,GAETA,EAENE,EAAQW,YAAcX,EAAQW,UAAUF,GAExC,YADAG,MAAMN,EAAEC,KAAK,yBAA0BP,EAAQG,OAGnD,MAAaH,EAAQC,IAAKQ,GAE9B,SAEIH,EAAEO,MAAMC,SAAS,+BACjB,SAKL,SAASC,O","file":"9.6ed74131ee672e338584.js","sourcesContent":["import * as Settings from './gtw-settings';\r\nimport * as UI from './gtw-ui';\r\n\r\nexport function enable() {\r\n    var html = \"\";\r\n\r\n    var val;\r\n    for (var setting of Settings.getDefaultSettings()) {\r\n        val = Settings.get(setting.key, setting.def);\r\n        html +=\r\n            \"<div class=\\\"form-group\\\">\" +\r\n            \"    <label><b>\" + setting.name + \":</b><p>\" + setting.desc + \"</p></label>\";\r\n        if (setting.type === \"boolean\") {\r\n            html += \"    <select class=\\\"form-control\\\" id=\\\"gtw-settings-\" + setting.key + \"\\\">\";\r\n            if (val) {\r\n                html +=\r\n                    \"        <option value=\\\"yes\\\" selected>\" + $.i18n(\"settings-option-yes\") + \"</option>\" +\r\n                    \"        <option value=\\\"no\\\">\" + $.i18n(\"settings-option-no\") + \"</option>\";\r\n            } else {\r\n                html +=\r\n                    \"        <option value=\\\"yes\\\">\" + $.i18n(\"settings-option-yes\") + \"</option>\" +\r\n                    \"        <option value=\\\"no\\\" selected>\" + $.i18n(\"settings-option-no\") + \"</option>\";\r\n            }\r\n            html += \"    </select>\";\r\n        } else {\r\n            html += \"    <input class=\\\"form-control\\\" id=\\\"gtw-settings-\" + setting.key + \"\\\" type=\\\"\";\r\n            if (setting.type === \"number\") {\r\n                html += \"number\";\r\n            } else {\r\n                html += \"text\";\r\n            }\r\n            html += \"\\\" value=\\\"\" + val + \"\\\"/>\";\r\n        }\r\n        html += \"</div>\";\r\n\r\n    }\r\n\r\n    html +=\r\n        \"<input type=\\\"button\\\" class=\\\"btn btn-success ui-btn-settings-save ui-btn-settings-save-close\\\" value=\\\"\" + $.i18n(\"settings-save-and-close-btn\") + \"\\\"/> \" +\r\n        \"<input type=\\\"button\\\" class=\\\"btn btn-default ui-btn-settings-save\\\" value=\\\"\" + $.i18n(\"settings-apply-btn\") + \"\\\"/>\";\r\n\r\n    $(\".modal-body\").html(html);\r\n\r\n    $(\".ui-btn-settings-save\").on(\"click\", function () {\r\n        var val;\r\n        var out;\r\n        for (var setting of Settings.getDefaultSettings()) {\r\n            val = $(\"#gtw-settings-\" + setting.key).val();\r\n            if (setting.type === \"boolean\") {\r\n                out = val === \"yes\";\r\n            } else if (setting.type === \"number\") {\r\n                out = parseInt(val);\r\n            } else {\r\n                out = val;\r\n            }\r\n            if (setting.checkfunc && !setting.checkfunc(out)) {\r\n                alert($.i18n(\"settings-invalid-value\", setting.name));\r\n                return;\r\n            }\r\n            Settings.set(setting.key, out);\r\n        }\r\n        Settings.save();\r\n\r\n        if ($(this).hasClass(\"ui-btn-settings-save-close\")) {\r\n            UI.hideModal();\r\n        }\r\n    });\r\n}\r\n\r\nexport function disable() {\r\n\r\n}"],"sourceRoot":""}