(window.webpackJsonp=window.webpackJsonp||[]).push([[4],[,function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"g",(function(){return o})),n.d(t,"h",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"b",(function(){return c})),n.d(t,"f",(function(){return u})),n.d(t,"c",(function(){return p}));var r=n(45),i=!1;function a(){return new Promise((e,t)=>{n(70)("./gtw-map-"+r.a.mapApi).then((function(t){(i=t).init().then((function(){e()}))}))})}function o(e){return i.setCenter(e)}function s(e){return i.setZoom(e)}function l(e,t,n){return i.addMarker(e,t,n)}function d(){return i.removeAllMarkers()}function c(e,t,n,r=1,a=!0){return i.addPolyline(e,t,n,r,a)}function u(){return i.removeAllPolylines()}function p(e){return i.fitBounds(e)}},function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"languages",(function(){return i})),n.d(t,"localizedKey",(function(){return a})),n.d(t,"getLanguage",(function(){return o})),n.d(t,"getLocale",(function(){return s})),n.d(t,"changeLanguage",(function(){return l}));var r=n(4);const i={en:"English",zh:"繁體中文"};function a(e,t){var n=t+"_"+o(),r=t+"_"+s(),i=t+"_en";return e[n]?e[n]:e[r]?e[r]:e[i]?e[i]:!!e[t]&&e[t]}function o(){return r.get("preferred_language","en")}function s(){return r.get("preferred_language","en").split("-")[0]}function l(t){var n=!1;for(var a in i)if(t===a){n=!0;break}return!!n&&(r.set("preferred_language",t),r.save(),e.i18n().locale=t,e.i18n().load("i18n/"+t+".json",t).done((function(){e("body").i18n()})))}}.call(this,n(0))},function(e){e.exports=JSON.parse('{"gtwp-hktransit":{"package":"gtwp-hktransit","name":"HKTransit","fullName":"Hong Kong Transit Data","desc":"Official transit data from data.gov.hk","author":"mob41","license":"https://github.com/mob41/GoToWhere/tree/master/src/plugins/gtwp-hktransit/LICENSE","closedApi":false,"github":"https://github.com/mob41/GoToWhere/tree/master/src/plugins/gtwp-hktransit","version":"0.0.1","targetApi":"0.0.1","region":"HK","category":"transit","dependencies":{}},"gtwp-kmb":{"package":"gtwp-kmb","name":"KMB","fullName":"Kowloon Motor Bus Transit ETA","desc":"Providing closed transit data from KMB.","author":"mob41","license":"https://github.com/mob41/GoToWhere/tree/master/src/plugins/gtwp-kmb/LICENSE","closedApi":true,"github":"https://github.com/mob41/GoToWhere/tree/master/src/plugins/gtwp-kmb","version":"0.0.1","targetApi":"0.0.1","region":"HK","category":"transitEta","dependencies":{}},"gtwp-ctbnwfb":{"package":"gtwp-ctbnwfb","name":"CTBNWFB","fullName":"Citybus and New World First Bus Transit ETA","desc":"Providing publicized transit data from Citybus and New World First Bus.","author":"mob41","license":"https://github.com/mob41/GoToWhere/tree/master/src/plugins/gtwp-ctbnwfb/LICENSE","closedApi":false,"github":"https://github.com/mob41/GoToWhere/tree/master/src/plugins/gtwp-ctbnwfb","version":"0.0.1","targetApi":"0.0.1","region":"HK","category":"transitEta","dependencies":{}}}')},function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"getDefaultSettings",(function(){return i})),n.d(t,"json",(function(){return a})),n.d(t,"get",(function(){return o})),n.d(t,"set",(function(){return s})),n.d(t,"load",(function(){return l})),n.d(t,"save",(function(){return d}));const r="gtw-settings";function i(){return[{key:"preferred_language",type:"string",name:e.i18n("settings-key-preferred-language"),desc:e.i18n("settings-key-preferred-language-desc"),def:"en",checkfunc:function(e){var t=n(2).languages,r=!1;for(var i in t)if(i===e){r=!0;break}return r}},{key:"show_debug_msg",type:"boolean",name:e.i18n("settings-key-show-debug-msg"),desc:e.i18n("settings-key-show-debug-msg-desc"),def:!1},{key:"min_nearby_transit_range",type:"number",name:e.i18n("settings-key-min-nearby-transit-search-range"),desc:e.i18n("settings-key-min-nearby-transit-search-range-desc"),def:200,checkfunc:function(e){var t=parseInt(e);return!Number.isNaN(t)&&t<1e4}},{key:"max_nearby_transit_to_display",type:"number",name:e.i18n("settings-key-max-nearby-transit-to-be-displayed"),desc:e.i18n("settings-key-max-nearby-transit-to-be-displayed-desc"),def:20,checkfunc:function(e){var t=parseInt(e);return!Number.isNaN(t)&&t<100}},{key:"use_cors_proxy",type:"boolean",name:e.i18n("settings-key-use-cors-proxy"),desc:e.i18n("settings-key-use-cors-proxy-desc"),def:!0},{key:"cors_proxy_server",type:"string",name:e.i18n("settings-key-cors-proxy-server"),desc:e.i18n("settings-key-cors-proxy-server-desc"),def:"https://cp1.gotowhere.ga/",checkfunc:function(e){return e.startsWith("https://")&&e.endsWith("/")}},{key:"cors_check_bypass",type:"boolean",name:e.i18n("settings-key-cors-check-bypass"),desc:e.i18n("settings-key-cors-check-bypass-desc"),def:!1}]}var a={};function o(e,t=!1){var n=a[e];return void 0===n?t:n}function s(e,t){return a[e]=t,!0}function l(){if(!localStorage)return!1;var e=localStorage.getItem(r);if(!e)return d();var t=JSON.parse(e);return!!t&&(a=t,!0)}function d(){return!!localStorage&&(localStorage.setItem(r,JSON.stringify(a)),!0)}}.call(this,n(0))},function(e,t,n){"use strict";n.r(t),n.d(t,"registerProvider",(function(){return o})),n.d(t,"unregisterProvider",(function(){return s})),n.d(t,"getProviders",(function(){return l})),n.d(t,"getProvider",(function(){return d})),n.d(t,"fetchAllDatabase",(function(){return c})),n.d(t,"getAllStops",(function(){return u})),n.d(t,"getAllStopsNearby",(function(){return p})),n.d(t,"getStopById",(function(){return g}));var r=n(6),i=n(9),a=[];function o(e,t,n,r){if(!r.fetchDatabase||"function"!=typeof r.fetchDatabase||!r.isDatabaseUpdateNeeded||"function"!=typeof r.isDatabaseUpdateNeeded)throw new Error("Error: "+n+" does not contain fetchDatabase or isDatabaseUpdateNeeded function!");if(r.type=e,r.id=t,"object"==typeof n)for(var i in r.name=n.default,n)r["name_"+i]=n[i];else r.name=n;r.db=!1,r.getStop=function(e){if(!this.db)return!1;var t;for(t=0;t<this.db.stops.length;t++)if(this.db.stops[t].stopId===e)return this.db.stops[t];return!1},r.getStopById=function(e){var t=this.getStops();for(var n of t)if(n.stopId===e)return n;return!1},r.getStops=function(){return this.db?this.db.stops:[]},a.push(r)}function s(e){for(var t=-1,n=0;n<a.length;n++)a[n].id===e&&(t=n);a.splice(t,1)}function l(){return a}function d(e){for(var t of a)if(t.id===e)return t;return!1}function c(e){return new Promise((t,o)=>{var s=[];for(var l of a)s.push(i.d(l.id).then((function(e){if(e){var t=n(5).getProvider(e.provider);t&&(t.db=e)}})).catch(o));Promise.all(s).then((function(){var s,l={},d=[];for(var c of a)c.db?((s=new Promise((e,t)=>{c.isDatabaseUpdateNeeded(e,t,c.db.version)})).then((function(e){l[c.id]=e})).catch((function(){console.error("Error: Database check update for "+c.id+" failed!"),l[c.id]=!1})),d.push(s)):l[c.id]=!0;Promise.all(d).then((function(){var s,d=[];for(var c of a)l[c.id]&&((s=new Promise((e,t)=>{c.fetchDatabase(e,t)})).then((function(e){const{type:t,provider:r,stops:a,version:o}=e;if(t&&r&&a&&o){var s={type:t,provider:r,stops:a,version:o};return n(5).getProvider(e.provider).db=s,i.i(s)}console.error("Error: Returned stops database is in wrong structure for "+(r||"unknown provider")+".")})),d.push(s));r.a(d,e).then(t).catch(o)}))})).catch(o)})}function u(){var e=[];for(var t of a)if(t){var n=t.getStops();n&&n.length>0&&(e=e.concat(n))}return e}function p(e,t,n,i=!0){for(var a,o,s=u(),l=[],d=0;d<s.length;d++)a=s[d],(o=r.c(e,t,a.lat,a.lng))<=n&&l.push({stop:a,distance:o});return i&&l.sort((function(e,t){return e.distance<t.distance?-1:e.distance>t.distance?1:0})),l}function g(e){var t,n=u();for(t=0;t<n.length;t++)if(e===n[t].stopId)return n[t];return!1}},function(e,t,n){"use strict";function r(e,t,n,r){var i=.017453292519943295,a=Math.cos,o=.5-a((n-e)*i)/2+a(e*i)*a(n*i)*(1-a((r-t)*i))/2;return 12742*Math.asin(Math.sqrt(o))}function i(e,t){let n=0;t(0);for(const r of e)r.then(()=>{t(100*++n/e.length)});return Promise.all(e)}function a(e){return e<10?"0"+e:e}function o(e,t){var n=e,r=t;e.length<t.length&&(n=t,r=e);var i=n.length;return 0==i?1:(i-function(e,t){e=e.toLowerCase(),t=t.toLowerCase();for(var n=new Array,r=0;r<=e.length;r++){for(var i=r,a=0;a<=t.length;a++)if(0==r)n[a]=a;else if(a>0){var o=n[a-1];e.charAt(r-1)!=t.charAt(a-1)&&(o=Math.min(Math.min(o,i),n[a])+1),n[a-1]=i,i=o}r>0&&(n[t.length]=i)}return n[t.length]}(n,r))/parseFloat(i)}n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return o}))},function(e,t,n){"use strict";n.r(t),n.d(t,"registerProvider",(function(){return o})),n.d(t,"unregisterProvider",(function(){return s})),n.d(t,"getProviders",(function(){return l})),n.d(t,"getProvider",(function(){return d})),n.d(t,"fetchAllDatabase",(function(){return c})),n.d(t,"getAllRoutes",(function(){return u})),n.d(t,"getRouteById",(function(){return p}));var r=n(6),i=n(9),a=[];function o(e,t,n,r){if(!r.fetchDatabase||"function"!=typeof r.fetchDatabase||!r.isDatabaseUpdateNeeded||"function"!=typeof r.isDatabaseUpdateNeeded)throw new Error("Error: "+n+" does not contain fetchDatabase or isDatabaseUpdateNeeded function!");if(r.type=e,r.id=t,"object"==typeof n)for(var i in r.name=n.default,n)r["name_"+i]=n[i];else r.name=n;r.db=!1,r.getRoute=function(e){if(!this.db)return!1;var t;for(t=0;t<this.db.routes.length;t++)if(this.db.routes[t].routeId===e)return this.db.routes[t];return!1},r.getRouteById=function(e){var t=this.getRoutes();for(var n of t)if(n.routeId===e)return n;return!1},r.getRoutes=function(){return this.db?this.db.routes:[]},a.push(r)}function s(e){for(var t=-1,n=0;n<a.length;n++)a[n].id===e&&(t=n);a.splice(t,1)}function l(){return a}function d(e){for(var t of a)if(t.id===e)return t;return!1}function c(e){return new Promise((t,o)=>{var s=[];for(var l of a)s.push(i.c(l.id).then((function(e){if(e){var t=n(7).getProvider(e.provider);t&&(t.db=e)}})).catch(o));Promise.all(s).then((function(){var s,l={},d=[];for(var c of a)c.db?((s=new Promise((e,t)=>{c.isDatabaseUpdateNeeded(e,t,c.db.version)})).then((function(e){l[c.id]=e})).catch((function(){console.error("Error: Database check update for "+c.id+" failed!"),l[c.id]=!1})),d.push(s)):l[c.id]=!0;Promise.all(d).then((function(){var s,d=[];for(var c of a)l[c.id]&&((s=new Promise((e,t)=>{c.fetchDatabase(e,t)})).then((function(e){const{type:t,provider:r,routes:a,version:o}=e;if(t&&r&&a&&o){var s={type:t,provider:r,routes:a,version:o};return n(7).getProvider(e.provider).db=s,i.h(s)}console.error("Error: Returned routes database is in wrong structure for "+(r||"unknown provider")+".")})),d.push(s));r.a(d,e).then(t).catch(o)}))})).catch(o)})}function u(){var e=[];for(var t of a)if(t){var n=t.getRoutes();n&&n.length>0&&(e=e.concat(n))}return e}function p(e){var t,n=u();for(t=0;t<n.length;t++)if(e===n[t].routeId)return n[t];return!1}},function(e,t,n){"use strict";(function(e){n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return u}));var r=n(6),i=n(3),a={},o=[];function s(e,t){return!function(e){for(var t of o)if(t===e)return!0;return!1}(e)&&(o.push(e),!1!==t&&c(),!0)}function l(e,t){var n;for(n=0;n<o.length;n++)if(o[n]===e)return o.splice(n,1),!1!==t&&c(),!0;return!1}function d(e){return a[e]}function c(){return window.localStorage.setItem("gtw-plugins",JSON.stringify(o)),!0}function u(t){if(localStorage){var s=localStorage.getItem("gtw-plugins");s&&(o=JSON.parse(s)),o&&"number"==typeof o.length||(console.warn("Warning: Installed plugins JSON string is invalid. Resetting as empty."),c());var l=[];for(var d of o){const t={package:d,status:1,msg:"Not Enabled"};i[d]?l.push(new Promise((r,i)=>{n(69)("./"+d).then((function(n){var a;if(n)if(n.onload&&"function"==typeof n.onload){new Promise((e,t)=>{var r=n.onload();r instanceof Promise?r.then(e).catch(t):e(r)}).then((function(n){if(n)t.status=0,delete t.msg;else{var i=e.i18n("plugin-error-onload-function-error",pkg);console.error(i),t.status=-4,t.msg=i}r()})).catch(i)}else a=e.i18n("plugin-error-no-onload-function",pkg),console.error(a),t.status=-3,t.msg=a;else a=e.i18n("plugin-error-no-module-returned",pkg),console.error(a),t.status=-2,t.msg=a}))})):(t.status=-1,t.msg="This plugin is not available in this version of GoToWhere."),a[d]=t}return r.a(l,t)}console.error("Error: LocalStorage is not supported in this browser.")}}).call(this,n(0))},function(e,t,n){"use strict";n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"h",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"i",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"g",(function(){return p}));var r=!1;function i(){return r=new Promise((e,t)=>{if(!("indexedDB"in window))return console.log("This browser doesn't support IndexedDB"),!1;var n=indexedDB.open("gotowhere-db",1);n.onupgradeneeded=function(e){var t=e.target.result;console.log("Creating DB schema"),t.objectStoreNames.contains("transitRoutes")||t.createObjectStore("transitRoutes",{keyPath:"provider"}),t.objectStoreNames.contains("transitStops")||t.createObjectStore("transitStops",{keyPath:"provider"}),t.objectStoreNames.contains("transitReference")||t.createObjectStore("transitReference",{keyPath:"provider"}),t.objectStoreNames.contains("pluginStorage")||t.createObjectStore("pluginStorage",{keyPath:"package"})},n.onsuccess=function(t){e(n.result)},n.onerror=t})}function a(e,t){return r.then((function(n){var r=n.transaction("pluginStorage","readwrite"),i=r.objectStore("pluginStorage"),a=Object.assign({},t);return i.put({package:e,data:a}),r.complete}))}function o(e){return new Promise((t,n)=>{r.then((function(r){var i=r.transaction("pluginStorage","readonly").objectStore("pluginStorage").get(e);i.onsuccess=function(){t(!!i.result&&i.result.data)},i.onerror=n}))})}function s(e){return new Promise((t,n)=>{r.then((function(r){var i=r.transaction("transitRoutes","readonly").objectStore("transitRoutes").get(e);i.onsuccess=function(){t(i.result)},i.onerror=n}))})}function l(e){const{type:t,provider:n,routes:i,version:a}=e;if(!(t&&n&&i&&a))return console.error("Error: Invalid routes database structure from "+(n||"unknown provider")+"."),!1;for(var o of i){const{type:t,provider:n,routeId:r,routeName:i,etaProviders:a,paths:s}=o;if(!(t&&n&&r&&i&&a&&s&&a.length&&s.length))return console.error("Error: Invalid database route structure from "+(e.provider?e.provider:"unknown provider")+"."),!1}var s=Object.assign({},e);return r.then((function(e){var t=e.transaction("transitRoutes","readwrite");return t.objectStore("transitRoutes").put(s),t.complete}))}function d(e){return new Promise((t,n)=>{r.then((function(r){var i=r.transaction("transitStops","readonly").objectStore("transitStops").get(e);i.onsuccess=function(){t(i.result)},i.onerror=n}))})}function c(e){const{type:t,provider:n,stops:i,version:a}=e;if(!(t&&n&&i&&a))return console.error("Error: Invalid stops database structure from "+(n||"unknown provider")+"."),!1;for(var o of i){const{type:t,provider:n,stopId:r,stopName:i,addr:a,lat:s,lng:l}=o;if(!(t&&n&&r&&i&&a&&s&&l&&"number"==typeof s&&"number"==typeof l))return console.error("Error: Invalid database stop structure from "+(e.provider?e.provider:"unknown provider")+"."),!1}var s=Object.assign({},e);return r.then((function(e){var t=e.transaction("transitStops","readwrite");return t.objectStore("transitStops").put(s),t.complete}))}function u(e){return new Promise((t,n)=>{r.then((function(r){var i=r.transaction("transitReference","readonly").objectStore("transitReference").get(e);i.onsuccess=function(){t(i.result)},i.onerror=n}))})}function p(e){const{type:t,provider:n,routes:i,stops:a,version:o}=e;if(!(t&&n&&i&&a&&o))return console.error("Error: Invalid reference database structure from "+(n||"unknown provider")+"."),!1;for(var s of i){const{type:t,provider:n,routeId:r,routeName:i,etaProviders:a,paths:o}=s;if(!(t&&n&&r&&i&&a&&o&&a.length))return console.error("Error: Invalid reference database route structure from "+(e.provider?e.provider:"unknown provider")+"."),!1}for(var l of a){const{type:t,provider:n,stopId:r,stopName:i,addr:a,lat:o,lng:s}=l;if(!(t&&n&&r&&i&&a&&void 0!==o&&void 0!==s&&"number"==typeof o&&"number"==typeof s))return console.error("Error: Invalid reference database stop structure from "+(e.provider?e.provider:"unknown provider")+"."),!1}var d=Object.assign({},e);return r.then((function(e){var t=e.transaction("transitReference","readwrite");return t.objectStore("transitReference").put(d),t.complete}))}},function(e,t,n){"use strict";n.r(t),n.d(t,"clearCache",(function(){return s})),n.d(t,"timeDifference",(function(){return l})),n.d(t,"registerProvider",(function(){return d})),n.d(t,"unregisterProvider",(function(){return c})),n.d(t,"getProviders",(function(){return u})),n.d(t,"getProvider",(function(){return p})),n.d(t,"fetchAllDatabase",(function(){return g})),n.d(t,"fetchEta",(function(){return f})),n.d(t,"getCache",(function(){return h}));var r=n(6),i=n(9),a=[],o={};function s(){o={}}function l(e,t){return 60*e.hr+e.min-(60*t.hr+t.min)}function d(e,t,n,r){if(!r.fetchEta||"function"!=typeof r.fetchEta||!r.fetchDatabase||"function"!=typeof r.fetchDatabase||!r.isDatabaseUpdateNeeded||"function"!=typeof r.isDatabaseUpdateNeeded)throw new Error("Error: "+t+" does not contain fetchEta, fetchDatabase or isDatabaseUpdateNeeded function!");if(r.type=e,r.id=t,r.db=!1,"object"==typeof n)for(var i in r.name=n.default,n)r["name_"+i]=n[i];else r.name=n;r.getRoute=function(e){if(!this.db)return!1;var t;for(t=0;t<this.db.routes.length;t++)if(this.db.routes[t].routeId===e)return this.db.routes[t];return!1},r.getRouteById=function(e){var t=this.getRoutes();for(var n of t)if(n.routeId===e)return n;return!1},r.getRoutes=function(){return this.db?this.db.routes:[]},r.getStop=function(e){if(!this.db)return!1;var t;for(t=0;t<this.db.stops.length;t++)if(this.db.stops[t].stopId===e)return this.db.stops[t];return!1},r.getStopById=function(e){var t=this.getStops();for(var n of t)if(n.stopId===e)return n;return!1},r.getStops=function(){return this.db?this.db.stops:[]},a.push(r)}function c(e){for(var t=-1,n=0;n<a.length;n++)a[n].id===e&&(t=n);a.splice(t,1)}function u(){return a}function p(e){for(var t of a)if(t.id===e)return t;return!1}function g(e){return new Promise((t,o)=>{var s=[];for(var l of a)s.push(i.b(l.id).then((function(e){if(e){var t=n(10).getProvider(e.provider);t&&(t.db=e)}})).catch(o));Promise.all(s).then((function(){var s,l={},d=[];for(const e of a)e.db?(console.log("has db "+e.id),(s=new Promise((t,n)=>{e.isDatabaseUpdateNeeded(t,n,e.db.version)})).then((function(t){console.log("update: "+e.id+" "+t),l[e.id]=t})).catch((function(){console.error("Error: Database check update for "+e.id+" failed!"),l[e.id]=!1})),d.push(s)):(console.log("No db found for "+e.id),l[e.id]=!0);Promise.all(d).then((function(){var s,d=[];console.log(l);for(const e of a)l[e.id]&&((s=new Promise((t,n)=>{e.fetchDatabase(t,n)})).then((function(e){const{type:t,provider:r,routes:a,stops:o,version:s}=e;if(t&&r&&a&&o&&s){var l={type:t,provider:r,routes:a,stops:o,version:s};return n(10).getProvider(e.provider).db=l,i.g(l)}console.error("Error: Returned reference database is in wrong structure for "+(r||"unknown provider")+".")})),d.push(s));r.a(d,e).then(t).catch(o)}))})).catch(o)})}function f(e){return new Promise((t,n)=>{var r=[],i=0;for(var a of e.etaProviders)r.push(new Promise((t,n)=>{var r=p(a);if(!r)return t(),void console.log('Could not find registered Transit ETA provider with name "'+a+'"');i++;var s=a+"-"+e.routeId+"-"+e.selectedPath+"-"+e.stopId,l=o[s],d=new Date;if(l&&d-l.lastFetched>3e4&&(l=!1,delete o[s]),l)t(l.data);else{new Promise((t,n)=>{r.fetchEta(t,n,e)}).then((function(r){if(!r)return void t(!1);const{schedules:i,options:a}=r;if(!i||!a)return console.error("Error: Plugin returned a TransitSchedule object with invalid structure."),void n(e,"Invalid TransitSchedule structure");for(var l of i)if(void 0===l.type||void 0===l.provider||void 0===l.serverTime||void 0===l.msg&&void 0===l.time||isNaN(parseInt(l.serverTime)))return console.error("Error: Plugin returned a TransitSchedule object with invalid schedules."),void n(e,"Invalid TransitSchedule schedules");var d=new Date,c={schedules:i,options:a};o[s]={lastFetched:d.getTime(),data:c},t(c)})).catch((function(t){n(e,t)}))}}));Promise.all(r).then((function(n){if(i>0){var r=[];for(var a of n)a&&a.schedules&&(r=r.concat(a.schedules));r.sort((function(e,t){return e.time?t.time?e.time-t.time:-1:1})),t({schedules:r,options:e,code:0})}else e.etaProviders&&e.etaProviders.length>0?t({code:-2,options:e}):t({code:-1,options:e})})).catch(n)})}function h(){return o}},function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l}));var r=n(1);const i=0,a=1;var o={lat:22.2952296,lng:114.1766577};function s(e=function(){},t=function(){}){if(navigator.geolocation){navigator.geolocation.getCurrentPosition((function(t){o={lat:t.coords.latitude,lng:t.coords.longitude},r.g(o),r.h(16),navigator.geolocation.watchPosition(d,c,{enableHighAccuracy:!1,timeout:5e3,maximumAge:0}),e(o)}),(function(){t(a)}),{timeout:5e3})}else t(i)}function l(){return o}function d(e){o={lat:e.coords.latitude,lng:e.coords.longitude}}function c(e){alert("TODO: Handle Position error!")}},function(e){e.exports=JSON.parse('{"transit":{"id":"transit","name":"Transit","desc":"Plugins that provide transit data to the platform."},"transitEta":{"id":"transitEta","name":"Transit ETA","desc":"Plugins that additionally provide transit ETA to routes."}}')},,function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return l}));var r=[],i=500,a=!1;function o(e,t){if("function"!=typeof e)throw new TypeError("The variable must be a 'function'.");return r.push([e,t]),e}function s(){a||(a=!0,function e(){var t=r.shift();t&&"function"==typeof t[0]&&t[0].apply(null,t[1]);a&&setTimeout((function(){e()}),i)}())}function l(){r=[]}},function(e,t,n){"use strict";n.r(t),n.d(t,"domains",(function(){return a})),n.d(t,"register",(function(){return o})),n.d(t,"extractHost",(function(){return s})),n.d(t,"isCors",(function(){return l}));var r=n(47);const i="https://";var a={};function o(e,t=!1){var n={};n.allowCors=t,a[e]=n}function s(e){if(!e.includes("://"))return"___local___";if(e.startsWith("file://"))return"___file___";var t=e.indexOf("://"),n=e.substring(t+3);return-1===(t=n.indexOf("/"))&&(t=n.length()),n.substring(0,t)}function l(e){if(!e.startsWith(i))return!0;var t=s(e);return a[t]?!a[t].allowCors:window.location.host!==t}n.n(r).a.before((function(e,t){var r=n(15),i=n(4);if(i.get("cors_check_bypass",!1))t();else{if(r.isCors(e.url)){var a=r.extractHost(e.url);if(!a||""===a||"___local___"===a)return void t();var o=r.domains[a];if(!o)return console.error('gtw-cors: The request to "'+a+'" was dropped, because this cross-domain host was not registered before performing AJAX.'),void t({status:403,statusText:"The request is dropped by GoToWhere because this host was not registered before performing AJAX.",headers:{}});if(o.allowCors)return void t();if(!i.get("use_cors_proxy",!0))return console.error("gtw-cors: The request was dropped because there are no proxy available to handle CORS requests."),void t({status:403,statusText:"The request was dropped because there are no proxy available to handle CORS requests.",headers:{}});var s=i.get("cors_proxy_server","https://cp1.gotowhere.ga/");if(!s.startsWith("https://")||!s.endsWith("/"))return console.error("gtw-cors: The provided CORS Proxy server is invalid! Please check if the server URL in the settings is correct!"),void t({status:403,statusText:"The provided CORS Proxy server is invalid! Please check if the server URL in the settings is correct!.",headers:{}});var l=e.url.indexOf("http://"),d=e.url.indexOf("https://");if(-1!==l&&-1===d)e.url=s+e.url.substring(l+7);else{if(-1!==l||-1===d)return console.error("gtw-cors: Invalid URL: "+e.url),void t({status:403,statusText:"Invalid URL: "+e.url,headers:{}});e.url=s+e.url.substring(d+8)}}t()}}))},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return l}));var r=n(7),i=n(5),a=n(10);function o(e){var t=[],n=0,o=0,s=0;return t.push(r.fetchAllDatabase((function(t){e(((n=t)+o+s)/3)}))),t.push(i.fetchAllDatabase((function(t){e((n+(o=t)+s)/3)}))),t.push(a.fetchAllDatabase((function(t){e((n+o+(s=t))/3)}))),Promise.all(t)}function s(e,t,n){if(n<0||n>=e.paths.length)return-1;for(var r=e.paths[n],i=0;i<r.length;i++){var a=r[i];if(t.stopId===a)return i}return-1}function l(e){var t=[],n=r.getAllRoutes();for(var i of n)for(var a=i.paths,o=0;o<a.length;o++){var s=a[o];for(var l of s)e.stopId===l&&t.push({route:i,bound:o})}return t}window.TransitType={BUS:"bus",MINIBUS:"minibus",TRAM:"tram",TRAIN:"train",FERRY:"ferry"}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return k})),n.d(t,"b",(function(){return P}));var r=n(18),i=n(7),a=n(5),o=n(10),s=n(1),l=n(4),d=n(14),c=n(8),u=n(11),p=n(6),g=n(2),f=n(3),h=n(12);e(document).ready((function(){e(".header-links-plugins").on("click",(function(){P("pluginmanager")})),e(".header-links-settings").on("click",(function(){P("settings")})),e(".header-links-about").on("click",(function(){P("about")}))})),e(".ui-tab").on("click",(function(){if(!e(this).hasClass("btn-primary")){e(".ui-tab").removeClass("btn-primary"),e(".ui-tab").removeClass("btn-link");var t=e(this).attr("gtw-tab");e(this).addClass("btn-primary"),e(".ui-tab:not([gtw-tab='"+t+"'])").addClass("btn-link"),N(t)}})),e(".ui-half-map-back-btn").on("click",(function(){clearInterval(b.stopEtaUpdate),s.g(u.a()),s.h(16),s.e(),s.f(),E(),w&&x()}));var m,v={},b={},y=[],w=!1;function k(){N("transitEta"),adjustMargin(),E(),0===Object.keys(c.d).length&&function(){e(".header nav").css("display","none"),e("#gettingStartedWizard").smartWizard({useURLhash:!1,showStepURLhash:!1}),e(".top-panel").css("display","none"),e(".content-panel-container").css("display","none"),e(".getting-started-panel").css("display","block");var t="";for(var n in g.languages)t+='<option value="'+n+'">'+g.languages[n]+" ("+n+")</option>";e("#langSelect").html(t),e("#langSelect").on("change",(function(){g.changeLanguage(e(this).val())}));var r={};for(var i in f)r[f[i].region]||(r[f[i].region]=[]),r[f[i].region].push(f[i]);e("#regionSelect").html("");var a='<option value="notselected">-- '+e.i18n("getting-started-wizard-step-plugins-select")+" --</option>";for(var o in r)a+='<option value="'+o+'"> '+o+"</option>";e("#regionSelect").removeAttr("disabled"),e("#regionSelect").html(a);var s={};for(var l in f)s[f[l].category]||(s[f[l].category]=[]),s[f[l].category].push(f[l]);var d=function(){var t,n,r,i=0,a=0;for(var o in s)r=h[o],t=0,e(".plugin-switch[category-id='"+r.id+"']").each((function(){e(this).prop("checked")&&t++})),(n=e(".category-btn[category-id='"+r.id+"']")).html(n.attr("category-name")+" ("+t+"/"+s[o].length+")"),i+=t,a+=s[o].length;e("#pluginsToInstallCount").html(e.i18n("getting-started-wizard-step-plugins-install-count",i,a)),e("#installCount").html(e.i18n("getting-started-wizard-step-finish-press-button",i)),e(".need-to-install").css("display",i>0?"none":"block"),i>0?e("#getStartedBtn").removeClass("disabled"):e("#getStartedBtn").addClass("disabled")};e("#regionSelect").on("change",(function(){var t=e(this).val(),n=e("#pluginsToInstallAccordion"),r=e("#pluginsToInstallCount");if("notselected"===t)return n.html(""),r.html(""),void d();var i,a,o="";for(var l in s){for(var u of(a=h[l],0,i="",s[l]))i+='            <div class="custom-control custom-switch">                <input type="checkbox" class="custom-control-input plugin-switch'+(u.closedApi?" plugin-closed-api":"")+'" category-id="'+a.id+'" package="'+u.package+'" id="switch-'+u.package+'"'+(u.closedApi?"":"checked")+'>                <label class="custom-control-label" for="switch-'+u.package+'">'+u.fullName,u.closedApi&&(i+='<br /><i class="fas fa-exclamation-triangle"></i> '+e.i18n("getting-started-wizard-step-plugins-closed-api")),i+="</label>            </div>";o+='<div class="card">    <div class="card-header" id="category-'+a.id+'-heading">        <h2 class="mb-0">            <button class="btn btn-link category-btn" type="button" data-toggle="collapse" data-target="#collapse-category-'+a.id+'" aria-expanded="true" aria-controls="collapse-category-'+a.id+'" category-id="'+a.id+'" category-name="'+a.name+'">'+a.name+'</button>        </h2>    </div>    <div id="collapse-category-'+a.id+'" class="collapse" aria-labelledby="category-'+a.id+'-heading" data-parent="#pluginsToInstallAccordion">        <div class="card-body">'+i+"        </div>    </div></div>"}n.html(o),d(),e(".plugin-closed-api").change((function(){this.checked&&P("pluginclosedapi",e(this),d)})),e(".plugin-switch").change((function(){d()})),e("#getStartedBtn").on("click",(function(){if(!e(this).hasClass("disabled")){e("#gettingStartedWizard").css("display","none"),e(".getting-started-progress-panel").css("display","block");var t=[];e(".plugin-switch").each((function(){if(e(this).prop("checked")){var n=e(this).attr("package");t.push(n)}}));var n=[];for(var r of t)c.b(r);if(e("#gs-plugin-progress").css("width","100%"),0!==n.length){e(".getting-started-progress-panel").css("display","none"),e(".getting-started-plugin-error-panel").css("display","block");var i,a="<p>"+e.i18n("getting-started-error-plugin-network-error")+'</p><button class="btn btn-block btn-warning" onclick="window.location.reload()" type="button">'+e.i18n("getting-started-error-refresh-btn")+"</button><hr /><p><b>"+e.i18n("getting-started-error-affected-plugins")+"</b><br />";for(i=0;i<n.length;i++)a+=n[i],i!==n.length-1&&(a+=", ");a+="</p>",e(".getting-started-plugin-error-panel .desc").html(a)}else setTimeout((function(){window.location.reload()}),500)}}))}))}()}function x(){e("#search-transit-text").removeAttr("readonly"),e(".touch-keypad").css("display","flex"),adjustMargin()}function C(){e("#search-transit-text").attr("readonly",""),e(".touch-keypad").css("display",""),adjustMargin()}function S(t){var n=e("#search-transit-text").val();if(t||n&&""!==n){var r,o,s,l,d,c,u,f,h,m,v,b,y,w=i.getAllRoutes(),k=[];for(var x of w)for(f=0;f<x.paths.length;f++)o=(l=x.paths[f])[l.length-1],s=i.getProvider(x.provider),r=a.getStopById(o),m=g.localizedKey(x,"routeName"),v=g.localizedKey(s,"name"),b=g.localizedKey(r,"stopName"),d=p.d(m,n),c=p.d(v,n),u=p.d(b,n),!(y=m.includes(n))&&d<.3&&c<.3&&u<.3||(h=Math.max(d,c,u),k.push({provider:s,route:x,bound:f,lastStop:r,sim:h,routeNameIncludes:y}));k.sort((function(e,t){return t.sim-e.sim}));var C,S='<ul class="list-group">',P={};for(f=0;f<k.length;f++){if(C=k[f],m=g.localizedKey(C.route,"routeName"),C.routeNameIncludes&&n.length<m.length){var j=m.charAt(n.length);P[j]=!0}f<=20&&(S+='<li class="list-group-item list-group-item-action d-flex align-items-center route-selection" gtw-provider="'+C.provider.id+'" gtw-route-id="'+C.route.routeId+'" gtw-bound="'+C.bound+'">    <div class="d-flex flex-column route-id">        <div>'+g.localizedKey(C.provider,"name")+"</div>        <div>"+m+"</div>    </div>    <div><b>"+e.i18n("transit-eta-to")+"</b> "+g.localizedKey(C.lastStop,"stopName")+"</div></li>")}S+="</ul>",e(".all-route-list").html(S),e(".numeric-keypad .touch-keypad-value").each((function(){var t=e(this).html();P[t]?(e(this).removeClass("disabled"),e(this).removeClass("btn-light"),e(this).addClass("btn-outline-secondary"),delete P[t]):(e(this).addClass("disabled"),e(this).addClass("btn-light"),e(this).removeClass("btn-outline-secondary"))}));var N=Object.keys(P);N.sort((function(e,t){return e.charCodeAt(0)-t.charCodeAt(0)}));var E="";for(var T of N)E+='<button type="button" class="btn btn-outline-secondary py-3 touch-keypad-value">'+T+"</button>";e(".letter-keypad").html(E),e(".letter-keypad .touch-keypad-value").on("click",_),e(".all-route-list .route-selection").on("mouseenter",D),e(".all-route-list .route-selection").on("click",z),e(".all-route-list .route-selection:nth-child(1)").mouseenter()}else I()}function I(){C(),e("#search-transit-text").val(""),e("#button-cancel-search").addClass("btn-light"),e("#button-cancel-search").addClass("disabled"),e("#button-cancel-search").removeClass("btn-danger"),e("#button-cancel-search").html('<i class="fas fa-search"></i>'),e(".nearby-route-list").css("display","flex"),e(".all-route-list").css("display","none"),s.g(u.a()),s.h(16),s.e(),s.f(),e(".numeric-keypad .touch-keypad-value").each((function(){e(this).removeClass("disabled"),e(this).removeClass("btn-light"),e(this).addClass("btn-outline-secondary")}))}function P(t,...r){!function(){for(var e of({},y))clearInterval(e)}(),{},function(t,r={}){const i="modal-"+t;!0===r&&((r={}).backdrop="static",r.keyboard=!1);var a=[];a.push(n(71)(`./${i}-header.html`).then((function(t){e(".modal-header").html(t.default)}))),a.push(n(72)(`./${i}-body.html`).then((function(t){e(".modal-body").html(t.default)}))),a.push(n(73)(`./${i}-footer.html`).then((function(t){e(".modal-footer").html(t.default)})));var o=Promise.all(a);return o.then((function(){e(".modal").modal(r)})),o}(t,!0).then((function(){e(".modal").i18n(),"function"==typeof A[t]&&A[t].apply(this,r)}))}function j(){e(".modal").modal("hide")}function N(t){!function(){for(var t in s.g(u.a()),s.h(16),s.e(),s.f(),v={},b)clearInterval(b[t]);b=[],e(".tab-panel").html(""),e(".content-panel-container").html("")}(),t,A[t]()}function E(){e(".content-panel-container").css("display","inline-block"),e(".top-panel").css("display","block"),e(".header nav").removeClass("gtw-half-map"),e("body").removeClass("gtw-half-map"),e("#gtw-map").removeClass("gtw-half-map"),e(".map-overlay").removeClass("gtw-half-map"),e(".half-map-panel").removeClass("gtw-half-map"),e(".half-map-container").removeClass("gtw-half-map"),adjustMargin()}function T(e,t){var n,r,i,o=e.paths[t],l=[];for(i=0;i<o.length;i++)n={lat:(r=a.getStopById(o[i])).lat,lng:r.lng},l.push(n),s.a(n,r.stopName,""+(i+1));s.b(l,"#FF0000",2)}function _(){if(!e(this).hasClass("disabled")){var t=e(this).html(),n=e("#search-transit-text").val();e("#search-transit-text").val(n+t),S()}}function z(){w=e(this).parent().parent().hasClass("all-route-list"),e(".top-panel").css("display","none"),e(".content-panel-container").css("display","none"),e(".header nav").addClass("gtw-half-map"),e("#gtw-map").addClass("gtw-half-map"),e(".map-overlay").addClass("gtw-half-map"),e(".half-map-panel").addClass("gtw-half-map"),e(".half-map-container").addClass("gtw-half-map"),adjustMargin(),C(),s.e(),s.f();var t=i.getProvider(e(this).attr("gtw-provider")).getRouteById(e(this).attr("gtw-route-id")),n=a.getStopById(e(this).attr("gtw-stop-id")),r=e(this).attr("gtw-bound");!function t(n,r,l=!1,d=!1){var c='<div class="row" style="padding: 2%;"><div class="timeline-centered">';var u=n.paths[r];var f;var h;for(h=0;h<u.length;h++)f=a.getStopById(u[h]),c+='<article class="timeline-entry" stop-id="'+f.stopId+'" stop-index="'+h+'">    <div class="timeline-entry-inner">        <div class="timeline-icon bg-light">            '+(h+1)+'        </div>        <div class="timeline-label">            <h2><button style="padding: 0px;" class="btn btn-link" stop-id="'+f.stopId+'">'+g.localizedKey(f,"stopName")+"</button></h2>            <p></p>        </div>    </div></article>";c+="</div></div>";e(".half-map-container").html(c);e(".half-map-container button").on("click",(function(){var i=a.getStopById(e(this).attr("stop-id"));i&&t(n,r,i)}));var m=i.getProvider(n.provider);var v=u[u.length-1];c='<ul class="list-group"><li class="list-group-item d-flex align-items-center route-selection">    <div class="d-flex flex-column route-id">        <div>'+g.localizedKey(m,"name")+"</div>        <div>"+g.localizedKey(n,"routeName")+"</div>    </div>    <div><b>"+e.i18n("transit-eta-to")+":</b> "+g.localizedKey(a.getStopById(v),"stopName")+"</div></li></ul>";e(".half-map-tab-panel").html(c);adjustMargin();if(l){var y=screen.width>=768?".desktop":".mobile",w=e(y+" .timeline-entry[stop-id='"+l.stopId+"']"),k=w.children().children(".timeline-icon");k.removeClass("bg-light"),k.addClass("bg-primary"),d&&w[0].scrollIntoView();var x={lat:l.lat,lng:l.lng};s.g(x),s.h(18),clearInterval(b.stopEtaUpdate);var C=function(){!function(t,n,r){var i=e(".timeline-entry[stop-id='"+r.stopId+"'] p"),a="<p><u>"+e.i18n("transit-eta")+'</u></p><table class="table stop-eta">',s=o.fetchEta({provider:t.provider,etaProviders:t.etaProviders,routeId:t.routeId,selectedPath:parseInt(n),stopId:r.stopId});s?(a+='<tr class="table-dark">    <td colspan="4"><div class="spinner-border spinner-border-sm" role="status"></div> '+e.i18n("transit-eta-retrieving-data")+"</td></tr>",s.then((function(t){var n=t.options,r="",i=e(".timeline-entry[stop-id='"+n.stopId+"'] p table tbody");if(t.code&&-2===t.code)r+='<tr class="table-dark">    <td colspan="4">'+e.i18n("transit-eta-no-eta-providers")+"</td></tr>";else if(!t.schedules||t.code&&-1===t.code)r+='<tr class="table-dark">    <td colspan="4">'+e.i18n("transit-eta-no-data-received")+"</td></tr>";else if(0===t.schedules.length)r+='<tr class="table-dark">    <td colspan="4">'+e.i18n("transit-eta-no-schedules-pending")+"</td></tr>";else{var a=!1;for(var s of t.schedules){var l=Math.floor((s.time-s.serverTime)/1e3/60),d='<tr class="table-';d+=l>=20?"secondary":l>=15?"info":l>=10?"success":l>=5?"warning":l>=1?"danger":"dark",!a&&l>0&&(a=!0,d+=" active"),d+='">';var c=o.getProvider(s.provider);if(!c)return void console.error("Error: Could not find TransitEta provider to get localized names: "+s.provider);var u=4;if(n.etaProviders.length>1&&(d+="<td>"+g.localizedKey(c,"name")+"</td>",u--),void 0!==s.msg&&void 0===s.time)d+='<td colspan="'+u+'">'+s.msg+"</td>";else{d+="<td>",void 0!==s.msg&&(d+=s.msg),void 0!==s.time&&(void 0!==s.msg&&(d+="<br />"),d+=l>0?e.i18n("transit-eta-minutes",l):e.i18n("transit-eta-arrived-left")),d+="</td><td",void 0===s.isLive&&(d+=' colspan="2"'),d+=">";var f=new Date(s.time);void 0!==s.time?d+=p.b(f.getHours())+":"+p.b(f.getMinutes()):d+="---",d+="</td>",void 0!==s.isLive&&(s.isLive?d+='<td><span style="color: red; float: right; font-size: 10px;"><i class="fa fa-circle"></i> '+e.i18n("transit-eta-live")+"</span></td>":d+='<td><span style="font-size: 10px; float: right; font-style: italic;">'+e.i18n("transit-eta-scheduled")+"</span></td>")}r+=d+="</tr>"}}i.html(r)})).catch((function(t,n){e(".timeline-entry[stop-id='"+t.stopId+"'] p table tbody").html('<tr class="table-danger"><td colspan="4">'+e.i18n("transit-eta-error-fetching-eta")+"</td></tr>")}))):a+='<tr class="table-dark">    <td colspan="4">'+e.i18n("transit-eta-route-not-available")+"</td></tr>";a+="</table>",i.html(a)}(n,r,l)};C(),b.stopEtaUpdate=setInterval(C,3e4)}}(t,r,n,!0),T(t,r)}function D(){s.e(),s.f();var t=i.getProvider(e(this).attr("gtw-provider")).getRouteById(e(this).attr("gtw-route-id")),n=a.getStopById(e(this).attr("gtw-stop-id")),r=e(this).attr("gtw-bound");if(T(t,r),n){var o={lat:n.lat,lng:n.lng};s.g(o),s.h(18)}else{var l,d=t.paths[r],c=[];for(var u of d)l=a.getStopById(u),c.push({lat:parseFloat(l.lat),lng:parseFloat(l.lng)});s.c(c)}}var A={updated:function(t){e("#updated-header").html(e.i18n("updated-header",t)),e("#updated-desc").html(e.i18n("updated-desc",t)),e("#updated-okay-btn").on("click",(function(){j()})),n.e(28).then(n.bind(null,78)).then((function(t){e("#updated-changelog").html(t.default)}))},pluginclosedapi:function(t,n){e("#plugin-closed-api-confirm-yes").on("click",(function(){n(),j()})),e("#plugin-closed-api-confirm-no").on("click",(function(){t.prop("checked",!1),n(),j()}))},errorplugins:function(t){var n,r=e("#errorPluginsAccordion"),i="";for(var a of t)n=-1===a.status?e.i18n("error-plugins-summary-plugin-not-available")+" ("+a.status+")":a.status>=-2&&a.status<=-4?e.i18n("error-plugins-summary-plugin-load")+" ("+a.status+")":e.i18n("error-plugins-summary-unknown-status-code")+" ("+a.status+")",i+='<div class="card">    <div class="card-header" id="err-'+a.package+'-heading">        <h2 class="mb-0">            <button class="btn btn-link" type="button" data-toggle="collapse" data-target="#collapse-err-'+a.package+'" aria-expanded="true" aria-controls="collapse-err-'+a.package+'">'+a.package+": "+n+'</button>        </h2>    </div>    <div id="collapse-err-'+a.package+'" class="collapse" aria-labelledby="err-'+a.package+'-heading" data-parent="#errorPluginsAccordion">        <div class="card-body">',i+="<p><b>"+e.i18n("error-plugins-message")+"</b><br/>"+a.msg+"</p>",i+="<p><b>"+e.i18n("error-plugins-solutions")+"</b><br/>",-1===a.status?i+=e.i18n("error-plugins-solution-plugin-not-available"):a.status>=-4&&a.status<=-2?i+=e.i18n("error-plugins-solution-plugin-load",a.status):i+=e.i18n("error-plugins-solution-unknown-status-code",a.status),i+="</p>",i+="        </div>    </div></div>";r.html(i),e(".error-plugin-accept-checksum-btn").on("click",(function(){var t=e(this).attr("package"),n=c.d[t];if(t){var r=n.info;c.b(r.package,r.checksum,r.version),window.location.reload()}else console.error('Error: Accept checksum failed! Plugin "'+t+'" not found!')}))},viewplugin:function(t){e(".modal .close").on("click",(function(){P("pluginmanager")}));var n=0;for(var r in f)if(r===t){n=f[r];break}if(n){var i="";n.closedApi&&(i+='<div class="alert alert-warning" role="alert"><i class="fas fa-exclamation-triangle"></i> '+e.i18n("plugin-closed-api-warning")+"</div>"),i+="<h3>"+e.i18n("view-plugin-details")+"</h3>",i+="<hr />",i+="<p>"+e.i18n("view-plugin-details-name")+": "+n.name+"<br />",i+=e.i18n("view-plugin-details-fullname")+": "+n.fullName+"<br />",i+=e.i18n("view-plugin-details-author")+": "+n.author+"<br />",i+=e.i18n("view-plugin-details-version")+": "+n.version+"<br />",i+=e.i18n("view-plugin-details-github")+': <a href="'+n.github+'" target="_blank">'+n.github+"</a><br />",i+=e.i18n("view-plugin-details-package")+": "+n.package+"<br />",i+=e.i18n("view-plugin-details-description")+": "+n.desc+"</p>",i+="<h3>"+e.i18n("view-plugin-installation")+"</h3>",i+="<hr />";var a=c.a(n.package),o='<span class="font-weight-bold ';a?-1===a.status?o+='text-danger">'+e.i18n("view-plugin-installation-plugin-not-available"):0===a.status?o+='text-success">'+e.i18n("view-plugin-installation-installed-running"):1===a.status?o+='text-secondary">'+e.i18n("view-plugin-installation-not-enabled"):a.status<=-2&&a.status>=-4?o+='text-danger">'+e.i18n("view-plugin-installation-plugin-load-errors",a.status):o+='text-secondary">'+e.i18n("view-plugin-installation-unknown-status-code",a.status):o+='text-info">'+e.i18n("view-plugin-installation-not-installed"),o+="</span>",i+="<p>"+e.i18n("view-plugin-installation-status")+": "+o+"<br />",a&&a.msg&&(i+=e.i18n("view-plugin-installation-message")+": "+a.msg+"</p>"),i+="<hr />",i+=a?'<button type="button" class="btn btn-danger ui-btn-viewplugin-uninstall">'+e.i18n("view-plugin-installation-uninstall-and-restart-btn")+"</button>":'<button type="button" class="btn btn-success ui-btn-viewplugin-install">'+e.i18n("view-plugin-installation-install-and-restart-btn")+"</button>",e(".modal-body").html(i),e(".ui-btn-viewplugin-install").on("click",(function(){c.b(n.package),window.location.reload()})),e(".ui-btn-viewplugin-uninstall").on("click",(function(){c.e(n.package),window.location.reload()}))}else e(".modal-body").html(e.i18n("view-plugin-repos-cannot-find-package"))},pluginmanager:function(){var t="<p>"+e.i18n("plugin-manager-loading")+"</p>";e("#nav-all").html(t),e("#nav-installed").html(t),e("#nav-transit").html(t),e("#nav-libraries").html(t),e("#nav-others").html(t);var n={};for(var r in f)n[f[r].category]||(n[f[r].category]=[]),n[f[r].category].push(f[r]);var i,a,o,s,l='<div class="list-group">',d=e("#nav-tab"),c=e("#nav-tabContent"),u=0;for(var p in n){for(var g of(s=h[p],u+=n[p].length,a='<a class="nav-item nav-link" id="nav-'+s.id+'-tab" data-toggle="tab" href="#nav-'+s.id+'" role="tab" aria-controls="nav-'+s.id+'" aria-selected="true">'+s.name+" ("+n[p].length+")</a>",o='<div class="tab-pane fade" id="nav-'+s.id+'" role="tabpanel" aria-labelledby="nav-'+s.id+'-tab"><div class="list-group">',n[p]))i='<a href="#" class="list-group-item list-group-item-action ui-pluginmanager-view-plugin" package="'+g.package+'">',i+='    <div class="d-flex w-100 justify-content-between">',i+='        <h5 class="mb-1">'+g.fullName+"</h5>",i+="        <small>"+g.version+"</small>",i+="    </div>",i+='    <p class="mb-1">'+g.desc+"</p>",i+="    <small>By "+g.author+"</small>",o+=i+="</a>",l+=i;o+="</div></div>",d.append(a),c.append(o)}e("#nav-all-tab").html(e.i18n("plugin-manager-tab-all")+" ("+u+")"),e("#nav-all").html(l),e(".ui-pluginmanager-view-plugin").on("click",(function(){P("viewplugin",e(this).attr("package"))}))},settings:function(){var t,n="";for(var r of l.getDefaultSettings())t=l.get(r.key,r.def),n+='<div class="form-group">    <label><b>'+r.name+":</b><p>"+r.desc+"</p></label>","boolean"===r.type?(n+='    <select class="form-control" id="gtw-settings-'+r.key+'">',n+=t?'        <option value="yes" selected>'+e.i18n("settings-option-yes")+'</option>        <option value="no">'+e.i18n("settings-option-no")+"</option>":'        <option value="yes">'+e.i18n("settings-option-yes")+'</option>        <option value="no" selected>'+e.i18n("settings-option-no")+"</option>",n+="    </select>"):(n+='    <input class="form-control" id="gtw-settings-'+r.key+'" type="',"number"===r.type?n+="number":n+="text",n+='" value="'+t+'"/>'),n+="</div>";n+='<input type="button" class="btn btn-success ui-btn-settings-save ui-btn-settings-save-close" value="'+e.i18n("settings-save-and-close-btn")+'"/> <input type="button" class="btn btn-default ui-btn-settings-save" value="'+e.i18n("settings-apply-btn")+'"/>',e(".modal-body").html(n),e(".ui-btn-settings-save").on("click",(function(){var t,n;for(var r of l.getDefaultSettings()){if(t=e("#gtw-settings-"+r.key).val(),n="boolean"===r.type?"yes"===t:"number"===r.type?parseInt(t):t,r.checkfunc&&!r.checkfunc(n))return void alert(e.i18n("settings-invalid-value",r.name));l.set(r.key,n)}l.save(),e(this).hasClass("ui-btn-settings-save-close")&&j()}))},transitEtaUpdateUi:function(){var t=d.c.length;if(t>0){e(".request-progress-panel").fadeIn(500);var n=v.maxRequest;(!n||t>n)&&(n=v.maxRequest=t),e(".request-progress-panel .progress-bar").html(e.i18n("transit-eta-requesting-data",n-t,n)),e(".request-progress-panel .progress-bar").css("width",Math.floor((n-t)/n*100)+"%")}else v.maxRequest=0,e(".request-progress-panel .progress-bar").css("width","100%"),e(".request-progress-panel").fadeOut(500,(function(){e(".request-progress-panel .progress-bar").css("width","0%")}));var r=v.allNearbyRoutes;for(var i of r){o.fetchEta({provider:i.route.provider,etaProviders:i.route.etaProviders,routeId:i.route.routeId,selectedPath:i.bound,stopId:i.stop.stopId}).then((function(t){var n="",r=t.options,i=e('.nearby-route-list .route-selection[gtw-provider="'+r.provider+'"][gtw-route-id="'+r.routeId+'"][gtw-bound="'+r.selectedPath+'"][gtw-stop-id="'+r.stopId+'"]');i.removeClass("list-group-item-secondary"),i.removeClass("list-group-item-info"),i.removeClass("list-group-item-success"),i.removeClass("list-group-item-warning"),i.removeClass("list-group-item-danger"),i.removeClass("list-group-item-light"),i.removeClass("list-group-item-dark");var a="btn-secondary";if(!t||!t.schedules||t.code&&t.code<0)n=e.i18n("transit-eta-route-not-available-short"),i.addClass("list-group-item-light");else if(0===t.schedules.length)n=e.i18n("transit-eta-no-schedules-pending-short"),i.addClass("list-group-item-light");else{var o=t.schedules[0],s=Math.floor((o.time-o.serverTime)/1e3/60),l="";if(l=s>=20?"secondary":s>=15?"info":s>=10?"success":s>=5?"warning":s>=1?"danger":"dark",i.addClass("list-group-item-"+l),void 0!==o.msg)n=o.msg.length>20?e.i18n("transit-eta-transit-notice"):o.msg,a="badge-warning";else void 0!==o.time&&(void 0!==o.msg&&(n+="<br />"),a="badge-primary",s>0?n+=e.i18n("transit-eta-minutes",s):(n+=e.i18n("transit-eta-arrived-left",s),a="badge-dark"),void 0!==o.isLive&&(n+='<br /><span style="font-size: 10px; position: absolute; top: 16px; right: 16px; ',o.isLive?n+='color: red;"><i class="fa fa-circle"></i> '+e.i18n("transit-eta-live")+"</span>":n+='color: black; font-style: italic;">'+e.i18n("transit-eta-scheduled")+"</span>"))}var d=i.children(".transit-eta");d.removeClass("badge-primary"),d.removeClass("badge-secondary"),d.removeClass("badge-warning"),d.removeClass("badge-danger"),d.removeClass("badge-dark"),d.addClass(a),d.html(n)})).catch((function(t,n){var r=e('.nearby-route-list .route-selection[gtw-provider="'+t.provider+'"][gtw-route-id="'+t.routeId+'"][gtw-bound="'+t.selectedPath+'"][gtw-stop-id="'+t.stopId+'"]');r.removeClass("list-group-item-secondary"),r.removeClass("list-group-item-info"),r.removeClass("list-group-item-success"),r.removeClass("list-group-item-warning"),r.removeClass("list-group-item-danger"),r.removeClass("list-group-item-light"),r.removeClass("list-group-item-dark"),r.addClass("list-group-item-light");var i=r.children(".transit-eta");i.removeClass("badge-primary"),i.removeClass("badge-secondary"),i.removeClass("badge-warning"),i.removeClass("badge-danger"),i.removeClass("badge-dark"),i.addClass("badge-danger"),i.html(e.i18n("transit-eta-error-fetching-eta-short"))}))}},transitEta:function(){d.a(),o.clearCache();var t=u.a(),n=i.getProviders();if(n.length>0){var c='<div class="hori-scroll btn-group">    <button type="button" class="btn btn-primary gtw-providersort gtw-providersort-all"><i class="fa fa-reply-all"></i><br />'+e.i18n("transit-eta-sort-all")+"</button>";for(var p of n){var f="";f=p.type===TransitType.BUS?"fa-bus":p.type===TransitType.TRAIN?"fa-train":"fa-question",c+=' <button type="button" class="btn btn-default gtw-providersort gtw-providersort-provider" gtw-provider="'+p.id+'"><i class="fa '+f+'"></i><br />'+g.localizedKey(p,"name")+"</button>"}c+="</div>",e(".tab-panel").append(c);var h='<div class="input-group mb-3" style="margin-top: 16px;">    <input type="text" class="form-control" placeholder="'+e.i18n("transit-eta-placeholder-search-for-transit")+'" aria-label="'+e.i18n("transit-eta-placeholder-search-for-transit")+'" aria-describedby="search-transit-icon" id="search-transit-text" readonly/>    <div class="input-group-append">        <button class="btn btn-light disabled" type="button" id="button-cancel-search"><i class="fas fa-search"></i></button>    </div></div>';e(".tab-panel").append(h);e(".tab-panel").append('<div class="request-progress-panel">    <div class="progress bg-white">        <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" style="width: 0%;"></div>    </div></div>'),e(".gtw-providersort").on("click",(function(){if(!e(this).hasClass("btn-primary"))if(e(".gtw-providersort").removeClass("btn-primary"),e(this).hasClass("gtw-providersort-all"))e(this).addClass("btn-primary"),e(".route-selection").attr("style","");else{var t=e(this).attr("gtw-provider");e(this).addClass("btn-primary"),e(".gtw-providersort-provider:not([gtw-provider='"+t+"'])").addClass("btn-default"),e(".route-selection[gtw-provider='"+t+"']").attr("style",""),e(".route-selection:not([gtw-provider='"+t+"'])").attr("style","display: none!important")}}));var y=t.lat,w=t.lng,k=l.get("min_nearby_transit_range",200)/1e3,C=a.getAllStopsNearby(y,w,k,!0,!0);if(0===C.length){var P=k;do{P+=.05,C=a.getAllStopsNearby(y,w,P,!0,!0)}while(0===C.length&&P<10);P>=10?e(".tab-panel").append('<div class="alert alert-danger alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true" >&#215;</button>No routes are found in 10 km range.</div>'):e(".tab-panel").append('<div class="alert alert-warning alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true" >&#215;</button>'+e.i18n("transit-eta-no-routes-found-nearby-extended-range",1e3*k,Math.ceil(1e3*P))+"</div>")}var j,N,E,T,O,R=l.get("max_nearby_transit_to_display",20),U=[];for(var L of C){if(U.length>=R)break;var B=r.c(L.stop);for(var M of B)U.push({route:M.route,bound:M.bound,stop:L.stop,distance:L.distance})}for(var q of(j='<div class="row item-list nearby-route-list"><ul class="list-group">',U))T=(E=q.route.paths[q.bound])[E.length-1],N=Math.round(1e3*q.distance),O=i.getProvider(q.route.provider),j+='    <li class="list-group-item list-group-item-action d-flex justify-content-between align-items-center route-selection" gtw-provider="'+q.route.provider+'" gtw-route-id="'+q.route.routeId+'" gtw-stop-id="'+q.stop.stopId+'" gtw-bound="'+q.bound+'">        <div class="d-flex flex-column route-id">            <div>'+g.localizedKey(O,"name")+"</div>            <div>"+g.localizedKey(q.route,"routeName")+'</div>        </div>        <div class="d-flex flex-column stop-info mr-auto">            <div>                <b>'+e.i18n("transit-eta-to")+":</b> <small>"+g.localizedKey(a.getStopById(T),"stopName")+"</small></div>            <div>                "+g.localizedKey(q.stop,"stopName")+" ("+N+e.i18n("transit-eta-metres")+')            </div>        </div>        <span class="badge badge-primary badge-pill transit-eta">'+e.i18n("transit-eta-retrieving")+"</span>    </li>";j+='</ul></div><div class="row item-list all-route-list"></div>',e(".content-panel-container").html(j),e(".route-selection").on("mouseenter",D),e(".route-selection").on("mouseleave",(function(){})),e(".route-selection").on("click",z),e("#button-cancel-search").on("click",(function(){e(this).hasClass("disabled")||I()})),e(".touch-keypad-function-clear").on("click",(function(){I()})),e(".touch-keypad-function-backspace").on("click",(function(){var t=e("#search-transit-text").val();e("#search-transit-text").val(t.slice(0,-1)),S()})),e(".touch-keypad-value").on("click",_);e("#search-transit-text").on("click",(function(){x(),e("#button-cancel-search").removeClass("btn-light"),e("#button-cancel-search").removeClass("disabled"),e("#button-cancel-search").addClass("btn-danger"),e("#button-cancel-search").html('<i class="fas fa-times"></i>'),e(".nearby-route-list").css("display","none"),e(".all-route-list").css("display","flex"),s.g(u.a()),s.h(16),s.e(),s.f(),S(!0)})),e("#search-transit-text").on("input",(function(){clearTimeout(m),m=setTimeout((function(){S()}),500)})),v.allNearbyRoutes=U,A.transitEtaUpdateUi(),b.nearbyRoutesUpdate=setInterval((function(){A.transitEtaUpdateUi()}),3e4)}else e(".tab-panel").html('<br /><div class="alert alert-danger" role="alert"><i class="fas fa-exclamation-triangle"></i> '+e.i18n("transit-eta-no-plugins-providing-transit-data")+"</div>")}}}).call(this,n(0))},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";t.a={mapApi:"googlemap",googleMapApiKey:"AIzaSyAhU7FqH46IdF4RaHrBlABfkoFlHZeudFg"}},,,,function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),a=(n(51),n(53),n(55),n(57),n(59),n(60),n(62),n(66),n(67),n(68),n(15)),o=n(8),s=n(18),l=(n(10),n(1)),d=n(11),c=n(19),u=n(4),p=n(14),g=(n(74),n(2)),f=n(9),h=n(23);window.jQuery=i.a,window.$=i.a;var m=n(50);["js","messagestore","fallbacks","parser","emitter","language"].forEach((function(e){m("./jquery.i18n."+e)})),"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js").then(e=>{console.log("SW registered: ",e)}).catch(e=>{console.log("SW registration failed: ",e)})});var v=['<i class="fas fa-map-marked-alt"></i> 去邊㗎 GoToWhere','<i class="fas fa-map-marked-alt"></i> GoToWhere<small>.ga</small>','<i class="fas fa-map-marked-alt"></i> HeuiBin<small>.ga</small>'],b=!1;i()(document).ready((function(){adjustMargin(),i()(".startup .progress-panel").fadeIn(5e3),i()(".startup .container").fadeIn(2e3,(function(){!function e(t){b||((void 0===t||t>2)&&(t=0),i()(".startup h1").html(v[t]),i()(".startup h1").fadeIn(2e3,(function(){i()(".startup h1").fadeOut(2e3,(function(){e(t+1)}))})))}()})),console.log("GoToWhere (c) 2019. Licensed under the MIT License."),i()("#startup-status").html("Loading GoToWhere scripts...")})),i()(window).resize((function(){adjustMargin()})),window.adjustMargin=function(){var e=0;i()(".numeric-keypad .btn-group").each((function(){e+=i()(this).height()})),i()(".letter-keypad").css("height",e);var t=i()(".header").height(),n=i()(window).height();i()(".desktop.half-map-container").css("height",n-t),i()(".content-panel-container").css("height",n-t-e)},i()(".build-version").html("1.0.5"),h.a.defs("EPSG:2326","+proj=tmerc +lat_0=22.31213333333334 +lon_0=114.1785555555556 +k=1 +x_0=836694.05 +y_0=819069.8 +ellps=intl +towgs84=-162.619,-276.959,-161.764,0.067753,-2.24365,-1.15883,-1.09425 +units=m +no_defs"),h.a.defs("EPSG:4326","+proj=longlat +datum=WGS84 +no_defs"),u.load(),g.changeLanguage(u.get("preferred_language","en")),p.d(),a.register("www.gotowhere.ga",!0),a.register("plugins.gotowhere.ga",!0),i()("#startup-status").html(i.a.i18n("startup-status-downloading-plugins")),i()("#startup-progress").css("width","12.5%"),i()("#startup-status").html(i.a.i18n("startup-status-open-db"));var y=f.e();y?y.then((function(){i()("#startup-progress").css("width","25%"),i()("#startup-status").html(i.a.i18n("startup-status-loading-plugins")),(y=o.c((function(e){i()("#startup-progress").css("width",25+e/8+"%")}))).then((function(){i()("#startup-status").html(i.a.i18n("startup-status-init-db")),(y=s.a((function(e){i()("#startup-progress").css("width",25+e/4*3+"%")}))).then((function(){i()("#startup-progress").css("width","100%"),i()("#startup-status").html(i.a.i18n("startup-status-init-map")),(y=l.d()).then((function(){i()("#startup-status").html(i.a.i18n("startup-status-finish")),i()(".build-version").fadeOut(2e3);var e=localStorage.getItem("gtw-lastversion");e&&"1.0.5"!==e&&(console.log("Application updated to 1.0.5. Showing change-log."),c.b("updated","1.0.5")),localStorage.setItem("gtw-lastversion","1.0.5");var t,n=[];for(var r in o.d)(t=o.d[r]).status<0&&n.push(t);console.log(n),n.length&&c.b("errorplugins",n),d.b((function(){c.a(),i()("#loc-status-btn").addClass("btn-success"),i()("#loc-status-btn").removeClass("btn-warning"),setTimeout((function(){i()("#loc-status-btn").fadeOut(500)}),2e3)}),(function(){i()("#loc-status-btn").addClass("btn-danger"),i()("#loc-status-btn").removeClass("btn-warning"),i()("#loc-status-btn").append(" <span>Failed!</span>"),setTimeout((function(){i()("#loc-status-btn span").fadeOut(500)}),5e3)})),setTimeout((function(){i()(".footer").animate({height:0,opacity:0},1e3,(function(){i()(".footer").css("display","none")}))}),2e3),i()(".startup").fadeOut(1e3,(function(){b=!0}))}))}))}))})):(i()("#startup-status").attr("style","color: red"),i()("#startup-status").html(i.a.i18n("startup-status-not-supported")))},function(e,t,n){var r={"./jquery.i18n":24,"./jquery.i18n.emitter":25,"./jquery.i18n.emitter.bidi":26,"./jquery.i18n.emitter.bidi.js":26,"./jquery.i18n.emitter.js":25,"./jquery.i18n.fallbacks":27,"./jquery.i18n.fallbacks.js":27,"./jquery.i18n.js":24,"./jquery.i18n.language":28,"./jquery.i18n.language.js":28,"./jquery.i18n.messagestore":29,"./jquery.i18n.messagestore.js":29,"./jquery.i18n.parser":30,"./jquery.i18n.parser.js":30,"./languages/bs":31,"./languages/bs.js":31,"./languages/dsb":32,"./languages/dsb.js":32,"./languages/fi":33,"./languages/fi.js":33,"./languages/ga":34,"./languages/ga.js":34,"./languages/he":35,"./languages/he.js":35,"./languages/hsb":36,"./languages/hsb.js":36,"./languages/hu":37,"./languages/hu.js":37,"./languages/hy":38,"./languages/hy.js":38,"./languages/la":39,"./languages/la.js":39,"./languages/ml":40,"./languages/ml.js":40,"./languages/os":41,"./languages/os.js":41,"./languages/ru":42,"./languages/ru.js":42,"./languages/sl":43,"./languages/sl.js":43,"./languages/uk":44,"./languages/uk.js":44};function i(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=a,e.exports=i,i.id=50},,,,,function(e,t,n){var r=n(56);"string"==typeof r&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};n(17)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(16)(!1)).push([e.i,"body {\r\n    width: 100%;\r\n    height: 100vh;\r\n    overflow: hidden;\r\n    position: absolute;\r\n}\r\n\r\n.landscape-notice {\r\n    display: none;\r\n    width: 100%;\r\n    height: 100%;\r\n    background-color: white;\r\n    z-index: 5;\r\n    position: relative;\r\n    padding: 12%;\r\n    font-weight: bold;\r\n}\r\n\r\n/* Update Change-log */\r\n\r\n.build-version {\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\r\n    margin: 1rem;\r\n    z-index: 5;\r\n    margin-top: env(safe-area-inset-top);\r\n}\r\n\r\n#updated-changelog {\r\n    white-space: normal;\r\n}\r\n\r\n/* Toast */\r\n\r\n.toast-stack-container {\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\r\n    width: 100%;\r\n}\r\n\r\n#gtw-toast-stack {\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\r\n    margin: 1rem;\r\n    z-index: 3;\r\n}\r\n\r\n/* Startup DIV CSS */\r\n\r\n.startup {\r\n    position: absolute;\r\n    top: 0;\r\n    background-color: white;\r\n    width: 100%;\r\n    height: 100%;\r\n    overflow: hidden;\r\n    z-index: 4;\r\n}\r\n\r\n.startup .container {\r\n    display: none;\r\n    position: relative;\r\n}\r\n\r\n.startup .progress-panel {\r\n    position: absolute;\r\n    text-align: center;\r\n    width: 100%;\r\n    bottom: 0px;\r\n}\r\n\r\n.request-progress-panel {\r\n    position: absolute;\r\n    text-align: center;\r\n    width: 100%;\r\n    left: 0px;\r\n    bottom: 0px;\r\n    display: none;\r\n}\r\n\r\n.startup .overlay {\r\n    position: absolute;\r\n    top: 0;\r\n    height: 100%;\r\n    width: 100%;\r\n    background-color: white;\r\n    opacity: 0.5;\r\n    z-index: 1;\r\n}\r\n\r\n.startup .progress-panel {\r\n    display: none;\r\n}\r\n\r\n/* Getting Started Panel */\r\n.getting-started-panel {\r\n    display: none;\r\n    padding: 1rem;\r\n    position: absolute;\r\n    z-index: 1;\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\n.getting-started-panel p.app-title {\r\n    margin-top: 0.8125rem;\r\n    margin-left: 1rem;\r\n    margin-bottom: 0.8125rem;\r\n    white-space: nowrap;\r\n    line-height: inherit;\r\n    font-size: 1.25rem;\r\n}\r\n\r\n#gettingStartedWizard {\r\n    margin-top: 2rem;\r\n    background-color: white;\r\n    padding: 1rem;\r\n    width: 100%;\r\n}\r\n\r\n#gettingStartedWizard ul {\r\n    flex-wrap: nowrap;\r\n    overflow-x: auto;\r\n    overflow-y: hidden;\r\n}\r\n\r\n.getting-started-progress-panel {\r\n    display: none;\r\n}\r\n\r\n.getting-started-progress-panel .progress-panel {\r\n    text-align: center;\r\n}\r\n\r\n.getting-started-plugin-error-panel{\r\n    display: none;\r\n}\r\n\r\n/* ETA CSS */\r\n.bg-trans {\r\n    background-color: unset;\r\n}\r\n\r\n.half-map-container {\r\n    display: none;\r\n    width: 100%;\r\n    position: absolute;\r\n    overflow-x: hidden;\r\n    overflow-y: scroll;\r\n    z-index: 2;\r\n}\r\n\r\n.container {\r\n    padding: 0px;\r\n}\r\n\r\n.content-panel-container {\r\n\r\n}\r\n\r\n.item-list {\r\n    height: inherit;\r\n}\r\n\r\n.item-list .list-group {\r\n    width: 100%;\r\n    height: inherit;\r\n    overflow-x: hidden;\r\n    overflow-y: scroll;\r\n    z-index: 1;\r\n}\r\n\r\n.item-list .list-group li {\r\n    min-height: 100px;\r\n}\r\n\r\n.all-route-list {\r\n    display: none;\r\n}\r\n\r\n.stop-eta tr.active {\r\n    font-size: 18px;\r\n    font-weight: bold;\r\n}\r\n\r\n/* Map CSS */\r\n\r\n#gtw-map {\r\n    width: 100vw;\r\n    height: 100vh;\r\n    top: 0px;\r\n    left: 0px;\r\n    position: fixed;\r\n    overflow: hidden;\r\n}\r\n\r\n/* Search panel CSS */\r\n\r\n.top-panel {\r\n    padding: 8px;\r\n    margin-bottom: 0px;\r\n    background-color: unset;\r\n}\r\n\r\n.top-panel .tabs, .hori-scroll {\r\n    overflow: auto;\r\n    white-space: nowrap;\r\n    display: block;\r\n    padding: 4px;\r\n}\r\n\r\n.top-panel .tabs .ui-tab, .hori-scroll button {\r\n    display: inline-block;\r\n}\r\n\r\n#loc-status-btn {\r\n    margin-top: env(safe-area-inset-top);\r\n    margin-bottom: env(safe-area-inset-bottom);\r\n    position: fixed;\r\n    z-index: 3;\r\n    right: 4px;\r\n    bottom: 4px;\r\n}\r\n\r\n/* Header, footer CSS */\r\n\r\n.gtw-container {\r\n    position: fixed;\r\n    top: 0;\r\n    width: 100%;\r\n    z-index: 1;\r\n}\r\n\r\n/*\r\n.header nav {\r\n    background-color: #343a40\r\n}\r\n*/\r\n\r\n.footer {\r\n    padding-top: 8px;\r\n    padding-bottom: 0px;\r\n    position: fixed;\r\n    bottom: 0;\r\n    z-index: 2;\r\n    width: 100%;\r\n}\r\n\r\n.map-overlay {\r\n    position: fixed;\r\n    width: 100%;\r\n    height: 100%;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    background-color: rgba(233,236,239,0.8);\r\n    z-index: 1;\r\n    cursor: pointer;\r\n}\r\n\r\n/* Loading Overlay CSS */\r\n\r\n.loading-overlay {\r\n    position: fixed;\r\n    display: none;\r\n    width: 100%;\r\n    height: 100%;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    background-color: rgba(0,0,0,0.3);\r\n    z-index: 3;\r\n    opacity: 100;\r\n    cursor: pointer;\r\n}\r\n\r\n.loading-overlay .spinner-border {\r\n    width: 3rem;\r\n    height: 3rem;\r\n}\r\n\r\n/* Touch Keypad */\r\n\r\n.touch-keypad {\r\n    position: fixed;\r\n    left: 0;\r\n    bottom: 0;\r\n    width: 100%;\r\n    margin: 0px;\r\n    padding: 0px;\r\n    z-index: 2;\r\n    background: white;\r\n    display: none;\r\n    margin-bottom: env(safe-area-inset-bottom);\r\n}\r\n\r\n.touch-keypad .numeric-keypad {\r\n    width: 75%;\r\n}\r\n\r\n.touch-keypad .letter-keypad {\r\n    width: 25%;\r\n    overflow-x: hidden;\r\n    overflow-y: auto;\r\n    white-space: nowrap;\r\n    justify-content: flex-start;\r\n}\r\n\r\n/* Route selection */\r\n\r\n.route-selection .route-id {\r\n    padding-right: 16px;\r\n    font-weight: bold;\r\n}\r\n\r\n.route-selection .stop-info {\r\n    margin-left: 8px;\r\n    margin-right: 8px;\r\n}\r\n\r\n.route-selection .stop-info .badge {\r\n\r\n}\r\n\r\n.route-selection .stop-info .col-sm-12{\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis; \r\n    width: inherit;\r\n}\r\n\r\n/* Search Transit Field */\r\n\r\n#search-transit-text {\r\n    background-color: #fff;\r\n}\r\n\r\n/* Half-map Panel */\r\n.half-map-panel {\r\n    display: none;\r\n    background-color: unset;\r\n    padding: 8px;\r\n    margin-bottom: 0px;\r\n    position: relative;\r\n    z-index: 1;\r\n}\r\n\r\n/* Media Query */\r\n@media only screen and (min-width: 768px) {\r\n    .top-panel {\r\n        /*width: 25%;*/\r\n    }\r\n\r\n    .half-map-panel {\r\n        /*width: 25%;*/\r\n    }\r\n\r\n    .half-map-container {\r\n        /*width: 25%;*/\r\n        margin-left: 0;\r\n    }\r\n\r\n    .content-panel-container {\r\n        /*width: 25%;*/\r\n        margin-left: 0;\r\n    }\r\n\r\n    .request-progress-panel {\r\n        width: 25%;\r\n    }\r\n\r\n    #gtw-map {\r\n        width: 100vw;\r\n        /*width: 75%;\r\n        margin-left: 25%;*/\r\n    }\r\n\r\n    .gtw-container {\r\n        width: 25%;\r\n    }\r\n\r\n    .map-overlay {\r\n        width: 25%;\r\n        /*display: none;*/\r\n    }\r\n    \r\n    .touch-keypad {\r\n        width: 25%;\r\n    }\r\n\r\n    .getting-started-panel {\r\n        /*width: 25%;*/\r\n    }\r\n\r\n    .desktop.half-map-panel.gtw-half-map {\r\n        display: block;\r\n    }\r\n\r\n    .desktop.half-map-container.gtw-half-map {\r\n        display: block;\r\n    }\r\n\r\n    .mobile.half-map-panel.gtw-half-map {\r\n        display: none;\r\n    }\r\n\r\n    .mobile.half-map-container.gtw-half-map {\r\n        display: none;\r\n    }\r\n}\r\n\r\n@media only screen and (max-width: 768px) {\r\n    .gtw-container nav {\r\n        margin-top: env(safe-area-inset-top);\r\n        background-color: unset;\r\n    }\r\n\r\n    .toast-stack-container {\r\n        margin-top: env(safe-area-inset-top);\r\n        margin-bottom: env(safe-area-inset-bottom);\r\n    }\r\n\r\n    .getting-started-panel {\r\n        margin-top: env(safe-area-inset-top);\r\n        margin-bottom: env(safe-area-inset-bottom);\r\n    }\r\n\r\n    .modal {\r\n        margin-top: env(safe-area-inset-top);\r\n        margin-bottom: env(safe-area-inset-bottom);\r\n    }\r\n\r\n    .mobile-split-container {\r\n        margin-top: 50vh;\r\n        padding: 0px;\r\n    }\r\n\r\n    .startup .progress-panel {\r\n        margin-bottom: env(safe-area-inset-bottom);\r\n    }\r\n\r\n    /*\r\n    body.gtw-half-map {\r\n        overflow-y: scroll;\r\n    }\r\n\r\n    #gtw-map {\r\n        display: none;\r\n    }\r\n    */\r\n\r\n    .map-overlay.gtw-half-map {\r\n        /*display: none;*/\r\n        margin-top: 50vh;\r\n        height: 50vh;\r\n    }\r\n\r\n    /*\r\n    #gtw-map.gtw-half-map {\r\n        height: 50vh;\r\n        display: block;\r\n    }\r\n    */\r\n\r\n    .desktop.half-map-panel.gtw-half-map {\r\n        display: none;\r\n    }\r\n\r\n    .desktop.half-map-container.gtw-half-map {\r\n        display: none;\r\n    }\r\n\r\n    .mobile.half-map-panel.gtw-half-map {\r\n        display: block;\r\n        height: 20vh;\r\n    }\r\n\r\n    .mobile.half-map-container.gtw-half-map {\r\n        display: block;\r\n        height: 30vh;\r\n    }\r\n}\r\n\r\n/*\r\n@media only screen and (max-height: 768px) and (orientation: landscape) {\r\n    .landscape-notice {\r\n        display: block;\r\n    }\r\n}\r\n*/\r\n\r\n@media screen and (max-width: 470px) {\r\n    .startup h1 {\r\n        font-size: 10vw;\r\n    }\r\n}",""])},function(e,t,n){var r=n(58);"string"==typeof r&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};n(17)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(16)(!1)).push([e.i,'\r\nimg {\r\n    vertical-align: middle;\r\n}\r\n\r\n.img-responsive {\r\n    display: block;\r\n    height: auto;\r\n    max-width: 100%;\r\n}\r\n\r\n.img-rounded {\r\n    border-radius: 3px;\r\n}\r\n\r\n.img-thumbnail {\r\n    background-color: #fff;\r\n    border: 1px solid #ededf0;\r\n    border-radius: 3px;\r\n    display: inline-block;\r\n    height: auto;\r\n    line-height: 1.428571429;\r\n    max-width: 100%;\r\n    moz-transition: all .2s ease-in-out;\r\n    o-transition: all .2s ease-in-out;\r\n    padding: 2px;\r\n    transition: all .2s ease-in-out;\r\n    webkit-transition: all .2s ease-in-out;\r\n}\r\n\r\n.img-circle {\r\n    border-radius: 50%;\r\n}\r\n\r\n.timeline-centered {\r\n    position: relative;\r\n    margin-bottom: 30px;\r\n}\r\n\r\n    .timeline-centered:before, .timeline-centered:after {\r\n        content: " ";\r\n        display: table;\r\n    }\r\n\r\n    .timeline-centered:after {\r\n        clear: both;\r\n    }\r\n\r\n    .timeline-centered:before, .timeline-centered:after {\r\n        content: " ";\r\n        display: table;\r\n    }\r\n\r\n    .timeline-centered:after {\r\n        clear: both;\r\n    }\r\n\r\n    .timeline-centered:before {\r\n        content: \'\';\r\n        position: absolute;\r\n        display: block;\r\n        width: 4px;\r\n        background: #f5f5f6;\r\n        /*left: 50%;*/\r\n        top: 20px;\r\n        bottom: 20px;\r\n        margin-left: 30px;\r\n    }\r\n\r\n    .timeline-centered .timeline-entry {\r\n        position: relative;\r\n        /*width: 50%;\r\n        float: right;*/\r\n        margin-top: 5px;\r\n        margin-left: 30px;\r\n        margin-bottom: 10px;\r\n        clear: both;\r\n    }\r\n\r\n        .timeline-centered .timeline-entry:before, .timeline-centered .timeline-entry:after {\r\n            content: " ";\r\n            display: table;\r\n        }\r\n\r\n        .timeline-centered .timeline-entry:after {\r\n            clear: both;\r\n        }\r\n\r\n        .timeline-centered .timeline-entry:before, .timeline-centered .timeline-entry:after {\r\n            content: " ";\r\n            display: table;\r\n        }\r\n\r\n        .timeline-centered .timeline-entry:after {\r\n            clear: both;\r\n        }\r\n\r\n        .timeline-centered .timeline-entry.begin {\r\n            margin-bottom: 0;\r\n        }\r\n\r\n        .timeline-centered .timeline-entry.left-aligned {\r\n            float: left;\r\n        }\r\n\r\n            .timeline-centered .timeline-entry.left-aligned .timeline-entry-inner {\r\n                margin-left: 0;\r\n                margin-right: -18px;\r\n            }\r\n\r\n                .timeline-centered .timeline-entry.left-aligned .timeline-entry-inner .timeline-time {\r\n                    left: auto;\r\n                    right: -100px;\r\n                    text-align: left;\r\n                }\r\n\r\n                .timeline-centered .timeline-entry.left-aligned .timeline-entry-inner .timeline-icon {\r\n                    float: right;\r\n                }\r\n\r\n                .timeline-centered .timeline-entry.left-aligned .timeline-entry-inner .timeline-label {\r\n                    margin-left: 0;\r\n                    margin-right: 70px;\r\n                }\r\n\r\n                    .timeline-centered .timeline-entry.left-aligned .timeline-entry-inner .timeline-label:after {\r\n                        left: auto;\r\n                        right: 0;\r\n                        margin-left: 0;\r\n                        margin-right: -9px;\r\n                        -moz-transform: rotate(180deg);\r\n                        -o-transform: rotate(180deg);\r\n                        -webkit-transform: rotate(180deg);\r\n                        -ms-transform: rotate(180deg);\r\n                        transform: rotate(180deg);\r\n                    }\r\n\r\n        .timeline-centered .timeline-entry .timeline-entry-inner {\r\n            position: relative;\r\n            margin-left: -20px;\r\n        }\r\n\r\n            .timeline-centered .timeline-entry .timeline-entry-inner:before, .timeline-centered .timeline-entry .timeline-entry-inner:after {\r\n                content: " ";\r\n                display: table;\r\n            }\r\n\r\n            .timeline-centered .timeline-entry .timeline-entry-inner:after {\r\n                clear: both;\r\n            }\r\n\r\n            .timeline-centered .timeline-entry .timeline-entry-inner:before, .timeline-centered .timeline-entry .timeline-entry-inner:after {\r\n                content: " ";\r\n                display: table;\r\n            }\r\n\r\n            .timeline-centered .timeline-entry .timeline-entry-inner:after {\r\n                clear: both;\r\n            }\r\n\r\n            .timeline-centered .timeline-entry .timeline-entry-inner .timeline-time {\r\n                position: absolute;\r\n                left: -100px;\r\n                text-align: right;\r\n                padding: 10px;\r\n                -webkit-box-sizing: border-box;\r\n                -moz-box-sizing: border-box;\r\n                box-sizing: border-box;\r\n            }\r\n\r\n                .timeline-centered .timeline-entry .timeline-entry-inner .timeline-time > span {\r\n                    display: block;\r\n                }\r\n\r\n                    .timeline-centered .timeline-entry .timeline-entry-inner .timeline-time > span:first-child {\r\n                        font-size: 15px;\r\n                        font-weight: bold;\r\n                    }\r\n\r\n                    .timeline-centered .timeline-entry .timeline-entry-inner .timeline-time > span:last-child {\r\n                        font-size: 12px;\r\n                    }\r\n\r\n            .timeline-centered .timeline-entry .timeline-entry-inner .timeline-icon {\r\n                background: #fff;\r\n                color: #737881;\r\n                display: block;\r\n                width: 40px;\r\n                height: 40px;\r\n                -webkit-background-clip: padding-box;\r\n                -moz-background-clip: padding;\r\n                background-clip: padding-box;\r\n                -webkit-border-radius: 20px;\r\n                -moz-border-radius: 20px;\r\n                border-radius: 20px;\r\n                text-align: center;\r\n                -moz-box-shadow: 0 0 0 5px #f5f5f6;\r\n                -webkit-box-shadow: 0 0 0 5px #f5f5f6;\r\n                box-shadow: 0 0 0 5px #f5f5f6;\r\n                line-height: 40px;\r\n                font-size: 15px;\r\n                float: left;\r\n            }\r\n\r\n                .timeline-centered .timeline-entry .timeline-entry-inner .timeline-icon.bg-primary {\r\n                    background-color: #303641;\r\n                    color: #fff;\r\n                }\r\n\r\n                .timeline-centered .timeline-entry .timeline-entry-inner .timeline-icon.bg-secondary {\r\n                    background-color: #ee4749;\r\n                    color: #fff;\r\n                }\r\n\r\n                .timeline-centered .timeline-entry .timeline-entry-inner .timeline-icon.bg-success {\r\n                    background-color: #00a651;\r\n                    color: #fff;\r\n                }\r\n\r\n                .timeline-centered .timeline-entry .timeline-entry-inner .timeline-icon.bg-info {\r\n                    background-color: #21a9e1;\r\n                    color: #fff;\r\n                }\r\n\r\n                .timeline-centered .timeline-entry .timeline-entry-inner .timeline-icon.bg-warning {\r\n                    background-color: #fad839;\r\n                    color: #fff;\r\n                }\r\n\r\n                .timeline-centered .timeline-entry .timeline-entry-inner .timeline-icon.bg-danger {\r\n                    background-color: #cc2424;\r\n                    color: #fff;\r\n                }\r\n\r\n            .timeline-centered .timeline-entry .timeline-entry-inner .timeline-label {\r\n                position: relative;\r\n                background: #f5f5f6;\r\n                padding: 1em;\r\n                margin-left: 60px;\r\n                -webkit-background-clip: padding-box;\r\n                -moz-background-clip: padding;\r\n                background-clip: padding-box;\r\n                -webkit-border-radius: 3px;\r\n                -moz-border-radius: 3px;\r\n                border-radius: 3px;\r\n            }\r\n\r\n                .timeline-centered .timeline-entry .timeline-entry-inner .timeline-label:after {\r\n                    content: \'\';\r\n                    display: block;\r\n                    position: absolute;\r\n                    width: 0;\r\n                    height: 0;\r\n                    border-style: solid;\r\n                    border-width: 9px 9px 9px 0;\r\n                    border-color: transparent #f5f5f6 transparent transparent;\r\n                    left: 0;\r\n                    top: 10px;\r\n                    margin-left: -9px;\r\n                }\r\n\r\n                .timeline-centered .timeline-entry .timeline-entry-inner .timeline-label h2, .timeline-centered .timeline-entry .timeline-entry-inner .timeline-label p {\r\n                    color: #737881;\r\n                    font-family: "Noto Sans",sans-serif;\r\n                    font-size: 12px;\r\n                    margin: 0;\r\n                    line-height: 1.428571429;\r\n                }\r\n\r\n                    .timeline-centered .timeline-entry .timeline-entry-inner .timeline-label p + p {\r\n                        margin-top: 15px;\r\n                    }\r\n\r\n                .timeline-centered .timeline-entry .timeline-entry-inner .timeline-label h2 {\r\n                    font-size: 16px;\r\n                }\r\n\r\n                    .timeline-centered .timeline-entry .timeline-entry-inner .timeline-label h2 button {\r\n                        color: #303641;\r\n                    }\r\n\r\n                    .timeline-centered .timeline-entry .timeline-entry-inner .timeline-label h2 span {\r\n                        -webkit-opacity: .6;\r\n                        -moz-opacity: .6;\r\n                        opacity: .6;\r\n                        -ms-filter: alpha(opacity=60);\r\n                        filter: alpha(opacity=60);\r\n                    }\r\n',""])},,,,,,,,,,,function(e,t,n){var r={"./categories":[12,3],"./categories.json":[12,3],"./gtwp-ctbnwfb":[20,9,0],"./gtwp-ctbnwfb/":[20,9,0],"./gtwp-ctbnwfb/LICENCE":[75,7,29],"./gtwp-ctbnwfb/index":[20,9,0],"./gtwp-ctbnwfb/index.js":[20,9,0],"./gtwp-hktransit":[21,9,1],"./gtwp-hktransit/":[21,9,1],"./gtwp-hktransit/LICENCE":[76,7,30],"./gtwp-hktransit/index":[21,9,1],"./gtwp-hktransit/index.js":[21,9,1],"./gtwp-kmb":[22,9,2],"./gtwp-kmb/":[22,9,2],"./gtwp-kmb/LICENCE":[77,7,31],"./gtwp-kmb/index":[22,9,2],"./gtwp-kmb/index.js":[22,9,2],"./repository":[3,3],"./repository.json":[3,3]};function i(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],i=t[0];return Promise.all(t.slice(2).map(n.e)).then((function(){return n.t(i,t[1])}))}i.keys=function(){return Object.keys(r)},i.id=69,e.exports=i},function(e,t,n){var r={"./gtw-map-googlemap":[48,3],"./gtw-map-googlemap.js":[48,3]};function i(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],i=t[0];return n.e(t[1]).then((function(){return n(i)}))}i.keys=function(){return Object.keys(r)},i.id=70,e.exports=i},function(e,t,n){var r={"./modal-about-header.html":[79,9],"./modal-errorplugins-header.html":[80,12],"./modal-pluginclosedapi-header.html":[81,15],"./modal-pluginmanager-header.html":[82,18],"./modal-settings-header.html":[83,21],"./modal-updated-header.html":[84,24],"./modal-viewplugin-header.html":[85,27]};function i(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],i=t[0];return n.e(t[1]).then((function(){return n.t(i,7)}))}i.keys=function(){return Object.keys(r)},i.id=71,e.exports=i},function(e,t,n){var r={"./modal-about-body.html":[86,7],"./modal-errorplugins-body.html":[87,10],"./modal-pluginclosedapi-body.html":[88,13],"./modal-pluginmanager-body.html":[89,16],"./modal-settings-body.html":[90,19],"./modal-updated-body.html":[91,22],"./modal-viewplugin-body.html":[92,25]};function i(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],i=t[0];return n.e(t[1]).then((function(){return n.t(i,7)}))}i.keys=function(){return Object.keys(r)},i.id=72,e.exports=i},function(e,t,n){var r={"./modal-about-footer.html":[93,8],"./modal-errorplugins-footer.html":[94,11],"./modal-pluginclosedapi-footer.html":[95,14],"./modal-pluginmanager-footer.html":[96,17],"./modal-settings-footer.html":[97,20],"./modal-updated-footer.html":[98,23],"./modal-viewplugin-footer.html":[99,26]};function i(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],i=t[0];return n.e(t[1]).then((function(){return n.t(i,7)}))}i.keys=function(){return Object.keys(r)},i.id=73,e.exports=i},function(e,t,n){"use strict";(function(e){var t=n(4),r=1e3,i=[],a=console.trace;console.trace=function(e){v("console",e,-1)};var o=console.debug;console.debug=function(e){v("console",e,-2)};var s=console.log;console.log=function(e){v("console",e,0)};var l=console.warn;console.warn=function(e){v("console",e,1)};var d=console.error;console.error=function(e){v("console",e,2)};var c=!0;function u(e,t){-2===t?a(e):-1===t?o(e):0===t?s(e):1===t?l(e):2===t&&d(e)}function p(n,a,o,s){i.length>=r&&i.shift(),i.push({time:o,msg:a,level:s}),t.get("show_debug_msg",!1)&&function(t,n,r,i,a){if(a<=0)return;if(g===r&&f===n&&h===a&&i-m<7500)return;m=i,g=r,f=n,h=a;var o=e("#gtw-toast-stack"),s="Unknown",l="";-2===a?s="Trace":-1===a?s="Debug":0===a?(s="Info",l=" text-primary"):1===a?(s="Warning",l=" text-warning"):2===a&&(s="Error",l=" text-danger");var d='<div class="toast" role="alert" log-entry-id="'+t+'">    <div class="toast-header">        <strong class="mr-auto'+l+'">'+s+" ("+n+')</strong>        <small class="text-muted">'+new Date(i).toLocaleString()+'</small>        <button type="button" class="ml-2 mb-1 close" data-dismiss="toast" aria-label="Close"><span aria-hidden="true">&times;</span></button>    </div>    <div class="toast-body">'+r+"    </div></div>";o.children().length>=3&&o.children().each((function(t){t>=2&&e(this).toast("hide")}));o.prepend(d);var c=".toast[log-entry-id='"+t+"']";e(c).on("hidden.bs.toast",(function(){e(this).remove()})),e(c).toast({animation:!0,autohide:!0,delay:5e3}),e(c).toast("show")}(i.length,n,a,o,s)}var g=0,f=0,h=0,m=0;function v(e="unknown",t,n=0){var r=Date.now();if("object"==typeof t)if(c)u("["+new Date(r).toLocaleString()+"] ["+e+"]",n),u(t,n);else{var i=JSON.stringify(t);u("["+new Date(r).toLocaleString()+"] ["+e+"] "+i,n)}else u("["+new Date(r).toLocaleString()+"] ["+e+"] "+t,n);p(e,t,r,n)}}).call(this,n(0))}],[[49,5,6]]]);
//# sourceMappingURL=app.51b0e088ce9aa69a0e41.js.map