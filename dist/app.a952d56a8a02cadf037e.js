(window.webpackJsonp=window.webpackJsonp||[]).push([[4],[,function(t,e,n){"use strict";n.d(e,"d",(function(){return a})),n.d(e,"g",(function(){return o})),n.d(e,"h",(function(){return s})),n.d(e,"a",(function(){return l})),n.d(e,"e",(function(){return d})),n.d(e,"b",(function(){return c})),n.d(e,"f",(function(){return u})),n.d(e,"c",(function(){return p}));var r=n(45),i=!1;function a(){return new Promise((t,e)=>{n(70)("./gtw-map-"+r.a.mapApi).then((function(e){(i=e).init().then((function(){t()}))}))})}function o(t){return i.setCenter(t)}function s(t){return i.setZoom(t)}function l(t,e,n){return i.addMarker(t,e,n)}function d(){return i.removeAllMarkers()}function c(t,e,n,r=1,a=!0){return i.addPolyline(t,e,n,r,a)}function u(){return i.removeAllPolylines()}function p(t){return i.fitBounds(t)}},function(t){t.exports=JSON.parse('{"gtwp-hktransit":{"package":"gtwp-hktransit","name":"HKTransit","fullName":"Hong Kong Transit Data","desc":"Official transit data from data.gov.hk","author":"mob41","license":"https://github.com/mob41/GoToWhere/tree/master/src/plugins/gtwp-hktransit/LICENSE","closedApi":false,"github":"https://github.com/mob41/GoToWhere/tree/master/src/plugins/gtwp-hktransit","version":"0.0.1","targetApi":"0.0.1","region":"HK","category":"transit","dependencies":{}},"gtwp-kmb":{"package":"gtwp-kmb","name":"KMB","fullName":"Kowloon Motor Bus Transit ETA","desc":"Providing closed transit data from KMB.","author":"mob41","license":"https://github.com/mob41/GoToWhere/tree/master/src/plugins/gtwp-kmb/LICENSE","closedApi":true,"github":"https://github.com/mob41/GoToWhere/tree/master/src/plugins/gtwp-kmb","version":"0.0.1","targetApi":"0.0.1","region":"HK","category":"transitEta","dependencies":{}},"gtwp-ctbnwfb":{"package":"gtwp-ctbnwfb","name":"CTBNWFB","fullName":"Citybus and New World First Bus Transit ETA","desc":"Providing publicized transit data from Citybus and New World First Bus.","author":"mob41","license":"https://github.com/mob41/GoToWhere/tree/master/src/plugins/gtwp-ctbnwfb/LICENSE","closedApi":false,"github":"https://github.com/mob41/GoToWhere/tree/master/src/plugins/gtwp-ctbnwfb","version":"0.0.1","targetApi":"0.0.1","region":"HK","category":"transitEta","dependencies":{}}}')},function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"languages",(function(){return i})),n.d(e,"localizedKey",(function(){return a})),n.d(e,"getLanguage",(function(){return o})),n.d(e,"getLocale",(function(){return s})),n.d(e,"changeLanguage",(function(){return l}));var r=n(5);const i={en:"English",zh:"繁體中文"};function a(t,e){var n=e+"_"+o(),r=e+"_"+s(),i=e+"_en";return t[n]?t[n]:t[r]?t[r]:t[i]?t[i]:!!t[e]&&t[e]}function o(){return r.get("preferred_language","en")}function s(){return r.get("preferred_language","en").split("-")[0]}function l(e){var n=!1;for(var a in i)if(e===a){n=!0;break}return!!n&&(r.set("preferred_language",e),r.save(),t.i18n().locale=e,t.i18n().load("i18n/"+e+".json",e).done((function(){t("body").i18n()})))}}.call(this,n(0))},function(t,e,n){"use strict";n.r(e),n.d(e,"registerProvider",(function(){return o})),n.d(e,"unregisterProvider",(function(){return s})),n.d(e,"getProviders",(function(){return l})),n.d(e,"getProvider",(function(){return d})),n.d(e,"fetchAllDatabase",(function(){return c})),n.d(e,"getAllStops",(function(){return u})),n.d(e,"getAllStopsNearby",(function(){return p})),n.d(e,"getStopById",(function(){return g}));var r=n(6),i=n(9),a=[];function o(t,e,n,r){if(!r.fetchDatabase||"function"!=typeof r.fetchDatabase||!r.isDatabaseUpdateNeeded||"function"!=typeof r.isDatabaseUpdateNeeded)throw new Error("Error: "+n+" does not contain fetchDatabase or isDatabaseUpdateNeeded function!");if(r.type=t,r.id=e,"object"==typeof n)for(var i in r.name=n.default,n)r["name_"+i]=n[i];else r.name=n;r.db=!1,r.getStop=function(t){if(!this.db)return!1;var e;for(e=0;e<this.db.stops.length;e++)if(this.db.stops[e].stopId===t)return this.db.stops[e];return!1},r.getStopById=function(t){var e=this.getStops();for(var n of e)if(n.stopId===t)return n;return!1},r.getStops=function(){return this.db?this.db.stops:[]},a.push(r)}function s(t){for(var e=-1,n=0;n<a.length;n++)a[n].id===t&&(e=n);a.splice(e,1)}function l(){return a}function d(t){for(var e of a)if(e.id===t)return e;return!1}function c(t){return new Promise((e,o)=>{var s=[];for(var l of a)s.push(i.d(l.id).then((function(t){if(t){var e=n(4).getProvider(t.provider);e&&(e.db=t)}})).catch(o));Promise.all(s).then((function(){var s,l={},d=[];for(var c of a)c.db?((s=new Promise((t,e)=>{c.isDatabaseUpdateNeeded(t,e,c.db.version)})).then((function(t){l[c.id]=t})).catch((function(){console.error("Error: Database check update for "+c.id+" failed!"),l[c.id]=!1})),d.push(s)):l[c.id]=!0;Promise.all(d).then((function(){var s,d=[];for(var c of a)l[c.id]&&((s=new Promise((t,e)=>{c.fetchDatabase(t,e)})).then((function(t){const{type:e,provider:r,stops:a,version:o}=t;if(e&&r&&a&&o){var s={type:e,provider:r,stops:a,version:o};return n(4).getProvider(t.provider).db=s,i.i(s)}console.error("Error: Returned stops database is in wrong structure for "+(r||"unknown provider")+".")})),d.push(s));r.a(d,t).then(e).catch(o)}))})).catch(o)})}function u(){var t=[];for(var e of a)if(e){var n=e.getStops();n&&n.length>0&&(t=t.concat(n))}return t}function p(t,e,n,i=!0){for(var a,o,s=u(),l=[],d=0;d<s.length;d++)a=s[d],(o=r.c(t,e,a.lat,a.lng))<=n&&l.push({stop:a,distance:o});return i&&l.sort((function(t,e){return t.distance<e.distance?-1:t.distance>e.distance?1:0})),l}function g(t){var e,n=u();for(e=0;e<n.length;e++)if(t===n[e].stopId)return n[e];return!1}},function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"getDefaultSettings",(function(){return i})),n.d(e,"json",(function(){return a})),n.d(e,"get",(function(){return o})),n.d(e,"set",(function(){return s})),n.d(e,"load",(function(){return l})),n.d(e,"save",(function(){return d}));const r="gtw-settings";function i(){return[{key:"preferred_language",type:"string",name:t.i18n("settings-key-preferred-language"),desc:t.i18n("settings-key-preferred-language-desc"),def:"en",checkfunc:function(t){var e=n(3).languages,r=!1;for(var i in e)if(i===t){r=!0;break}return r}},{key:"min_nearby_transit_range",type:"number",name:t.i18n("settings-key-min-nearby-transit-search-range"),desc:t.i18n("settings-key-min-nearby-transit-search-range-desc"),def:200,checkfunc:function(t){var e=parseInt(t);return!Number.isNaN(e)&&e<1e4}},{key:"max_nearby_transit_to_display",type:"number",name:t.i18n("settings-key-max-nearby-transit-to-be-displayed"),desc:t.i18n("settings-key-max-nearby-transit-to-be-displayed-desc"),def:20,checkfunc:function(t){var e=parseInt(t);return!Number.isNaN(e)&&e<100}},{key:"use_cors_proxy",type:"boolean",name:t.i18n("settings-key-use-cors-proxy"),desc:t.i18n("settings-key-use-cors-proxy-desc"),def:!0},{key:"cors_proxy_server",type:"string",name:t.i18n("settings-key-cors-proxy-server"),desc:t.i18n("settings-key-cors-proxy-server-desc"),def:"https://cp1.gotowhere.ga/",checkfunc:function(t){return t.startsWith("https://")&&t.endsWith("/")}},{key:"cors_check_bypass",type:"boolean",name:t.i18n("settings-key-cors-check-bypass"),desc:t.i18n("settings-key-cors-check-bypass-desc"),def:!1}]}var a={};function o(t,e=!1){var n=a[t];return void 0===n?e:n}function s(t,e){return a[t]=e,!0}function l(){if(!localStorage)return!1;var t=localStorage.getItem(r);if(!t)return d();var e=JSON.parse(t);return!!e&&(a=e,!0)}function d(){return!!localStorage&&(localStorage.setItem(r,JSON.stringify(a)),!0)}}.call(this,n(0))},function(t,e,n){"use strict";function r(t,e,n,r){var i=.017453292519943295,a=Math.cos,o=.5-a((n-t)*i)/2+a(t*i)*a(n*i)*(1-a((r-e)*i))/2;return 12742*Math.asin(Math.sqrt(o))}function i(t,e){let n=0;e(0);for(const r of t)r.then(()=>{e(100*++n/t.length)});return Promise.all(t)}function a(t){return t<10?"0"+t:t}function o(t,e){var n=t,r=e;t.length<e.length&&(n=e,r=t);var i=n.length;return 0==i?1:(i-function(t,e){t=t.toLowerCase(),e=e.toLowerCase();for(var n=new Array,r=0;r<=t.length;r++){for(var i=r,a=0;a<=e.length;a++)if(0==r)n[a]=a;else if(a>0){var o=n[a-1];t.charAt(r-1)!=e.charAt(a-1)&&(o=Math.min(Math.min(o,i),n[a])+1),n[a-1]=i,i=o}r>0&&(n[e.length]=i)}return n[e.length]}(n,r))/parseFloat(i)}n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return a})),n.d(e,"d",(function(){return o}))},function(t,e,n){"use strict";n.r(e),n.d(e,"registerProvider",(function(){return o})),n.d(e,"unregisterProvider",(function(){return s})),n.d(e,"getProviders",(function(){return l})),n.d(e,"getProvider",(function(){return d})),n.d(e,"fetchAllDatabase",(function(){return c})),n.d(e,"getAllRoutes",(function(){return u})),n.d(e,"getRouteById",(function(){return p}));var r=n(6),i=n(9),a=[];function o(t,e,n,r){if(!r.fetchDatabase||"function"!=typeof r.fetchDatabase||!r.isDatabaseUpdateNeeded||"function"!=typeof r.isDatabaseUpdateNeeded)throw new Error("Error: "+n+" does not contain fetchDatabase or isDatabaseUpdateNeeded function!");if(r.type=t,r.id=e,"object"==typeof n)for(var i in r.name=n.default,n)r["name_"+i]=n[i];else r.name=n;r.db=!1,r.getRoute=function(t){if(!this.db)return!1;var e;for(e=0;e<this.db.routes.length;e++)if(this.db.routes[e].routeId===t)return this.db.routes[e];return!1},r.getRouteById=function(t){var e=this.getRoutes();for(var n of e)if(n.routeId===t)return n;return!1},r.getRoutes=function(){return this.db?this.db.routes:[]},a.push(r)}function s(t){for(var e=-1,n=0;n<a.length;n++)a[n].id===t&&(e=n);a.splice(e,1)}function l(){return a}function d(t){for(var e of a)if(e.id===t)return e;return!1}function c(t){return new Promise((e,o)=>{var s=[];for(var l of a)s.push(i.c(l.id).then((function(t){if(t){var e=n(7).getProvider(t.provider);e&&(e.db=t)}})).catch(o));Promise.all(s).then((function(){var s,l={},d=[];for(var c of a)c.db?((s=new Promise((t,e)=>{c.isDatabaseUpdateNeeded(t,e,c.db.version)})).then((function(t){l[c.id]=t})).catch((function(){console.error("Error: Database check update for "+c.id+" failed!"),l[c.id]=!1})),d.push(s)):l[c.id]=!0;Promise.all(d).then((function(){var s,d=[];for(var c of a)l[c.id]&&((s=new Promise((t,e)=>{c.fetchDatabase(t,e)})).then((function(t){const{type:e,provider:r,routes:a,version:o}=t;if(e&&r&&a&&o){var s={type:e,provider:r,routes:a,version:o};return n(7).getProvider(t.provider).db=s,i.h(s)}console.error("Error: Returned routes database is in wrong structure for "+(r||"unknown provider")+".")})),d.push(s));r.a(d,t).then(e).catch(o)}))})).catch(o)})}function u(){var t=[];for(var e of a)if(e){var n=e.getRoutes();n&&n.length>0&&(t=t.concat(n))}return t}function p(t){var e,n=u();for(e=0;e<n.length;e++)if(t===n[e].routeId)return n[e];return!1}},function(t,e,n){"use strict";(function(t){n.d(e,"d",(function(){return a})),n.d(e,"b",(function(){return s})),n.d(e,"e",(function(){return l})),n.d(e,"a",(function(){return d})),n.d(e,"c",(function(){return u}));var r=n(6),i=n(2),a={},o=[];function s(t,e){return!function(t){for(var e of o)if(e===t)return!0;return!1}(t)&&(o.push(t),!1!==e&&c(),!0)}function l(t,e){var n;for(n=0;n<o.length;n++)if(o[n]===t)return o.splice(n,1),!1!==e&&c(),!0;return!1}function d(t){return a[t]}function c(){return window.localStorage.setItem("gtw-plugins",JSON.stringify(o)),!0}function u(e){if(localStorage){var s=localStorage.getItem("gtw-plugins");s&&(o=JSON.parse(s)),o&&"number"==typeof o.length||(console.warn("Warning: Installed plugins JSON string is invalid. Resetting as empty."),c());var l=[];for(var d of o){const e={package:d,status:1,msg:"Not Enabled"};i[d]?l.push(new Promise((r,i)=>{n(69)("./"+d).then((function(n){var a;if(n)if(n.onload&&"function"==typeof n.onload){new Promise((t,e)=>{var r=n.onload();r instanceof Promise?r.then(t).catch(e):t(r)}).then((function(n){if(n)e.status=0,delete e.msg;else{var i=t.i18n("plugin-error-onload-function-error",pkg);console.error(i),e.status=-4,e.msg=i}r()})).catch(i)}else a=t.i18n("plugin-error-no-onload-function",pkg),console.error(a),e.status=-3,e.msg=a;else a=t.i18n("plugin-error-no-module-returned",pkg),console.error(a),e.status=-2,e.msg=a}))})):(e.status=-1,e.msg="This plugin is not available in this version of GoToWhere."),a[d]=e}return r.a(l,e)}console.error("Error: LocalStorage is not supported in this browser.")}}).call(this,n(0))},function(t,e,n){"use strict";n.d(e,"e",(function(){return i})),n.d(e,"f",(function(){return a})),n.d(e,"a",(function(){return o})),n.d(e,"c",(function(){return s})),n.d(e,"h",(function(){return l})),n.d(e,"d",(function(){return d})),n.d(e,"i",(function(){return c})),n.d(e,"b",(function(){return u})),n.d(e,"g",(function(){return p}));var r=!1;function i(){return r=new Promise((t,e)=>{if(!("indexedDB"in window))return console.log("This browser doesn't support IndexedDB"),!1;var n=indexedDB.open("gotowhere-db",1);n.onupgradeneeded=function(t){var e=t.target.result;console.log("Creating DB schema"),e.objectStoreNames.contains("transitRoutes")||e.createObjectStore("transitRoutes",{keyPath:"provider"}),e.objectStoreNames.contains("transitStops")||e.createObjectStore("transitStops",{keyPath:"provider"}),e.objectStoreNames.contains("transitReference")||e.createObjectStore("transitReference",{keyPath:"provider"}),e.objectStoreNames.contains("pluginStorage")||e.createObjectStore("pluginStorage",{keyPath:"package"})},n.onsuccess=function(e){t(n.result)},n.onerror=e})}function a(t,e){return r.then((function(n){var r=n.transaction("pluginStorage","readwrite"),i=r.objectStore("pluginStorage"),a=Object.assign({},e);return i.put({package:t,data:a}),r.complete}))}function o(t){return new Promise((e,n)=>{r.then((function(r){var i=r.transaction("pluginStorage","readonly").objectStore("pluginStorage").get(t);i.onsuccess=function(){e(!!i.result&&i.result.data)},i.onerror=n}))})}function s(t){return new Promise((e,n)=>{r.then((function(r){var i=r.transaction("transitRoutes","readonly").objectStore("transitRoutes").get(t);i.onsuccess=function(){e(i.result)},i.onerror=n}))})}function l(t){const{type:e,provider:n,routes:i,version:a}=t;if(!(e&&n&&i&&a))return console.error("Error: Invalid routes database structure from "+(n||"unknown provider")+"."),!1;for(var o of i){const{type:e,provider:n,routeId:r,routeName:i,etaProviders:a,paths:s}=o;if(!(e&&n&&r&&i&&a&&s&&a.length&&s.length))return console.error("Error: Invalid database route structure from "+(t.provider?t.provider:"unknown provider")+"."),!1}var s=Object.assign({},t);return r.then((function(t){var e=t.transaction("transitRoutes","readwrite");return e.objectStore("transitRoutes").put(s),e.complete}))}function d(t){return new Promise((e,n)=>{r.then((function(r){var i=r.transaction("transitStops","readonly").objectStore("transitStops").get(t);i.onsuccess=function(){e(i.result)},i.onerror=n}))})}function c(t){const{type:e,provider:n,stops:i,version:a}=t;if(!(e&&n&&i&&a))return console.error("Error: Invalid stops database structure from "+(n||"unknown provider")+"."),!1;for(var o of i){const{type:e,provider:n,stopId:r,stopName:i,addr:a,lat:s,lng:l}=o;if(!(e&&n&&r&&i&&a&&s&&l&&"number"==typeof s&&"number"==typeof l))return console.error("Error: Invalid database stop structure from "+(t.provider?t.provider:"unknown provider")+"."),!1}var s=Object.assign({},t);return r.then((function(t){var e=t.transaction("transitStops","readwrite");return e.objectStore("transitStops").put(s),e.complete}))}function u(t){return new Promise((e,n)=>{r.then((function(r){var i=r.transaction("transitReference","readonly").objectStore("transitReference").get(t);i.onsuccess=function(){e(i.result)},i.onerror=n}))})}function p(t){const{type:e,provider:n,routes:i,stops:a,version:o}=t;if(!(e&&n&&i&&a&&o))return console.error("Error: Invalid reference database structure from "+(n||"unknown provider")+"."),!1;for(var s of i){const{type:e,provider:n,routeId:r,routeName:i,etaProviders:a,paths:o}=s;if(!(e&&n&&r&&i&&a&&o&&a.length))return console.error("Error: Invalid reference database route structure from "+(t.provider?t.provider:"unknown provider")+"."),!1}for(var l of a){const{type:e,provider:n,stopId:r,stopName:i,addr:a,lat:o,lng:s}=l;if(!(e&&n&&r&&i&&a&&void 0!==o&&void 0!==s&&"number"==typeof o&&"number"==typeof s))return console.error("Error: Invalid reference database stop structure from "+(t.provider?t.provider:"unknown provider")+"."),!1}var d=Object.assign({},t);return r.then((function(t){var e=t.transaction("transitReference","readwrite");return e.objectStore("transitReference").put(d),e.complete}))}},function(t,e,n){"use strict";n.r(e),n.d(e,"clearCache",(function(){return s})),n.d(e,"timeDifference",(function(){return l})),n.d(e,"registerProvider",(function(){return d})),n.d(e,"unregisterProvider",(function(){return c})),n.d(e,"getProviders",(function(){return u})),n.d(e,"getProvider",(function(){return p})),n.d(e,"fetchAllDatabase",(function(){return g})),n.d(e,"fetchEta",(function(){return f})),n.d(e,"getCache",(function(){return h}));var r=n(6),i=n(9),a=[],o={};function s(){o={}}function l(t,e){return 60*t.hr+t.min-(60*e.hr+e.min)}function d(t,e,n,r){if(!r.fetchEta||"function"!=typeof r.fetchEta||!r.fetchDatabase||"function"!=typeof r.fetchDatabase||!r.isDatabaseUpdateNeeded||"function"!=typeof r.isDatabaseUpdateNeeded)throw new Error("Error: "+e+" does not contain fetchEta, fetchDatabase or isDatabaseUpdateNeeded function!");if(r.type=t,r.id=e,r.db=!1,"object"==typeof n)for(var i in r.name=n.default,n)r["name_"+i]=n[i];else r.name=n;r.getRoute=function(t){if(!this.db)return!1;var e;for(e=0;e<this.db.routes.length;e++)if(this.db.routes[e].routeId===t)return this.db.routes[e];return!1},r.getRouteById=function(t){var e=this.getRoutes();for(var n of e)if(n.routeId===t)return n;return!1},r.getRoutes=function(){return this.db?this.db.routes:[]},r.getStop=function(t){if(!this.db)return!1;var e;for(e=0;e<this.db.stops.length;e++)if(this.db.stops[e].stopId===t)return this.db.stops[e];return!1},r.getStopById=function(t){var e=this.getStops();for(var n of e)if(n.stopId===t)return n;return!1},r.getStops=function(){return this.db?this.db.stops:[]},a.push(r)}function c(t){for(var e=-1,n=0;n<a.length;n++)a[n].id===t&&(e=n);a.splice(e,1)}function u(){return a}function p(t){for(var e of a)if(e.id===t)return e;return!1}function g(t){return new Promise((e,o)=>{var s=[];for(var l of a)s.push(i.b(l.id).then((function(t){if(t){var e=n(10).getProvider(t.provider);e&&(e.db=t)}})).catch(o));Promise.all(s).then((function(){var s,l={},d=[];for(var c of a)c.db?((s=new Promise((t,e)=>{c.isDatabaseUpdateNeeded(t,e,c.db.version)})).then((function(t){l[c.id]=t})).catch((function(){console.error("Error: Database check update for "+c.id+" failed!"),l[c.id]=!1})),d.push(s)):l[c.id]=!0;Promise.all(d).then((function(){var s,d=[];for(var c of(console.log(l),a))l[c.id]&&((s=new Promise((t,e)=>{c.fetchDatabase(t,e)})).then((function(t){const{type:e,provider:r,routes:a,stops:o,version:s}=t;if(e&&r&&a&&o&&s){var l={type:e,provider:r,routes:a,stops:o,version:s};return n(10).getProvider(t.provider).db=l,i.g(l)}console.error("Error: Returned reference database is in wrong structure for "+(r||"unknown provider")+".")})),d.push(s));r.a(d,t).then(e).catch(o)}))})).catch(o)})}function f(t){return new Promise((e,n)=>{var r=[],i=0;for(var a of t.etaProviders)r.push(new Promise((e,n)=>{var r=p(a);if(!r)return e(),void console.log('Could not find registered Transit ETA provider with name "'+a+'"');i++;var s=a+"-"+t.routeId+"-"+t.selectedPath+"-"+t.stopId,l=o[s],d=new Date;if(l&&d-l.lastFetched>3e4&&(l=!1,delete o[s]),l)e(l.data);else{new Promise((e,n)=>{r.fetchEta(e,n,t)}).then((function(r){if(!r)return void e(!1);const{schedules:i,options:a}=r;if(!i||!a)return console.error("Error: Plugin returned a TransitSchedule object with invalid structure."),void n(t,"Invalid TransitSchedule structure");for(var l of i)if(void 0===l.type||void 0===l.provider||void 0===l.serverTime||void 0===l.msg&&void 0===l.time||isNaN(parseInt(l.serverTime)))return console.error("Error: Plugin returned a TransitSchedule object with invalid schedules."),void n(t,"Invalid TransitSchedule schedules");var d=new Date,c={schedules:i,options:a};o[s]={lastFetched:d.getTime(),data:c},e(c)})).catch((function(e){e&&console.error(e),n(t,e)}))}}));Promise.all(r).then((function(n){if(i>0){var r=[];for(var a of n)a&&a.schedules&&(r=r.concat(a.schedules));r.sort((function(t,e){return t.time?e.time?t.time-e.time:-1:1})),e({schedules:r,options:t,code:0})}else t.etaProviders&&t.etaProviders.length>0?e({code:-2,options:t}):e({code:-1,options:t})})).catch(n)})}function h(){return o}},function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return l}));var r=n(1);const i=0,a=1;var o={lat:22.2952296,lng:114.1766577};function s(t=function(){},e=function(){}){if(navigator.geolocation){navigator.geolocation.getCurrentPosition((function(e){o={lat:e.coords.latitude,lng:e.coords.longitude},r.g(o),r.h(16),navigator.geolocation.watchPosition(d,c,{enableHighAccuracy:!1,timeout:5e3,maximumAge:0}),t(o)}),(function(){e(a)}),{timeout:5e3})}else e(i)}function l(){return o}function d(t){o={lat:t.coords.latitude,lng:t.coords.longitude}}function c(t){alert("TODO: Handle Position error!")}},function(t){t.exports=JSON.parse('{"transit":{"id":"transit","name":"Transit","desc":"Plugins that provide transit data to the platform."},"transitEta":{"id":"transitEta","name":"Transit ETA","desc":"Plugins that additionally provide transit ETA to routes."}}')},,function(t,e,n){"use strict";n.d(e,"c",(function(){return r})),n.d(e,"b",(function(){return o})),n.d(e,"d",(function(){return s})),n.d(e,"a",(function(){return l}));var r=[],i=500,a=!1;function o(t,e){if("function"!=typeof t)throw new TypeError("The variable must be a 'function'.");return r.push([t,e]),t}function s(){a||(a=!0,function t(){var e=r.shift();e&&"function"==typeof e[0]&&e[0].apply(null,e[1]);a&&setTimeout((function(){t()}),i)}())}function l(){r=[]}},function(t,e,n){"use strict";n.r(e),n.d(e,"domains",(function(){return a})),n.d(e,"register",(function(){return o})),n.d(e,"extractHost",(function(){return s})),n.d(e,"isCors",(function(){return l}));var r=n(47);const i="https://";var a={};function o(t,e=!1){var n={};n.allowCors=e,a[t]=n}function s(t){if(!t.includes("://"))return"___local___";if(t.startsWith("file://"))return"___file___";var e=t.indexOf("://"),n=t.substring(e+3);return-1===(e=n.indexOf("/"))&&(e=n.length()),n.substring(0,e)}function l(t){if(!t.startsWith(i))return!0;var e=s(t);return a[e]?!a[e].allowCors:window.location.host!==e}n.n(r).a.before((function(t,e){var r=n(15),i=n(5);if(i.get("cors_check_bypass",!1))e();else{if(r.isCors(t.url)){var a=r.extractHost(t.url);if(!a||""===a||"___local___"===a)return void e();var o=r.domains[a];if(!o)return console.error('gtw-cors: The request to "'+a+'" was dropped, because this cross-domain host was not registered before performing AJAX.'),void e({status:403,statusText:"The request is dropped by GoToWhere because this host was not registered before performing AJAX.",headers:{}});if(o.allowCors)return void e();if(!i.get("use_cors_proxy",!0))return console.error("gtw-cors: The request was dropped because there are no proxy available to handle CORS requests."),void e({status:403,statusText:"The request was dropped because there are no proxy available to handle CORS requests.",headers:{}});var s=i.get("cors_proxy_server","https://cp1.gotowhere.ga/");if(!s.startsWith("https://")||!s.endsWith("/"))return console.error("gtw-cors: The provided CORS Proxy server is invalid! Please check if the server URL in the settings is correct!"),void e({status:403,statusText:"The provided CORS Proxy server is invalid! Please check if the server URL in the settings is correct!.",headers:{}});var l=t.url.indexOf("http://"),d=t.url.indexOf("https://");if(-1!==l&&-1===d)t.url=s+t.url.substring(l+7);else{if(-1!==l||-1===d)return console.error("gtw-cors: Invalid URL: "+t.url),void e({status:403,statusText:"Invalid URL: "+t.url,headers:{}});t.url=s+t.url.substring(d+8)}}e()}}))},,,function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return l}));var r=n(7),i=n(4),a=n(10);function o(t){var e=[],n=0,o=0,s=0;return e.push(r.fetchAllDatabase((function(e){t(((n=e)+o+s)/3)}))),e.push(i.fetchAllDatabase((function(e){t((n+(o=e)+s)/3)}))),e.push(a.fetchAllDatabase((function(e){t((n+o+(s=e))/3)}))),Promise.all(e)}function s(t,e,n){if(n<0||n>=t.paths.length)return-1;for(var r=t.paths[n],i=0;i<r.length;i++){var a=r[i];if(e.stopId===a)return i}return-1}function l(t){var e=[],n=r.getAllRoutes();for(var i of n)for(var a=i.paths,o=0;o<a.length;o++){var s=a[o];for(var l of s)t.stopId===l&&e.push({route:i,bound:o})}return e}window.TransitType={BUS:"bus",MINIBUS:"minibus",TRAM:"tram",TRAIN:"train",FERRY:"ferry"}},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return w})),n.d(e,"b",(function(){return k}));var r=n(18),i=n(7),a=n(4),o=n(10),s=n(1),l=n(5),d=n(14),c=n(8),u=n(11),p=n(6),g=n(3),f=n(2),h=n(12);t(document).ready((function(){t(".header-links-plugins").on("click",(function(){k("pluginmanager")})),t(".header-links-settings").on("click",(function(){k("settings")})),t(".header-links-about").on("click",(function(){k("about")}))})),t(".ui-tab").on("click",(function(){if(!t(this).hasClass("btn-primary")){t(".ui-tab").removeClass("btn-primary"),t(".ui-tab").removeClass("btn-link");var e=t(this).attr("gtw-tab");t(this).addClass("btn-primary"),t(".ui-tab:not([gtw-tab='"+e+"'])").addClass("btn-link"),S(e)}})),t(".ui-half-map-back-btn").on("click",(function(){clearInterval(b.stopEtaUpdate),s.g(u.a()),s.h(16),s.e(),s.f(),C()}));var m,v={},b={},y=[];function w(){S("transitEta"),adjustMargin(),C(),0===Object.keys(c.d).length&&function(){t(".header nav").css("display","none"),t("#gettingStartedWizard").smartWizard({useURLhash:!1,showStepURLhash:!1}),t(".top-panel").css("display","none"),t(".content-panel-container").css("display","none"),t(".getting-started-panel").css("display","block");var e="";for(var n in g.languages)e+='<option value="'+n+'">'+g.languages[n]+" ("+n+")</option>";t("#langSelect").html(e),t("#langSelect").on("change",(function(){g.changeLanguage(t(this).val())}));var r={};for(var i in f)r[f[i].region]||(r[f[i].region]=[]),r[f[i].region].push(f[i]);t("#regionSelect").html("");var a='<option value="notselected">-- '+t.i18n("getting-started-wizard-step-plugins-select")+" --</option>";for(var o in r)a+='<option value="'+o+'"> '+o+"</option>";t("#regionSelect").removeAttr("disabled"),t("#regionSelect").html(a);var s={};for(var l in f)s[f[l].category]||(s[f[l].category]=[]),s[f[l].category].push(f[l]);var d=function(){var e,n,r,i=0,a=0;for(var o in s)r=h[o],e=0,t(".plugin-switch[category-id='"+r.id+"']").each((function(){t(this).prop("checked")&&e++})),(n=t(".category-btn[category-id='"+r.id+"']")).html(n.attr("category-name")+" ("+e+"/"+s[o].length+")"),i+=e,a+=s[o].length;t("#pluginsToInstallCount").html(t.i18n("getting-started-wizard-step-plugins-install-count",i,a)),t("#installCount").html(t.i18n("getting-started-wizard-step-finish-press-button",i)),t(".need-to-install").css("display",i>0?"none":"block"),i>0?t("#getStartedBtn").removeClass("disabled"):t("#getStartedBtn").addClass("disabled")};t("#regionSelect").on("change",(function(){var e=t(this).val(),n=t("#pluginsToInstallAccordion"),r=t("#pluginsToInstallCount");if("notselected"===e)return n.html(""),r.html(""),void d();var i,a,o="";for(var l in s){for(var u of(a=h[l],0,i="",s[l]))i+='            <div class="custom-control custom-switch">                <input type="checkbox" class="custom-control-input plugin-switch'+(u.closedApi?" plugin-closed-api":"")+'" category-id="'+a.id+'" package="'+u.package+'" id="switch-'+u.package+'"'+(u.closedApi?"":"checked")+'>                <label class="custom-control-label" for="switch-'+u.package+'">'+u.fullName,u.closedApi&&(i+='<br /><i class="fas fa-exclamation-triangle"></i> '+t.i18n("getting-started-wizard-step-plugins-closed-api")),i+="</label>            </div>";o+='<div class="card">    <div class="card-header" id="category-'+a.id+'-heading">        <h2 class="mb-0">            <button class="btn btn-link category-btn" type="button" data-toggle="collapse" data-target="#collapse-category-'+a.id+'" aria-expanded="true" aria-controls="collapse-category-'+a.id+'" category-id="'+a.id+'" category-name="'+a.name+'">'+a.name+'</button>        </h2>    </div>    <div id="collapse-category-'+a.id+'" class="collapse" aria-labelledby="category-'+a.id+'-heading" data-parent="#pluginsToInstallAccordion">        <div class="card-body">'+i+"        </div>    </div></div>"}n.html(o),d(),t(".plugin-closed-api").change((function(){this.checked&&k("pluginclosedapi",t(this),d)})),t(".plugin-switch").change((function(){d()})),t("#getStartedBtn").on("click",(function(){if(!t(this).hasClass("disabled")){t("#gettingStartedWizard").css("display","none"),t(".getting-started-progress-panel").css("display","block");var e=[];t(".plugin-switch").each((function(){if(t(this).prop("checked")){var n=t(this).attr("package");e.push(n)}}));var n=[];for(var r of e)c.b(r);if(t("#gs-plugin-progress").css("width","100%"),0!==n.length){t(".getting-started-progress-panel").css("display","none"),t(".getting-started-plugin-error-panel").css("display","block");var i,a="<p>"+t.i18n("getting-started-error-plugin-network-error")+'</p><button class="btn btn-block btn-warning" onclick="window.location.reload()" type="button">'+t.i18n("getting-started-error-refresh-btn")+"</button><hr /><p><b>"+t.i18n("getting-started-error-affected-plugins")+"</b><br />";for(i=0;i<n.length;i++)a+=n[i],i!==n.length-1&&(a+=", ");a+="</p>",t(".getting-started-plugin-error-panel .desc").html(a)}else setTimeout((function(){window.location.reload()}),500)}}))}))}()}function k(e,...r){!function(){for(var t of({},y))clearInterval(t)}(),{},function(e,r={}){const i="modal-"+e;!0===r&&((r={}).backdrop="static",r.keyboard=!1);var a=[];a.push(n(71)(`./${i}-header.html`).then((function(e){t(".modal-header").html(e.default)}))),a.push(n(72)(`./${i}-body.html`).then((function(e){t(".modal-body").html(e.default)}))),a.push(n(73)(`./${i}-footer.html`).then((function(e){t(".modal-footer").html(e.default)})));var o=Promise.all(a);return o.then((function(){t(".modal").modal(r)})),o}(e,!0).then((function(){t(".modal").i18n(),"function"==typeof j[e]&&j[e].apply(this,r)}))}function x(){t(".modal").modal("hide")}function S(e){!function(){for(var e in s.g(u.a()),s.h(16),s.e(),s.f(),v={},b)clearInterval(b[e]);b=[],t(".tab-panel").html(""),t(".content-panel-container").html("")}(),e,j[e]()}function C(){t(".content-panel-container").css("display","inline-block"),t(".top-panel").css("display","block"),t(".header nav").removeClass("gtw-half-map"),t("body").removeClass("gtw-half-map"),t("#gtw-map").removeClass("gtw-half-map"),t(".map-overlay").removeClass("gtw-half-map"),t(".half-map-panel").removeClass("gtw-half-map"),t(".half-map-container").removeClass("gtw-half-map"),adjustMargin()}function I(t,e){var n,r,i,o=t.paths[e],l=[];for(i=0;i<o.length;i++)n={lat:(r=a.getStopById(o[i])).lat,lng:r.lng},l.push(n),s.a(n,r.stopName,""+(i+1));s.b(l,"#FF0000",2)}function P(e,n,r=!1,l=!1){var d,c,u='<div class="row" style="padding: 2%;"><div class="timeline-centered">',f=e.paths[n];for(c=0;c<f.length;c++)u+='<article class="timeline-entry" stop-id="'+(d=a.getStopById(f[c])).stopId+'" stop-index="'+c+'">    <div class="timeline-entry-inner">        <div class="timeline-icon bg-light">            '+(c+1)+'        </div>        <div class="timeline-label">            <h2><button style="padding: 0px;" class="btn btn-link" stop-id="'+d.stopId+'">'+g.localizedKey(d,"stopName")+"</button></h2>            <p></p>        </div>    </div></article>";u+="</div></div>",t(".half-map-container").html(u),t(".half-map-container button").on("click",(function(){var r=a.getStopById(t(this).attr("stop-id"));r&&P(e,n,r)}));var h=i.getProvider(e.provider),m=f[f.length-1];if(u='<ul class="list-group"><li class="list-group-item d-flex align-items-center route-selection">    <div class="d-flex flex-column route-id">        <div>'+g.localizedKey(h,"name")+"</div>        <div>"+g.localizedKey(e,"routeName")+"</div>    </div>    <div><b>"+t.i18n("transit-eta-to")+":</b> "+g.localizedKey(a.getStopById(m),"stopName")+"</div></li></ul>",t(".half-map-tab-panel").html(u),adjustMargin(),r){var v=screen.width>=768?".desktop":".mobile",y=t(v+" .timeline-entry[stop-id='"+r.stopId+"']"),w=y.children().children(".timeline-icon");w.removeClass("bg-light"),w.addClass("bg-primary"),l&&y[0].scrollIntoView();var k={lat:r.lat,lng:r.lng};s.g(k),s.h(18),clearInterval(b.stopEtaUpdate);var x=function(){!function(e,n,r){var i=t(".timeline-entry[stop-id='"+r.stopId+"'] p"),a="<p><u>"+t.i18n("transit-eta")+'</u></p><table class="table stop-eta">',s=o.fetchEta({provider:e.provider,etaProviders:e.etaProviders,routeId:e.routeId,selectedPath:parseInt(n),stopId:r.stopId});s?(a+='<tr class="table-dark">    <td colspan="3"><div class="spinner-border spinner-border-sm" role="status"></div> '+t.i18n("transit-eta-retrieving-data")+"</td></tr>",s.then((function(e){var n=e.options,r="",i=t(".timeline-entry[stop-id='"+n.stopId+"'] p table tbody");if(e.code&&-2===e.code)r+='<tr class="table-dark">    <td colspan="3">'+t.i18n("transit-eta-no-eta-providers")+"</td></tr>";else if(!e.schedules||e.code&&-1===e.code)r+='<tr class="table-dark">    <td colspan="3">'+t.i18n("transit-eta-no-data-received")+"</td></tr>";else if(0===e.schedules.length)r+='<tr class="table-dark">    <td colspan="3">'+t.i18n("transit-eta-no-schedules-pending")+"</td></tr>";else{var a=!1;for(var s of e.schedules){var l=Math.floor((s.time-s.serverTime)/1e3/60),d='<tr class="table-';d+=l>=20?"secondary":l>=15?"info":l>=10?"success":l>=5?"warning":l>=1?"danger":"dark",!a&&l>0&&(a=!0,d+=" active"),d+='">';var c=o.getProvider(s.provider);if(!c)return void console.error("Error: Could not find TransitEta provider to get localized names: "+s.provider);var u=3;if(n.etaProviders.length>1&&(d+="<td>"+g.localizedKey(c,"name")+"</td>",u--),void 0!==s.msg&&void 0===s.time)d+='<td colspan="'+u+'">'+s.msg+"</td>";else{d+="<td>",void 0!==s.msg&&(d+=s.msg),void 0!==s.time&&(void 0!==s.msg&&(d+="<br />"),d+=l>0?t.i18n("transit-eta-minutes",l):t.i18n("transit-eta-arrived-left"),void 0!==s.isLive&&(s.isLive?d+=' <span style="color: red; float: right; font-size: 10px;"><i class="fa fa-circle"></i> '+t.i18n("transit-eta-live")+"</span>":d+=' <span style="font-size: 10px; float: right; font-style: italic;">'+t.i18n("transit-eta-scheduled")+"</span>")),d+="</td><td>";var f=new Date(s.time);void 0!==s.time?d+=p.b(f.getHours())+":"+p.b(f.getMinutes()):d+="---",d+="</td>"}r+=d+="</tr>"}}i.html(r)})).catch((function(e,n){t(".timeline-entry[stop-id='"+e.stopId+"'] p table tbody").html('<tr class="table-danger"><td colspan="3">'+t.i18n("transit-eta-error-fetching-eta")+"</td></tr>")}))):a+='<tr class="table-dark">    <td colspan="3">'+t.i18n("transit-eta-route-not-available")+"</td></tr>";a+="</table>",i.html(a)}(e,n,r)};x(),b.stopEtaUpdate=setInterval(x,3e4)}}var j={pluginclosedapi:function(e,n){t("#plugin-closed-api-confirm-yes").on("click",(function(){n(),x()})),t("#plugin-closed-api-confirm-no").on("click",(function(){e.prop("checked",!1),n(),x()}))},errorplugins:function(e){var n,r=t("#errorPluginsAccordion"),i="";for(var a of e)n=-1===a.status?t.i18n("error-plugins-summary-plugin-not-available")+" ("+a.status+")":a.status>=-2&&a.status<=-4?t.i18n("error-plugins-summary-plugin-load")+" ("+a.status+")":t.i18n("error-plugins-summary-unknown-status-code")+" ("+a.status+")",i+='<div class="card">    <div class="card-header" id="err-'+a.package+'-heading">        <h2 class="mb-0">            <button class="btn btn-link" type="button" data-toggle="collapse" data-target="#collapse-err-'+a.package+'" aria-expanded="true" aria-controls="collapse-err-'+a.package+'">'+a.package+": "+n+'</button>        </h2>    </div>    <div id="collapse-err-'+a.package+'" class="collapse" aria-labelledby="err-'+a.package+'-heading" data-parent="#errorPluginsAccordion">        <div class="card-body">',i+="<p><b>"+t.i18n("error-plugins-message")+"</b><br/>"+a.msg+"</p>",i+="<p><b>"+t.i18n("error-plugins-solutions")+"</b><br/>",-1===a.status?i+=t.i18n("error-plugins-solution-plugin-not-available"):a.status>=-4&&a.status<=-2?i+=t.i18n("error-plugins-solution-plugin-load",a.status):i+=t.i18n("error-plugins-solution-unknown-status-code",a.status),i+="</p>",i+="        </div>    </div></div>";r.html(i),t(".error-plugin-accept-checksum-btn").on("click",(function(){var e=t(this).attr("package"),n=c.d[e];if(e){var r=n.info;c.b(r.package,r.checksum,r.version),window.location.reload()}else console.error('Error: Accept checksum failed! Plugin "'+e+'" not found!')}))},viewplugin:function(e){t(".modal .close").on("click",(function(){k("pluginmanager")}));var n=0;for(var r in f)if(r===e){n=f[r];break}if(n){var i="";n.closedApi&&(i+='<div class="alert alert-warning" role="alert"><i class="fas fa-exclamation-triangle"></i> '+t.i18n("plugin-closed-api-warning")+"</div>"),i+="<h3>"+t.i18n("view-plugin-details")+"</h3>",i+="<hr />",i+="<p>"+t.i18n("view-plugin-details-name")+": "+n.name+"<br />",i+=t.i18n("view-plugin-details-fullname")+": "+n.fullName+"<br />",i+=t.i18n("view-plugin-details-author")+": "+n.author+"<br />",i+=t.i18n("view-plugin-details-version")+": "+n.version+"<br />",i+=t.i18n("view-plugin-details-github")+': <a href="'+n.github+'" target="_blank">'+n.github+"</a><br />",i+=t.i18n("view-plugin-details-package")+": "+n.package+"<br />",i+=t.i18n("view-plugin-details-description")+": "+n.desc+"</p>",i+="<h3>"+t.i18n("view-plugin-installation")+"</h3>",i+="<hr />";var a=c.a(n.package),o='<span class="font-weight-bold ';a?-1===a.status?o+='text-danger">'+t.i18n("view-plugin-installation-plugin-not-available"):0===a.status?o+='text-success">'+t.i18n("view-plugin-installation-installed-running"):1===a.status?o+='text-secondary">'+t.i18n("view-plugin-installation-not-enabled"):a.status<=-2&&a.status>=-4?o+='text-danger">'+t.i18n("view-plugin-installation-plugin-load-errors",a.status):o+='text-secondary">'+t.i18n("view-plugin-installation-unknown-status-code",a.status):o+='text-info">'+t.i18n("view-plugin-installation-not-installed"),o+="</span>",i+="<p>"+t.i18n("view-plugin-installation-status")+": "+o+"<br />",a&&a.msg&&(i+=t.i18n("view-plugin-installation-message")+": "+a.msg+"</p>"),i+="<hr />",i+=a?'<button type="button" class="btn btn-danger ui-btn-viewplugin-uninstall">'+t.i18n("view-plugin-installation-uninstall-and-restart-btn")+"</button>":'<button type="button" class="btn btn-success ui-btn-viewplugin-install">'+t.i18n("view-plugin-installation-install-and-restart-btn")+"</button>",t(".modal-body").html(i),t(".ui-btn-viewplugin-install").on("click",(function(){c.b(n.package),window.location.reload()})),t(".ui-btn-viewplugin-uninstall").on("click",(function(){c.e(n.package),window.location.reload()}))}else t(".modal-body").html(t.i18n("view-plugin-repos-cannot-find-package"))},pluginmanager:function(){var e="<p>"+t.i18n("plugin-manager-loading")+"</p>";t("#nav-all").html(e),t("#nav-installed").html(e),t("#nav-transit").html(e),t("#nav-libraries").html(e),t("#nav-others").html(e);var n={};for(var r in f)n[f[r].category]||(n[f[r].category]=[]),n[f[r].category].push(f[r]);var i,a,o,s,l='<div class="list-group">',d=t("#nav-tab"),c=t("#nav-tabContent"),u=0;for(var p in n){for(var g of(s=h[p],u+=n[p].length,a='<a class="nav-item nav-link" id="nav-'+s.id+'-tab" data-toggle="tab" href="#nav-'+s.id+'" role="tab" aria-controls="nav-'+s.id+'" aria-selected="true">'+s.name+" ("+n[p].length+")</a>",o='<div class="tab-pane fade" id="nav-'+s.id+'" role="tabpanel" aria-labelledby="nav-'+s.id+'-tab"><div class="list-group">',n[p]))i='<a href="#" class="list-group-item list-group-item-action ui-pluginmanager-view-plugin" package="'+g.package+'">',i+='    <div class="d-flex w-100 justify-content-between">',i+='        <h5 class="mb-1">'+g.fullName+"</h5>",i+="        <small>"+g.version+"</small>",i+="    </div>",i+='    <p class="mb-1">'+g.desc+"</p>",i+="    <small>By "+g.author+"</small>",o+=i+="</a>",l+=i;o+="</div></div>",d.append(a),c.append(o)}t("#nav-all-tab").html(t.i18n("plugin-manager-tab-all")+" ("+u+")"),t("#nav-all").html(l),t(".ui-pluginmanager-view-plugin").on("click",(function(){k("viewplugin",t(this).attr("package"))}))},settings:function(){var e,n="";for(var r of l.getDefaultSettings())e=l.get(r.key,r.def),n+='<div class="form-group">    <label><b>'+r.name+":</b><p>"+r.desc+"</p></label>","boolean"===r.type?(n+='    <select class="form-control" id="gtw-settings-'+r.key+'">',n+=e?'        <option value="yes" selected>'+t.i18n("settings-option-yes")+'</option>        <option value="no">'+t.i18n("settings-option-no")+"</option>":'        <option value="yes">'+t.i18n("settings-option-yes")+'</option>        <option value="no" selected>'+t.i18n("settings-option-no")+"</option>",n+="    </select>"):(n+='    <input class="form-control" id="gtw-settings-'+r.key+'" type="',"number"===r.type?n+="number":n+="text",n+='" value="'+e+'"/>'),n+="</div>";n+='<input type="button" class="btn btn-success ui-btn-settings-save ui-btn-settings-save-close" value="'+t.i18n("settings-save-and-close-btn")+'"/> <input type="button" class="btn btn-default ui-btn-settings-save" value="'+t.i18n("settings-apply-btn")+'"/>',t(".modal-body").html(n),t(".ui-btn-settings-save").on("click",(function(){var e,n;for(var r of l.getDefaultSettings()){if(e=t("#gtw-settings-"+r.key).val(),n="boolean"===r.type?"yes"===e:"number"===r.type?parseInt(e):e,r.checkfunc&&!r.checkfunc(n))return void alert(t.i18n("settings-invalid-value",r.name));l.set(r.key,n)}l.save(),t(this).hasClass("ui-btn-settings-save-close")&&x()}))},transitEtaUpdateUi:function(){var e=d.c.length;if(e>0){t(".request-progress-panel").fadeIn(500);var n=v.maxRequest;(!n||e>n)&&(n=v.maxRequest=e),t(".request-progress-panel .progress-bar").html(t.i18n("transit-eta-requesting-data",n-e,n)),t(".request-progress-panel .progress-bar").css("width",Math.floor((n-e)/n*100)+"%")}else v.maxRequest=0,t(".request-progress-panel .progress-bar").css("width","100%"),t(".request-progress-panel").fadeOut(500,(function(){t(".request-progress-panel .progress-bar").css("width","0%")}));var r=v.allNearbyRoutes;for(var i of r){o.fetchEta({provider:i.route.provider,etaProviders:i.route.etaProviders,routeId:i.route.routeId,selectedPath:i.bound,stopId:i.stop.stopId}).then((function(e){var n="",r=e.options,i=t('.nearby-route-list .route-selection[gtw-provider="'+r.provider+'"][gtw-route-id="'+r.routeId+'"][gtw-bound="'+r.selectedPath+'"][gtw-stop-id="'+r.stopId+'"]');i.removeClass("list-group-item-secondary"),i.removeClass("list-group-item-info"),i.removeClass("list-group-item-success"),i.removeClass("list-group-item-warning"),i.removeClass("list-group-item-danger"),i.removeClass("list-group-item-light"),i.removeClass("list-group-item-dark");var a="btn-secondary";if(!e||!e.schedules||e.code&&e.code<0)n=t.i18n("transit-eta-route-not-available-short"),i.addClass("list-group-item-light");else if(0===e.schedules.length)n=t.i18n("transit-eta-no-schedules-pending-short"),i.addClass("list-group-item-light");else{var o=e.schedules[0],s=Math.floor((o.time-o.serverTime)/1e3/60),l="";if(l=s>=20?"secondary":s>=15?"info":s>=10?"success":s>=5?"warning":s>=1?"danger":"dark",i.addClass("list-group-item-"+l),void 0!==o.msg)n=o.msg.length>20?t.i18n("transit-eta-transit-notice"):o.msg,a="badge-warning";else void 0!==o.time&&(void 0!==o.msg&&(n+="<br />"),a="badge-primary",e>0?n+=t.i18n("transit-eta-minutes",e):(n+=t.i18n("transit-eta-arrived-left",e),a="badge-dark"),void 0!==o.isLive&&(n+='<br /><span style="font-size: 10px; position: absolute; top: 16px; right: 16px; ',o.isLive?n+='color: red;"><i class="fa fa-circle"></i> '+t.i18n("transit-eta-live")+"</span>":n+='color: black; font-style: italic;">'+t.i18n("transit-eta-scheduled")+"</span>"))}var d=i.children(".transit-eta");d.removeClass("badge-primary"),d.removeClass("badge-secondary"),d.removeClass("badge-warning"),d.removeClass("badge-danger"),d.removeClass("badge-dark"),d.addClass(a),d.html(n)})).catch((function(e,n){var r=t('.nearby-route-list .route-selection[gtw-provider="'+e.provider+'"][gtw-route-id="'+e.routeId+'"][gtw-bound="'+e.selectedPath+'"][gtw-stop-id="'+e.stopId+'"]');r.removeClass("list-group-item-secondary"),r.removeClass("list-group-item-info"),r.removeClass("list-group-item-success"),r.removeClass("list-group-item-warning"),r.removeClass("list-group-item-danger"),r.removeClass("list-group-item-light"),r.removeClass("list-group-item-dark"),r.addClass("list-group-item-light");var i=r.children(".transit-eta");i.removeClass("badge-primary"),i.removeClass("badge-secondary"),i.removeClass("badge-warning"),i.removeClass("badge-danger"),i.removeClass("badge-dark"),i.addClass("badge-danger"),i.html(t.i18n("transit-eta-error-fetching-eta-short"))}))}},transitEta:function(){d.a(),o.clearCache();var e=u.a(),n=i.getProviders();if(n.length>0){var c='<div class="hori-scroll btn-group">    <button type="button" class="btn btn-primary gtw-providersort gtw-providersort-all"><i class="fa fa-reply-all"></i><br />'+t.i18n("transit-eta-sort-all")+"</button>";for(var f of n){var h="";h=f.type===TransitType.BUS?"fa-bus":f.type===TransitType.TRAIN?"fa-train":"fa-question",c+=' <button type="button" class="btn btn-default gtw-providersort gtw-providersort-provider" gtw-provider="'+f.id+'"><i class="fa '+h+'"></i><br />'+g.localizedKey(f,"name")+"</button>"}c+="</div>",t(".tab-panel").append(c);var y='<div class="input-group mb-3" style="margin-top: 16px;">    <input type="text" class="form-control" placeholder="'+t.i18n("transit-eta-placeholder-search-for-transit")+'" aria-label="'+t.i18n("transit-eta-placeholder-search-for-transit")+'" aria-describedby="search-transit-icon" id="search-transit-text"/>    <div class="input-group-append">        <button class="btn btn-light disabled" type="button" id="button-cancel-search"><i class="fas fa-search"></i></button>    </div></div>';t(".tab-panel").append(y);t(".tab-panel").append('<div class="request-progress-panel">    <div class="progress bg-white">        <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" style="width: 0%;"></div>    </div></div>'),t(".gtw-providersort").on("click",(function(){if(!t(this).hasClass("btn-primary"))if(t(".gtw-providersort").removeClass("btn-primary"),t(this).hasClass("gtw-providersort-all"))t(this).addClass("btn-primary"),t(".route-selection").attr("style","");else{var e=t(this).attr("gtw-provider");t(this).addClass("btn-primary"),t(".gtw-providersort-provider:not([gtw-provider='"+e+"'])").addClass("btn-default"),t(".route-selection[gtw-provider='"+e+"']").attr("style",""),t(".route-selection:not([gtw-provider='"+e+"'])").attr("style","display: none!important")}}));var w=e.lat,k=e.lng,x=l.get("min_nearby_transit_range",200)/1e3,S=a.getAllStopsNearby(w,k,x,!0,!0);if(0===S.length){var C=x;do{C+=.05,S=a.getAllStopsNearby(w,k,C,!0,!0)}while(0===S.length&&C<10);C>=10?t(".tab-panel").append('<div class="alert alert-danger alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true" >&#215;</button>No routes are found in 10 km range.</div>'):t(".tab-panel").append('<div class="alert alert-warning alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true" >&#215;</button>'+t.i18n("transit-eta-no-routes-found-nearby-extended-range",1e3*x,Math.ceil(1e3*C))+"</div>")}var N,E,T,_,z,D=l.get("max_nearby_transit_to_display",20),O=[];for(var A of S){if(O.length>=D)break;var R=r.c(A.stop);for(var U of R)O.push({route:U.route,bound:U.bound,stop:A.stop,distance:A.distance})}for(var B of(N='<div class="row item-list nearby-route-list"><ul class="list-group">',O))_=(T=B.route.paths[B.bound])[T.length-1],E=Math.round(1e3*B.distance),z=i.getProvider(B.route.provider),N+='    <li class="list-group-item list-group-item-action d-flex justify-content-between align-items-center route-selection" gtw-provider="'+B.route.provider+'" gtw-route-id="'+B.route.routeId+'" gtw-stop-id="'+B.stop.stopId+'" gtw-bound="'+B.bound+'">        <div class="d-flex flex-column route-id">            <div>'+g.localizedKey(z,"name")+"</div>            <div>"+g.localizedKey(B.route,"routeName")+'</div>        </div>        <div class="d-flex flex-column stop-info mr-auto">            <div>                <b>'+t.i18n("transit-eta-to")+":</b> <small>"+g.localizedKey(a.getStopById(_),"stopName")+"</small></div>            <div>                "+g.localizedKey(B.stop,"stopName")+" ("+E+t.i18n("transit-eta-metres")+')            </div>        </div>        <span class="badge badge-primary badge-pill transit-eta">'+t.i18n("transit-eta-retrieving")+"</span>    </li>";N+="</ul></div>";var L,q,M=i.getAllRoutes();for(var W of(N+='<div class="row item-list all-route-list"><ul class="list-group">',M))for(q=0;q<W.paths.length;q++)_=(L=W.paths[q])[L.length-1],z=i.getProvider(W.provider),N+='<li class="list-group-item list-group-item-action d-flex align-items-center route-selection" gtw-provider="'+W.provider+'" gtw-route-id="'+W.routeId+'" gtw-bound="'+q+'">    <div class="d-flex flex-column route-id">        <div>'+g.localizedKey(z,"name")+"</div>        <div>"+g.localizedKey(W,"routeName")+"</div>    </div>    <div><b>"+t.i18n("transit-eta-to")+"</b> "+g.localizedKey(a.getStopById(_),"stopName")+"</div></li>";N+="</ul></div>",t(".content-panel-container").html(N),t(".route-selection").on("mouseenter",(function(){s.e(),s.f();var e=i.getProvider(t(this).attr("gtw-provider")).getRouteById(t(this).attr("gtw-route-id")),n=a.getStopById(t(this).attr("gtw-stop-id")),r=t(this).attr("gtw-bound");if(I(e,r),n){var o={lat:n.lat,lng:n.lng};s.g(o),s.h(18)}else{var l,d=e.paths[r],c=[];for(var u of d)l=a.getStopById(u),c.push({lat:parseFloat(l.lat),lng:parseFloat(l.lng)});s.c(c)}})),t(".route-selection").on("mouseleave",(function(){})),t(".route-selection").on("click",(function(){t(".top-panel").css("display","none"),t(".content-panel-container").css("display","none"),t(".header nav").addClass("gtw-half-map"),t("#gtw-map").addClass("gtw-half-map"),t(".map-overlay").addClass("gtw-half-map"),t(".half-map-panel").addClass("gtw-half-map"),t(".half-map-container").addClass("gtw-half-map"),adjustMargin(),s.e(),s.f();var e=i.getProvider(t(this).attr("gtw-provider")).getRouteById(t(this).attr("gtw-route-id")),n=a.getStopById(t(this).attr("gtw-stop-id")),r=t(this).attr("gtw-bound");P(e,r,n,!0),I(e,r)})),t("#button-cancel-search").on("click",(function(){t(this).hasClass("disabled")||(t("#search-transit-text").val(""),t("#button-cancel-search").addClass("btn-light"),t("#button-cancel-search").addClass("disabled"),t("#button-cancel-search").removeClass("btn-danger"),t("#button-cancel-search").html('<i class="fas fa-search"></i>'),t(".nearby-route-list").css("display","flex"),t(".all-route-list").css("display","none"),s.g(u.a()),s.h(16),s.e(),s.f())})),t("#search-transit-text").on("input",(function(){clearTimeout(m),m=setTimeout((function(){var e=t("#search-transit-text").val();e&&""!==e?(t("#button-cancel-search").removeClass("btn-light"),t("#button-cancel-search").removeClass("disabled"),t("#button-cancel-search").addClass("btn-danger"),t("#button-cancel-search").html('<i class="fas fa-times"></i>'),t(".nearby-route-list").css("display","none"),t(".all-route-list").css("display","flex"),s.g(u.a()),s.h(16),s.e(),s.f()):(t("#button-cancel-search").addClass("btn-light"),t("#button-cancel-search").addClass("disabled"),t("#button-cancel-search").removeClass("btn-danger"),t("#button-cancel-search").html('<i class="fas fa-search"></i>'),t(".nearby-route-list").css("display","flex"),t(".all-route-list").css("display","none")),t(".all-route-list .route-selection").each((function(){var n=t(this).attr("gtw-route-id"),r=t(this).attr("gtw-provider"),o=t(this).attr("gtw-bound"),s=i.getProvider(r).getRouteById(n),l=s.paths[o],d=a.getStopById(l[l.length-1]),c=p.d(g.localizedKey(s,"routeName"),e),u=p.d(r,e),f=p.d(d.stopName,e);c<.3&&u<.3&&f<.3?(t(this).attr("style","display: none!important"),t(this).attr("sim","0.0")):(t(this).attr("style","display: block"),t(this).attr("sim",Math.round(1e3*Math.max(c,u,f))/1e3))}));var n=t(".all-route-list .route-selection").get();n.sort((function(e,n){return t(n).attr("sim")-t(e).attr("sim")}));for(var r=0;r<n.length;r++)n[r].parentNode.appendChild(n[r]);t(".all-route-list .route-selection:nth-child(1)").mouseenter()}),500)})),v.allNearbyRoutes=O,j.transitEtaUpdateUi(),b.nearbyRoutesUpdate=setInterval((function(){j.transitEtaUpdateUi()}),3e4)}else t(".tab-panel").html('<br /><div class="alert alert-danger" role="alert"><i class="fas fa-exclamation-triangle"></i> '+t.i18n("transit-eta-no-plugins-providing-transit-data")+"</div>")}}}).call(this,n(0))},,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";e.a={mapApi:"googlemap",googleMapApiKey:"AIzaSyAhU7FqH46IdF4RaHrBlABfkoFlHZeudFg"}},,,,function(t,e,n){"use strict";n.r(e);var r=n(0),i=n.n(r),a=(n(51),n(53),n(55),n(57),n(59),n(60),n(62),n(66),n(67),n(68),n(15)),o=n(8),s=n(18),l=(n(10),n(1)),d=n(11),c=n(19),u=n(5),p=n(14),g=(n(74),n(3)),f=n(9),h=n(23);window.jQuery=i.a,window.$=i.a;var m=n(50);["js","messagestore","fallbacks","parser","emitter","language"].forEach((function(t){m("./jquery.i18n."+t)}));var v=['<i class="fas fa-map-marked-alt"></i> 去邊㗎 GoToWhere','<i class="fas fa-map-marked-alt"></i> GoToWhere<small>.ga</small>','<i class="fas fa-map-marked-alt"></i> HeuiBin<small>.ga</small>'],b=!1;i()(document).ready((function(){adjustMargin(),i()(".startup .progress-panel").fadeIn(5e3),i()(".startup .container").fadeIn(2e3,(function(){!function t(e){b||((void 0===e||e>2)&&(e=0),i()(".startup h1").html(v[e]),i()(".startup h1").fadeIn(2e3,(function(){i()(".startup h1").fadeOut(2e3,(function(){t(e+1)}))})))}()})),console.log("GoToWhere (c) 2019. Licensed under the MIT License."),i()("#startup-status").html("Loading GoToWhere scripts...")})),i()(window).resize((function(){adjustMargin()})),window.adjustMargin=function(){var t=i()(".header").height(),e=i()(window).height();i()(".desktop.half-map-container").css("height",e-t),i()(".content-panel-container").css("height",e-t)},h.a.defs("EPSG:2326","+proj=tmerc +lat_0=22.31213333333334 +lon_0=114.1785555555556 +k=1 +x_0=836694.05 +y_0=819069.8 +ellps=intl +towgs84=-162.619,-276.959,-161.764,0.067753,-2.24365,-1.15883,-1.09425 +units=m +no_defs"),h.a.defs("EPSG:4326","+proj=longlat +datum=WGS84 +no_defs"),u.load(),g.changeLanguage(u.get("preferred_language","en")),p.d(),a.register("www.gotowhere.ga",!0),a.register("plugins.gotowhere.ga",!0),i()("#startup-status").html(i.a.i18n("startup-status-downloading-plugins")),i()("#startup-progress").css("width","12.5%"),i()("#startup-status").html(i.a.i18n("startup-status-open-db"));var y=f.e();y?y.then((function(){i()("#startup-progress").css("width","25%"),i()("#startup-status").html(i.a.i18n("startup-status-loading-plugins")),(y=o.c((function(t){i()("#startup-progress").css("width",25+t/8+"%")}))).then((function(){i()("#startup-status").html(i.a.i18n("startup-status-init-db")),(y=s.a((function(t){i()("#startup-progress").css("width",25+t/4*3+"%")}))).then((function(){i()("#startup-progress").css("width","100%"),i()("#startup-status").html(i.a.i18n("startup-status-init-map")),(y=l.d()).then((function(){i()("#startup-status").html(i.a.i18n("startup-status-finish")),c.a();var t,e=[];for(var n in o.d)(t=o.d[n]).status<0&&e.push(t);console.log(e),e.length&&c.b("errorplugins",e),d.b((function(){c.a(),i()("#loc-status-btn").addClass("btn-success"),i()("#loc-status-btn").removeClass("btn-warning"),setTimeout((function(){i()("#loc-status-btn").fadeOut(500)}),2e3)}),(function(){i()("#loc-status-btn").addClass("btn-danger"),i()("#loc-status-btn").removeClass("btn-warning"),i()("#loc-status-btn").append(" <span>Failed!</span>"),setTimeout((function(){i()("#loc-status-btn span").fadeOut(500)}),5e3)})),setTimeout((function(){i()(".footer").animate({height:0,opacity:0},1e3,(function(){i()(".footer").css("display","none")}))}),2e3),i()(".startup").fadeOut(1e3,(function(){b=!0}))}))}))}))})):(i()("#startup-status").attr("style","color: red"),i()("#startup-status").html(i.a.i18n("startup-status-not-supported")))},function(t,e,n){var r={"./jquery.i18n":24,"./jquery.i18n.emitter":25,"./jquery.i18n.emitter.bidi":26,"./jquery.i18n.emitter.bidi.js":26,"./jquery.i18n.emitter.js":25,"./jquery.i18n.fallbacks":27,"./jquery.i18n.fallbacks.js":27,"./jquery.i18n.js":24,"./jquery.i18n.language":28,"./jquery.i18n.language.js":28,"./jquery.i18n.messagestore":29,"./jquery.i18n.messagestore.js":29,"./jquery.i18n.parser":30,"./jquery.i18n.parser.js":30,"./languages/bs":31,"./languages/bs.js":31,"./languages/dsb":32,"./languages/dsb.js":32,"./languages/fi":33,"./languages/fi.js":33,"./languages/ga":34,"./languages/ga.js":34,"./languages/he":35,"./languages/he.js":35,"./languages/hsb":36,"./languages/hsb.js":36,"./languages/hu":37,"./languages/hu.js":37,"./languages/hy":38,"./languages/hy.js":38,"./languages/la":39,"./languages/la.js":39,"./languages/ml":40,"./languages/ml.js":40,"./languages/os":41,"./languages/os.js":41,"./languages/ru":42,"./languages/ru.js":42,"./languages/sl":43,"./languages/sl.js":43,"./languages/uk":44,"./languages/uk.js":44};function i(t){var e=a(t);return n(e)}function a(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}i.keys=function(){return Object.keys(r)},i.resolve=a,t.exports=i,i.id=50},,,,,function(t,e,n){var r=n(56);"string"==typeof r&&(r=[[t.i,r,""]]);var i={insert:"head",singleton:!1};n(17)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(16)(!1)).push([t.i,"body {\r\n    width: 100%;\r\n    height: 100vh;\r\n    overflow: hidden;\r\n    position: absolute;\r\n}\r\n\r\n.landscape-notice {\r\n    display: none;\r\n    width: 100%;\r\n    height: 100%;\r\n    background-color: white;\r\n    z-index: 5;\r\n    position: relative;\r\n    padding: 12%;\r\n    font-weight: bold;\r\n}\r\n\r\n/* Toast */\r\n\r\n.toast-stack-container {\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\r\n    width: 100%;\r\n}\r\n\r\n#gtw-toast-stack {\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\r\n    margin: 1rem;\r\n    z-index: 3;\r\n}\r\n\r\n/* Startup DIV CSS */\r\n\r\n.startup {\r\n    position: absolute;\r\n    top: 0;\r\n    background-color: white;\r\n    width: 100%;\r\n    height: 100%;\r\n    overflow: hidden;\r\n    z-index: 4;\r\n}\r\n\r\n.startup .container {\r\n    display: none;\r\n    position: relative;\r\n}\r\n\r\n.startup .progress-panel {\r\n    position: absolute;\r\n    text-align: center;\r\n    width: 100%;\r\n    bottom: 0px;\r\n}\r\n\r\n.request-progress-panel {\r\n    position: absolute;\r\n    text-align: center;\r\n    width: 100%;\r\n    left: 0px;\r\n    bottom: 0px;\r\n    display: none;\r\n}\r\n\r\n.startup .overlay {\r\n    position: absolute;\r\n    top: 0;\r\n    height: 100%;\r\n    width: 100%;\r\n    background-color: white;\r\n    opacity: 0.5;\r\n    z-index: 1;\r\n}\r\n\r\n.startup .progress-panel {\r\n    display: none;\r\n}\r\n\r\n/* Getting Started Panel */\r\n.getting-started-panel {\r\n    display: none;\r\n    padding: 1rem;\r\n    position: absolute;\r\n    z-index: 1;\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\n.getting-started-panel p.app-title {\r\n    margin-top: 0.8125rem;\r\n    margin-left: 1rem;\r\n    margin-bottom: 0.8125rem;\r\n    white-space: nowrap;\r\n    line-height: inherit;\r\n    font-size: 1.25rem;\r\n}\r\n\r\n#gettingStartedWizard {\r\n    margin-top: 2rem;\r\n    background-color: white;\r\n    padding: 1rem;\r\n    width: 100%;\r\n}\r\n\r\n#gettingStartedWizard ul {\r\n    flex-wrap: nowrap;\r\n    overflow-x: auto;\r\n    overflow-y: hidden;\r\n}\r\n\r\n.getting-started-progress-panel {\r\n    display: none;\r\n}\r\n\r\n.getting-started-progress-panel .progress-panel {\r\n    text-align: center;\r\n}\r\n\r\n.getting-started-plugin-error-panel{\r\n    display: none;\r\n}\r\n\r\n/* ETA CSS */\r\n.bg-trans {\r\n    background-color: unset;\r\n}\r\n\r\n.half-map-container {\r\n    display: none;\r\n    width: 100%;\r\n    position: absolute;\r\n    overflow-x: hidden;\r\n    overflow-y: scroll;\r\n    z-index: 2;\r\n}\r\n\r\n.container {\r\n    padding: 0px;\r\n}\r\n\r\n.content-panel-container {\r\n\r\n}\r\n\r\n.item-list {\r\n    height: inherit;\r\n}\r\n\r\n.item-list .list-group {\r\n    width: 100%;\r\n    height: inherit;\r\n    overflow-x: hidden;\r\n    overflow-y: scroll;\r\n    z-index: 1;\r\n}\r\n\r\n.item-list .list-group li {\r\n    min-height: 100px;\r\n}\r\n\r\n.all-route-list {\r\n    display: none;\r\n}\r\n\r\n.stop-eta tr.active {\r\n    font-size: 18px;\r\n    font-weight: bold;\r\n}\r\n\r\n/* Map CSS */\r\n\r\n#gtw-map {\r\n    width: 100vw;\r\n    height: 100vh;\r\n    top: 0px;\r\n    left: 0px;\r\n    position: fixed;\r\n    overflow: hidden;\r\n}\r\n\r\n/* Search panel CSS */\r\n\r\n.top-panel {\r\n    padding: 8px;\r\n    margin-bottom: 0px;\r\n    background-color: unset;\r\n}\r\n\r\n.top-panel .tabs, .hori-scroll {\r\n    overflow: auto;\r\n    white-space: nowrap;\r\n    display: block;\r\n    padding: 4px;\r\n}\r\n\r\n.top-panel .tabs .ui-tab, .hori-scroll button {\r\n    display: inline-block;\r\n}\r\n\r\n#loc-status-btn {\r\n    position: fixed;\r\n    z-index: 3;\r\n    right: 4px;\r\n    bottom: 4px;\r\n}\r\n\r\n/* Header, footer CSS */\r\n\r\n.gtw-container {\r\n    position: fixed;\r\n    top: 0;\r\n    width: 100%;\r\n    z-index: 1;\r\n}\r\n\r\n/*\r\n.header nav {\r\n    background-color: #343a40\r\n}\r\n*/\r\n\r\n.footer {\r\n    padding-top: 8px;\r\n    padding-bottom: 0px;\r\n    position: fixed;\r\n    bottom: 0;\r\n    z-index: 2;\r\n    width: 100%;\r\n}\r\n\r\n.map-overlay {\r\n    position: fixed;\r\n    width: 100%;\r\n    height: 100%;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    background-color: rgba(233,236,239,0.8);\r\n    z-index: 1;\r\n    cursor: pointer;\r\n}\r\n\r\n/* Loading Overlay CSS */\r\n\r\n.loading-overlay {\r\n    position: fixed;\r\n    display: none;\r\n    width: 100%;\r\n    height: 100%;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    background-color: rgba(0,0,0,0.3);\r\n    z-index: 3;\r\n    opacity: 100;\r\n    cursor: pointer;\r\n}\r\n\r\n.loading-overlay .spinner-border {\r\n    width: 3rem;\r\n    height: 3rem;\r\n}\r\n\r\n/* Route selection */\r\n\r\n.route-selection .route-id {\r\n    padding-right: 16px;\r\n    font-weight: bold;\r\n}\r\n\r\n.route-selection .stop-info {\r\n    margin-left: 8px;\r\n    margin-right: 8px;\r\n}\r\n\r\n.route-selection .stop-info .badge {\r\n\r\n}\r\n\r\n.route-selection .stop-info .col-sm-12{\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis; \r\n    width: inherit;\r\n}\r\n\r\n/* Half-map Panel */\r\n.half-map-panel {\r\n    display: none;\r\n    background-color: unset;\r\n    padding: 8px;\r\n    margin-bottom: 0px;\r\n    position: relative;\r\n    z-index: 1;\r\n}\r\n\r\n/* Media Query */\r\n@media only screen and (min-width: 768px) {\r\n    .top-panel {\r\n        /*width: 25%;*/\r\n    }\r\n\r\n    .half-map-panel {\r\n        /*width: 25%;*/\r\n    }\r\n\r\n    .half-map-container {\r\n        /*width: 25%;*/\r\n        margin-left: 0;\r\n    }\r\n\r\n    .content-panel-container {\r\n        /*width: 25%;*/\r\n        margin-left: 0;\r\n    }\r\n\r\n    .request-progress-panel {\r\n        width: 25%;\r\n    }\r\n\r\n    #gtw-map {\r\n        width: 100vw;\r\n        /*width: 75%;\r\n        margin-left: 25%;*/\r\n    }\r\n\r\n    .gtw-container {\r\n        width: 25%;\r\n    }\r\n\r\n    .map-overlay {\r\n        width: 25%;\r\n        /*display: none;*/\r\n    }\r\n\r\n    .getting-started-panel {\r\n        /*width: 25%;*/\r\n    }\r\n\r\n    .desktop.half-map-panel.gtw-half-map {\r\n        display: block;\r\n    }\r\n\r\n    .desktop.half-map-container.gtw-half-map {\r\n        display: block;\r\n    }\r\n\r\n    .mobile.half-map-panel.gtw-half-map {\r\n        display: none;\r\n    }\r\n\r\n    .mobile.half-map-container.gtw-half-map {\r\n        display: none;\r\n    }\r\n}\r\n\r\n@media only screen and (max-width: 768px) {\r\n    .gtw-container nav {\r\n        margin-top: env(safe-area-inset-top);\r\n        background-color: unset;\r\n    }\r\n\r\n    .toast-stack-container {\r\n        margin-top: env(safe-area-inset-top);\r\n        margin-bottom: env(safe-area-inset-bottom);\r\n    }\r\n\r\n    .getting-started-panel {\r\n        margin-top: env(safe-area-inset-top);\r\n        margin-bottom: env(safe-area-inset-bottom);\r\n    }\r\n\r\n    .modal {\r\n        margin-top: env(safe-area-inset-top);\r\n        margin-bottom: env(safe-area-inset-bottom);\r\n    }\r\n\r\n    .mobile-split-container {\r\n        margin-top: 50vh;\r\n        padding: 0px;\r\n    }\r\n\r\n    .startup .progress-panel {\r\n        margin-bottom: env(safe-area-inset-bottom);\r\n    }\r\n\r\n    /*\r\n    body.gtw-half-map {\r\n        overflow-y: scroll;\r\n    }\r\n\r\n    #gtw-map {\r\n        display: none;\r\n    }\r\n    */\r\n\r\n    .map-overlay.gtw-half-map {\r\n        /*display: none;*/\r\n        margin-top: 50vh;\r\n        height: 50vh;\r\n    }\r\n\r\n    /*\r\n    #gtw-map.gtw-half-map {\r\n        height: 50vh;\r\n        display: block;\r\n    }\r\n    */\r\n\r\n    .desktop.half-map-panel.gtw-half-map {\r\n        display: none;\r\n    }\r\n\r\n    .desktop.half-map-container.gtw-half-map {\r\n        display: none;\r\n    }\r\n\r\n    .mobile.half-map-panel.gtw-half-map {\r\n        display: block;\r\n        height: 20vh;\r\n    }\r\n\r\n    .mobile.half-map-container.gtw-half-map {\r\n        display: block;\r\n        height: 30vh;\r\n    }\r\n}\r\n\r\n/*\r\n@media only screen and (max-height: 768px) and (orientation: landscape) {\r\n    .landscape-notice {\r\n        display: block;\r\n    }\r\n}\r\n*/\r\n\r\n@media screen and (max-width: 470px) {\r\n    .startup h1 {\r\n        font-size: 10vw;\r\n    }\r\n}",""])},function(t,e,n){var r=n(58);"string"==typeof r&&(r=[[t.i,r,""]]);var i={insert:"head",singleton:!1};n(17)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(16)(!1)).push([t.i,'\r\nimg {\r\n    vertical-align: middle;\r\n}\r\n\r\n.img-responsive {\r\n    display: block;\r\n    height: auto;\r\n    max-width: 100%;\r\n}\r\n\r\n.img-rounded {\r\n    border-radius: 3px;\r\n}\r\n\r\n.img-thumbnail {\r\n    background-color: #fff;\r\n    border: 1px solid #ededf0;\r\n    border-radius: 3px;\r\n    display: inline-block;\r\n    height: auto;\r\n    line-height: 1.428571429;\r\n    max-width: 100%;\r\n    moz-transition: all .2s ease-in-out;\r\n    o-transition: all .2s ease-in-out;\r\n    padding: 2px;\r\n    transition: all .2s ease-in-out;\r\n    webkit-transition: all .2s ease-in-out;\r\n}\r\n\r\n.img-circle {\r\n    border-radius: 50%;\r\n}\r\n\r\n.timeline-centered {\r\n    position: relative;\r\n    margin-bottom: 30px;\r\n}\r\n\r\n    .timeline-centered:before, .timeline-centered:after {\r\n        content: " ";\r\n        display: table;\r\n    }\r\n\r\n    .timeline-centered:after {\r\n        clear: both;\r\n    }\r\n\r\n    .timeline-centered:before, .timeline-centered:after {\r\n        content: " ";\r\n        display: table;\r\n    }\r\n\r\n    .timeline-centered:after {\r\n        clear: both;\r\n    }\r\n\r\n    .timeline-centered:before {\r\n        content: \'\';\r\n        position: absolute;\r\n        display: block;\r\n        width: 4px;\r\n        background: #f5f5f6;\r\n        /*left: 50%;*/\r\n        top: 20px;\r\n        bottom: 20px;\r\n        margin-left: 30px;\r\n    }\r\n\r\n    .timeline-centered .timeline-entry {\r\n        position: relative;\r\n        /*width: 50%;\r\n        float: right;*/\r\n        margin-top: 5px;\r\n        margin-left: 30px;\r\n        margin-bottom: 10px;\r\n        clear: both;\r\n    }\r\n\r\n        .timeline-centered .timeline-entry:before, .timeline-centered .timeline-entry:after {\r\n            content: " ";\r\n            display: table;\r\n        }\r\n\r\n        .timeline-centered .timeline-entry:after {\r\n            clear: both;\r\n        }\r\n\r\n        .timeline-centered .timeline-entry:before, .timeline-centered .timeline-entry:after {\r\n            content: " ";\r\n            display: table;\r\n        }\r\n\r\n        .timeline-centered .timeline-entry:after {\r\n            clear: both;\r\n        }\r\n\r\n        .timeline-centered .timeline-entry.begin {\r\n            margin-bottom: 0;\r\n        }\r\n\r\n        .timeline-centered .timeline-entry.left-aligned {\r\n            float: left;\r\n        }\r\n\r\n            .timeline-centered .timeline-entry.left-aligned .timeline-entry-inner {\r\n                margin-left: 0;\r\n                margin-right: -18px;\r\n            }\r\n\r\n                .timeline-centered .timeline-entry.left-aligned .timeline-entry-inner .timeline-time {\r\n                    left: auto;\r\n                    right: -100px;\r\n                    text-align: left;\r\n                }\r\n\r\n                .timeline-centered .timeline-entry.left-aligned .timeline-entry-inner .timeline-icon {\r\n                    float: right;\r\n                }\r\n\r\n                .timeline-centered .timeline-entry.left-aligned .timeline-entry-inner .timeline-label {\r\n                    margin-left: 0;\r\n                    margin-right: 70px;\r\n                }\r\n\r\n                    .timeline-centered .timeline-entry.left-aligned .timeline-entry-inner .timeline-label:after {\r\n                        left: auto;\r\n                        right: 0;\r\n                        margin-left: 0;\r\n                        margin-right: -9px;\r\n                        -moz-transform: rotate(180deg);\r\n                        -o-transform: rotate(180deg);\r\n                        -webkit-transform: rotate(180deg);\r\n                        -ms-transform: rotate(180deg);\r\n                        transform: rotate(180deg);\r\n                    }\r\n\r\n        .timeline-centered .timeline-entry .timeline-entry-inner {\r\n            position: relative;\r\n            margin-left: -20px;\r\n        }\r\n\r\n            .timeline-centered .timeline-entry .timeline-entry-inner:before, .timeline-centered .timeline-entry .timeline-entry-inner:after {\r\n                content: " ";\r\n                display: table;\r\n            }\r\n\r\n            .timeline-centered .timeline-entry .timeline-entry-inner:after {\r\n                clear: both;\r\n            }\r\n\r\n            .timeline-centered .timeline-entry .timeline-entry-inner:before, .timeline-centered .timeline-entry .timeline-entry-inner:after {\r\n                content: " ";\r\n                display: table;\r\n            }\r\n\r\n            .timeline-centered .timeline-entry .timeline-entry-inner:after {\r\n                clear: both;\r\n            }\r\n\r\n            .timeline-centered .timeline-entry .timeline-entry-inner .timeline-time {\r\n                position: absolute;\r\n                left: -100px;\r\n                text-align: right;\r\n                padding: 10px;\r\n                -webkit-box-sizing: border-box;\r\n                -moz-box-sizing: border-box;\r\n                box-sizing: border-box;\r\n            }\r\n\r\n                .timeline-centered .timeline-entry .timeline-entry-inner .timeline-time > span {\r\n                    display: block;\r\n                }\r\n\r\n                    .timeline-centered .timeline-entry .timeline-entry-inner .timeline-time > span:first-child {\r\n                        font-size: 15px;\r\n                        font-weight: bold;\r\n                    }\r\n\r\n                    .timeline-centered .timeline-entry .timeline-entry-inner .timeline-time > span:last-child {\r\n                        font-size: 12px;\r\n                    }\r\n\r\n            .timeline-centered .timeline-entry .timeline-entry-inner .timeline-icon {\r\n                background: #fff;\r\n                color: #737881;\r\n                display: block;\r\n                width: 40px;\r\n                height: 40px;\r\n                -webkit-background-clip: padding-box;\r\n                -moz-background-clip: padding;\r\n                background-clip: padding-box;\r\n                -webkit-border-radius: 20px;\r\n                -moz-border-radius: 20px;\r\n                border-radius: 20px;\r\n                text-align: center;\r\n                -moz-box-shadow: 0 0 0 5px #f5f5f6;\r\n                -webkit-box-shadow: 0 0 0 5px #f5f5f6;\r\n                box-shadow: 0 0 0 5px #f5f5f6;\r\n                line-height: 40px;\r\n                font-size: 15px;\r\n                float: left;\r\n            }\r\n\r\n                .timeline-centered .timeline-entry .timeline-entry-inner .timeline-icon.bg-primary {\r\n                    background-color: #303641;\r\n                    color: #fff;\r\n                }\r\n\r\n                .timeline-centered .timeline-entry .timeline-entry-inner .timeline-icon.bg-secondary {\r\n                    background-color: #ee4749;\r\n                    color: #fff;\r\n                }\r\n\r\n                .timeline-centered .timeline-entry .timeline-entry-inner .timeline-icon.bg-success {\r\n                    background-color: #00a651;\r\n                    color: #fff;\r\n                }\r\n\r\n                .timeline-centered .timeline-entry .timeline-entry-inner .timeline-icon.bg-info {\r\n                    background-color: #21a9e1;\r\n                    color: #fff;\r\n                }\r\n\r\n                .timeline-centered .timeline-entry .timeline-entry-inner .timeline-icon.bg-warning {\r\n                    background-color: #fad839;\r\n                    color: #fff;\r\n                }\r\n\r\n                .timeline-centered .timeline-entry .timeline-entry-inner .timeline-icon.bg-danger {\r\n                    background-color: #cc2424;\r\n                    color: #fff;\r\n                }\r\n\r\n            .timeline-centered .timeline-entry .timeline-entry-inner .timeline-label {\r\n                position: relative;\r\n                background: #f5f5f6;\r\n                padding: 1em;\r\n                margin-left: 60px;\r\n                -webkit-background-clip: padding-box;\r\n                -moz-background-clip: padding;\r\n                background-clip: padding-box;\r\n                -webkit-border-radius: 3px;\r\n                -moz-border-radius: 3px;\r\n                border-radius: 3px;\r\n            }\r\n\r\n                .timeline-centered .timeline-entry .timeline-entry-inner .timeline-label:after {\r\n                    content: \'\';\r\n                    display: block;\r\n                    position: absolute;\r\n                    width: 0;\r\n                    height: 0;\r\n                    border-style: solid;\r\n                    border-width: 9px 9px 9px 0;\r\n                    border-color: transparent #f5f5f6 transparent transparent;\r\n                    left: 0;\r\n                    top: 10px;\r\n                    margin-left: -9px;\r\n                }\r\n\r\n                .timeline-centered .timeline-entry .timeline-entry-inner .timeline-label h2, .timeline-centered .timeline-entry .timeline-entry-inner .timeline-label p {\r\n                    color: #737881;\r\n                    font-family: "Noto Sans",sans-serif;\r\n                    font-size: 12px;\r\n                    margin: 0;\r\n                    line-height: 1.428571429;\r\n                }\r\n\r\n                    .timeline-centered .timeline-entry .timeline-entry-inner .timeline-label p + p {\r\n                        margin-top: 15px;\r\n                    }\r\n\r\n                .timeline-centered .timeline-entry .timeline-entry-inner .timeline-label h2 {\r\n                    font-size: 16px;\r\n                }\r\n\r\n                    .timeline-centered .timeline-entry .timeline-entry-inner .timeline-label h2 button {\r\n                        color: #303641;\r\n                    }\r\n\r\n                    .timeline-centered .timeline-entry .timeline-entry-inner .timeline-label h2 span {\r\n                        -webkit-opacity: .6;\r\n                        -moz-opacity: .6;\r\n                        opacity: .6;\r\n                        -ms-filter: alpha(opacity=60);\r\n                        filter: alpha(opacity=60);\r\n                    }\r\n',""])},,,,,,,,,,,function(t,e,n){var r={"./categories":[12,3],"./categories.json":[12,3],"./gtwp-ctbnwfb":[20,9,0],"./gtwp-ctbnwfb/":[20,9,0],"./gtwp-ctbnwfb/LICENCE":[75,7,25],"./gtwp-ctbnwfb/index":[20,9,0],"./gtwp-ctbnwfb/index.js":[20,9,0],"./gtwp-hktransit":[21,9,1],"./gtwp-hktransit/":[21,9,1],"./gtwp-hktransit/LICENCE":[76,7,26],"./gtwp-hktransit/index":[21,9,1],"./gtwp-hktransit/index.js":[21,9,1],"./gtwp-kmb":[22,9,2],"./gtwp-kmb/":[22,9,2],"./gtwp-kmb/LICENCE":[77,7,27],"./gtwp-kmb/index":[22,9,2],"./gtwp-kmb/index.js":[22,9,2],"./repository":[2,3],"./repository.json":[2,3]};function i(t){if(!n.o(r,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=r[t],i=e[0];return Promise.all(e.slice(2).map(n.e)).then((function(){return n.t(i,e[1])}))}i.keys=function(){return Object.keys(r)},i.id=69,t.exports=i},function(t,e,n){var r={"./gtw-map-googlemap":[48,3],"./gtw-map-googlemap.js":[48,3]};function i(t){if(!n.o(r,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=r[t],i=e[0];return n.e(e[1]).then((function(){return n(i)}))}i.keys=function(){return Object.keys(r)},i.id=70,t.exports=i},function(t,e,n){var r={"./modal-about-header.html":[78,9],"./modal-errorplugins-header.html":[79,12],"./modal-pluginclosedapi-header.html":[80,15],"./modal-pluginmanager-header.html":[81,18],"./modal-settings-header.html":[82,21],"./modal-viewplugin-header.html":[83,24]};function i(t){if(!n.o(r,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=r[t],i=e[0];return n.e(e[1]).then((function(){return n.t(i,7)}))}i.keys=function(){return Object.keys(r)},i.id=71,t.exports=i},function(t,e,n){var r={"./modal-about-body.html":[84,7],"./modal-errorplugins-body.html":[85,10],"./modal-pluginclosedapi-body.html":[86,13],"./modal-pluginmanager-body.html":[87,16],"./modal-settings-body.html":[88,19],"./modal-viewplugin-body.html":[89,22]};function i(t){if(!n.o(r,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=r[t],i=e[0];return n.e(e[1]).then((function(){return n.t(i,7)}))}i.keys=function(){return Object.keys(r)},i.id=72,t.exports=i},function(t,e,n){var r={"./modal-about-footer.html":[90,8],"./modal-errorplugins-footer.html":[91,11],"./modal-pluginclosedapi-footer.html":[92,14],"./modal-pluginmanager-footer.html":[93,17],"./modal-settings-footer.html":[94,20],"./modal-viewplugin-footer.html":[95,23]};function i(t){if(!n.o(r,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=r[t],i=e[0];return n.e(e[1]).then((function(){return n.t(i,7)}))}i.keys=function(){return Object.keys(r)},i.id=73,t.exports=i},function(t,e,n){"use strict";(function(t){var e=1e3,n=[],r=console.trace;console.trace=function(t){h("console",t,-1)};var i=console.debug;console.debug=function(t){h("console",t,-2)};var a=console.log;console.log=function(t){h("console",t,0)};var o=console.warn;console.warn=function(t){h("console",t,1)};var s=console.error;console.error=function(t){h("console",t,2)};var l=!0;function d(t,e){-2===e?r(t):-1===e?i(t):0===e?a(t):1===e?o(t):2===e&&s(t)}function c(r,i,a,o){n.length>=e&&n.shift(),n.push({time:a,msg:i,level:o}),function(e,n,r,i,a){if(a<=0)return;if(u===r&&p===n&&g===a&&i-f<7500)return;f=i,u=r,p=n,g=a;var o=t("#gtw-toast-stack"),s="Unknown",l="";-2===a?s="Trace":-1===a?s="Debug":0===a?(s="Info",l=" text-primary"):1===a?(s="Warning",l=" text-warning"):2===a&&(s="Error",l=" text-danger");var d='<div class="toast" role="alert" log-entry-id="'+e+'">    <div class="toast-header">        <strong class="mr-auto'+l+'">'+s+" ("+n+')</strong>        <small class="text-muted">'+new Date(i).toLocaleString()+'</small>        <button type="button" class="ml-2 mb-1 close" data-dismiss="toast" aria-label="Close"><span aria-hidden="true">&times;</span></button>    </div>    <div class="toast-body">'+r+"    </div></div>";o.children().length>=3&&o.children().each((function(e){e>=2&&t(this).toast("hide")}));o.prepend(d);var c=".toast[log-entry-id='"+e+"']";t(c).on("hidden.bs.toast",(function(){t(this).remove()})),t(c).toast({animation:!0,autohide:!0,delay:5e3}),t(c).toast("show")}(n.length,r,i,a,o)}var u=0,p=0,g=0,f=0;function h(t="unknown",e,n=0){var r=Date.now();if("object"==typeof e)if(l)d("["+new Date(r).toLocaleString()+"] ["+t+"]",n),d(e,n);else{var i=JSON.stringify(e);d("["+new Date(r).toLocaleString()+"] ["+t+"] "+i,n)}else d("["+new Date(r).toLocaleString()+"] ["+t+"] "+e,n);c(t,e,r,n)}}).call(this,n(0))}],[[49,5,6]]]);
//# sourceMappingURL=app.a952d56a8a02cadf037e.js.map