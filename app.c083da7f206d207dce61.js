(window.webpackJsonp=window.webpackJsonp||[]).push([[12],[,,function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"i",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"k",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"j",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"h",(function(){return p})),n.d(t,"f",(function(){return f})),n.d(t,"b",(function(){return g})),n.d(t,"g",(function(){return m}));var r=n(93),i=!1;function a(){return new Promise((e,t)=>{n(194)(`./gtw-map-${r.a.mapApi}`).then((function(t){i=t,window.k=i,i.init().then((function(){e()}))}))})}function o(e){return i.setCenter(e)}function s(){return i.getCenter()}function l(e){return i.setZoom(e)}function d(e,t){return i.addMarker(e,t)}function c(e,t){return i.setMarkerPosition(e,t)}function u(e){return i.lockMarker(e)}function p(e){return i.removeMarker(e)}function f(){return i.removeAllMarkers()}function g(e,t,n,r=1,a=!0){return i.addPolyline(e,t,n,r,a)}function m(){return i.removeAllPolylines()}},,,function(e,t,n){"use strict";function r(e,t,n,r){var i=.017453292519943295,a=Math.cos,o=.5-a((n-e)*i)/2+a(e*i)*a(n*i)*(1-a((r-t)*i))/2;return 12742*Math.asin(Math.sqrt(o))}function i(e,t){let n=0;t(0);for(const r of e)r.then(()=>{t(100*++n/e.length)});return Promise.all(e)}function a(e){return e<10?"0"+e:e}n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return s}));const r={EVENT_UI_BACK:"EVENT_UI_BACK",EVENT_LOCATION_CHANGE:"EVENT_LOCATION_CHANGE",EVENT_LOCATION_SUCCESS:"EVENT_LOCATION_SUCCESS",EVENT_LOCATION_ERROR:"EVENT_LOCATION_ERROR",EVENT_LOCATION_SELECTED:"EVENT_LOCATION_SELECTED",EVENT_MAP_CENTER_CHANGED:"EVENT_MAP_CENTER_CHANGED"};var i={};function a(e,...t){if(i[e])for(var n of i[e])n?n.apply(this,t):s(n)}function o(e,t){i[e]||(i[e]=[]),i[e].push(t)}function s(e,t){if(i[e]){var n=i[e].indexOf(t);-1!==n&&i[e].splice(n,1)}}},function(e,t,n){"use strict";(function(e,r){n.d(t,"c",(function(){return o})),n.d(t,"p",(function(){return l})),n.d(t,"w",(function(){return d})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"t",(function(){return p})),n.d(t,"u",(function(){return f})),n.d(t,"h",(function(){return g})),n.d(t,"v",(function(){return m})),n.d(t,"o",(function(){return h})),n.d(t,"k",(function(){return b})),n.d(t,"i",(function(){return w})),n.d(t,"r",(function(){return y})),n.d(t,"f",(function(){return k})),n.d(t,"q",(function(){return _})),n.d(t,"s",(function(){return C})),n.d(t,"d",(function(){return E})),n.d(t,"e",(function(){return A})),n.d(t,"j",(function(){return x})),n.d(t,"n",(function(){return T})),n.d(t,"l",(function(){return O})),n.d(t,"g",(function(){return S})),n.d(t,"m",(function(){return N}));var i=n(20),a=n(5),o=new i.a("gtfs");o.version(1).stores({versions:"[package+provider],[package+provider+version],package",agency:"[package+provider+agency_id],[package+provider],[package+provider+version],package",calendar:"[package+provider+service_id],[package+provider],[package+provider+version],package",calendar_dates:"[package+provider+service_id+date],[package+provider],[package+provider+service_id],[package+provider+version],package",frequencies:"[package+provider+trip_id],[package+provider],[package+provider+version],package",routes:"[package+provider+route_id],[package+provider],route_short_name,[package+provider+version],package",trips:"[package+provider+trip_id],[package+provider],[package+provider+route_id],[package+provider+route_id+service_id],[package+provider+path_id],[package+provider+version],package",stops:"[package+provider+stop_id],[package+provider],[package+provider+version],package",stop_times:"++id, [package+provider+trip_id], [package+provider+stop_id], [package+provider],[package+provider+version],package",stop_time_paths:"++id, [package+provider+path_id], [package+provider+stop_id], [package+provider],[package+provider+version],package",fare_attributes:"[package+provider+fare_id],[package+provider],[package+provider+version],package",fare_rules:"[package+provider+fare_id],[package+provider],[package+provider+version],package",stop_times_raw:"[package+provider],[package+provider+version],package",fare_attributes_raw:"[package+provider],[package+provider+version],package",fare_rules_raw:"[package+provider],[package+provider+version],package"});var s=["versions","agency","calendar","calendar_dates","frequencies","routes","trips","stops","stop_times","stop_time_paths","fare_attributes","fare_rules","stop_times_raw","fare_attributes_raw","fare_rules_raw"];async function l(e,t,n){var r,i,o,s,l,d,c,u,p,f=await _(e.lat,e.lng,n,!0),g=[],m=[],h=0,b=0,v=0,w=0,y=0,k=0,E=0,A=0;for(var T of f){for(var S in p=Date.now(),s=await C(T.stop.package,T.stop.provider,T.stop.stop_id),console.log("SearchStopUsed: "+(Date.now()-p)),l=[],s.stopTimes){var D=Date.now();for(var L of(c=!1,u=!1,o=await N(T.stop.package,T.stop.provider,S))){var z=Date.now();i=await O(L.package,L.provider,L.stop_id),d=a.c(t.lat,t.lng,i.stop_lat,i.stop_lon),(!c||!u||d<c)&&(c=d,u=i),y+=Date.now()-z,k++}c&&u&&c<=n&&l.push({distance:c,stop:u,pathId:S,path:o}),v+=Date.now()-D,w++}for(var P of l){D=Date.now();for(var M of await j(P.stop.package,P.stop.provider,P.pathId))m.includes(M.route_id)||(m.push(M.route_id),r=await x(M.package,M.provider,M.route_id),g.push({route:r,startStop:T.stop,endStop:P.stop,path:P.path,pathId:P.pathId,startDistance:T.distance,endDistance:P.distance}));E+=Date.now()-D,A++}h+=Date.now()-p,b++}return console.log("StopLoop: "+Math.round(h/b*100)/100+" count "+b),console.log("PathLoop: "+Math.round(v/w*100)/100+" count "+w),console.log("PathStopLoop: "+Math.round(y/k*100)/100+" count "+k),console.log("PathResultLoop: "+Math.round(E/A*100)/100+" count "+A),g.sort((e,t)=>e.startDisance+e.endDistance-(t.startDistance+t.endDistance)),g}async function d(e,t,n,r){var i,a;for(var s in r)if("stop_times"!==s&&"fare_attributes"!==s&&"fare_rules"!==s&&(i=r[s],(a=await o[s].where("[package+provider+version]").equals([e,t,n]).count())!==i))return console.warn("Warning: "+e+","+t+" "+n+" version database invalid at "+s+" with different rows: "+a+" (Required: "+i+")"),!1;return!0}async function c(e,t){for(var n of s)await o[n].where("[package+provider]").equals([e,t]).delete()}async function u(e){for(var t of s)await o[t].where("package").equals(e).delete()}function p(e,t){t.startsWith('"')&&t.endsWith('"')&&(t=t.substr(1,t.length-2));for(var n=t.split("|"),r="["+e+"] ",i=0;i<n.length;i++)if(n[i].startsWith(r))return n[i].substr(r.length);var a=n[0],o=a.indexOf("] ");return-1===o?a:a.substr(o+2)}function f(e){e.startsWith('"')&&e.endsWith('"')&&(e=e.substr(1,e.length-2));var t=e.split("|");if(t.length>0){var n=t[0],r=n.indexOf("] ");return-1===r?n:n.substr(r+2)}return e}async function g(e,t,n){var r=await T(e,t,n);for(var i of r)if(v(e,t,i.trip_id))return i;return!1}function m(e){var t=e.split(":"),n=new Date;return n.setHours(t[0]),n.setMinutes(t[1]),n.setSeconds(t[2]),n}function h(e){var t=Date.now(),n=m(e.start_time),r=m(e.end_time);return t>=n.getTime()&&t<=r.getTime()}async function b(e,t,n,r){var i,a=await T(e,t,n),o=[];for(var s of a)if(s.path_id===r){var l=await w(e,t,s.trip_id);for(var d of l){for(var c of(i=!1,o))if(c.start_time===d.start_time&&c.end_time===d.end_time&&c.headway_secs===d.headway_secs){i=!0;break}i||o.push(d)}}return o}async function v(e,t,n){var r=await w(e,t,n);Date.now();for(var i of r)if(h(i))return i;return!1}async function w(e,t,n){return await o.frequencies.where("[package+provider+trip_id]").equals([e,t,n]).toArray()}async function y(e){return await o.routes.where("route_short_name").startsWithIgnoreCase(e).toArray()}async function k(e,t,n){return new Promise((r,i)=>{var a=[];o.routes.filter(t=>t.route_short_name.length>e).each(r=>{var i=r.route_short_name.substr(e,t);n&&a.includes(i)||a.push(i)}).then((function(){r(a)}))})}async function _(e,t,n,r=!0){var i=await o.stops.toArray(),s=[];return i.forEach(r=>{var i=a.c(e,t,r.stop_lat,r.stop_lon);i<=n&&s.push({distance:i,stop:r})}),r&&s.sort((e,t)=>e.distance-t.distance),s}function C(e,t,n){return new Promise((r,i)=>{var a=[],s=[],l={},d={},c={};Date.now();return async function(e,t,n){return await o.stop_time_paths.where("[package+provider+stop_id]").equals([e,t,n]).sortBy("path_id")}(e,t,n).then((function(n){for(var r of n){var i=r.path_id;a.push([e,t,i]),d[i]=r}})).then((function(){Date.now(),o.trips.where("[package+provider+path_id]").anyOf(a).each(n=>{var r=n.route_id;c[r]=n,s.push([e,t,r])}).then((function(){Date.now(),o.routes.where("[package+provider+route_id]").anyOf(s).each(e=>{var t=e.route_id;l[t]=e}).then((function(){r({routes:l,trips:c,stopTimes:d})}))}))}))})}async function E(){return await o.agency.toArray()}async function A(e,t,n){return await o.agency.where("[package+provider+agency_id]").equals([e,t,n]).first()}async function x(e,t,n){return await o.routes.where("[package+provider+route_id]").equals([e,t,n]).first()}async function j(e,t,n){return await o.trips.where("[package+provider+path_id]").equals([e,t,n]).toArray()}async function T(e,t,n){return await o.trips.where("[package+provider+route_id]").equals([e,t,n]).toArray()}async function O(e,t,n){return await o.stops.where("[package+provider+stop_id]").equals([e,t,n]).first()}async function S(e,t,n){return await o.calendar.where("[package+provider+service_id]").equals([e,t,n]).first()}async function N(e,t,n){return await o.stop_time_paths.where("[package+provider+path_id]").equals([e,t,n]).sortBy("stop_sequence")}}).call(this,n(173),n(174))},function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"getDefaultSettings",(function(){return i})),n.d(t,"json",(function(){return a})),n.d(t,"get",(function(){return o})),n.d(t,"set",(function(){return s})),n.d(t,"load",(function(){return l})),n.d(t,"save",(function(){return d}));const r="gtw-settings";function i(){return[{key:"preferred_language",type:"string",name:e.i18n("settings-key-preferred-language"),desc:e.i18n("settings-key-preferred-language-desc"),def:"en",checkfunc:function(e){var t=n(32).languages,r=!1;for(var i in t)if(i===e){r=!0;break}return r}},{key:"show_debug_msg",type:"boolean",name:e.i18n("settings-key-show-debug-msg"),desc:e.i18n("settings-key-show-debug-msg-desc"),def:!1},{key:"min_nearby_transit_range",type:"number",name:e.i18n("settings-key-min-nearby-transit-search-range"),desc:e.i18n("settings-key-min-nearby-transit-search-range-desc"),def:200,checkfunc:function(e){var t=parseInt(e);return!Number.isNaN(t)&&t<1e4}},{key:"max_nearby_transit_to_display",type:"number",name:e.i18n("settings-key-max-nearby-transit-to-be-displayed"),desc:e.i18n("settings-key-max-nearby-transit-to-be-displayed-desc"),def:20,checkfunc:function(e){var t=parseInt(e);return!Number.isNaN(t)&&t<100}},{key:"use_cors_proxy",type:"boolean",name:e.i18n("settings-key-use-cors-proxy"),desc:e.i18n("settings-key-use-cors-proxy-desc"),def:!0},{key:"cors_proxy_server",type:"string",name:e.i18n("settings-key-cors-proxy-server"),desc:e.i18n("settings-key-cors-proxy-server-desc"),def:"https://cp1.gotowhere.ga/",checkfunc:function(e){return e.startsWith("https://")&&e.endsWith("/")}},{key:"cors_check_bypass",type:"boolean",name:e.i18n("settings-key-cors-check-bypass"),desc:e.i18n("settings-key-cors-check-bypass-desc"),def:!1}]}var a={};function o(e,t=!1){var n=a[e];return void 0===n?t:n}function s(e,t){return a[e]=t,!0}function l(){if(!localStorage)return!1;var e=localStorage.getItem(r);if(!e)return d();var t=JSON.parse(e);return!!t&&(a=t,!0)}function d(){return!!localStorage&&(localStorage.setItem(r,JSON.stringify(a)),!0)}}.call(this,n(0))},function(e,t,n){"use strict";(function(e){n.d(t,"h",(function(){return p})),n.d(t,"e",(function(){return f})),n.d(t,"a",(function(){return g})),n.d(t,"j",(function(){return m})),n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return b})),n.d(t,"f",(function(){return w})),n.d(t,"d",(function(){return k})),n.d(t,"i",(function(){return _})),n.d(t,"g",(function(){return C})),n.d(t,"k",(function(){return E}));var r=n(5),i=n(7),a=(n(20),n(177),n(178),[]),o=[],s={},l={},d={},c={},u={};function p(e,t,n){if(!n.fetchDatabase||"function"!=typeof n.fetchDatabase||!n.checkDatabaseUpdate||"function"!=typeof n.checkDatabaseUpdate)throw new Error("Error: "+name+" does not contain fetchDatabase or checkDatabaseUpdate function!");n.pkg=e,n.id=t,n.db=!1,a.push(n)}function f(e){console.log("Obtaining db version");var t=[];for(var n of a)window.x=i.c,t.push(i.c.versions.where("[package+provider]").equals([n.pkg,n.id]).first().then((function(e){if(e){var t=e.package+","+e.provider;s[t]=e.version,u[t]=e.map}})));return r.a(t,e)}function g(e){console.log("DBVersions:"),console.log(s);var t,n=[];for(var i of a){var o=i.pkg+","+i.id;s[o]?(t=new Promise((e,t)=>{i.checkDatabaseUpdate(e,t,s[o])}),n.push(t.then((function(e){c[o]=e})).catch((function(e){console.error("Error: Promise rejected when checking update for "+o+".")})))):c[o]=!0}return r.a(n,e)}async function m(){var e;for(var t of a){var n=t.pkg+","+t.id;(e=u[n])?await i.w(t.pkg,t.id,s[n],e)||(console.warn("Warning: Invalid GTFS database compared with map! Forcing to update!"),c[n]=!0):(console.error("Error: GTFS database does not contain a map to validate! Forcing it to update!"),c[n]=!0)}}function h(){for(var e in c)if(c[e])return!0;return!1}function b(e){console.log("DBUpdateNeeded:"),console.log(c);var t,n=[];for(var i of a){var o=i.pkg+","+i.id;c[o]&&(t=new Promise((e,t)=>{i.fetchDatabase(e,t)}),n.push(t.then((function(e){l[o]=e}))))}return r.a(n,e)}var v=["agency.json","calendar_dates.json","calendar.json","fare_attributes.json","fare_rules.json","frequencies.json","routes.json","stops.json","stop_time_paths.json","stop_times.json","trips.json"];function w(e){console.log("DBZips:"),console.log(l);var t,n=[];for(var o of a){var s=o.pkg+","+o.id;if(l[s]){if(t=l[s],console.log("Preparing for update for key: "+s),!t.files["version.json"]){console.error("Error: Database returned from "+s+" does not contain a version file.");continue}for(var c of(d[s]=[],v))t.files[c]&&n.push(t.files[c].async("string").then((function(e){var t=JSON.parse(e);t.pkg=o.pkg,t.id=o.id,console.log(t),d[s].push(t)})));n.push(t.file("version.json").async("string").then((function(e){var t=JSON.parse(e);t.package=o.pkg,t.provider=o.id,i.c.versions.put(t)}))),n.push(i.a(o.pkg,o.id))}}return r.a(n,e)}var y=!1;function k(){y=new Worker(e,{})}function _(){y.terminate()}function C(e,t){console.log("DBChunks:"),console.log(d);var n,i,o=[];for(var s of a){var c=s.pkg+","+s.id;if(i=l[c],d[c]){n=d[c];for(const t of n)e===t.dataType&&o.push(new Promise((e,n)=>{var r="";console.log("Loading "+t.dataType),i.file(t.dataType+"-chunk.json").internalStream("string").on("data",(function(e){r+=e})).on("error",(function(e){console.log("ERROR"),n(e)})).on("end",(function(){console.log("Chunk end"),y.postMessage({type:0,pkg:s.pkg,id:s.id,info:t,string:r}),e()})).resume()}))}}return r.a(o,t)}function E(e){return new Promise((t,n)=>{y.addEventListener("message",(function n(r){var a=r.data;if(0===a.type)console.log("Finish"),y.removeEventListener("message",n),t();else if(1===a.type)e(a.progress);else if(2===a.type){var s=r.data;o.push(i.c.putGtfs(s.pkg,s.id,s.info.dataType,s.result))}})),y.postMessage({type:1})})}}).call(this,n(176))},,,,,,,function(e,t,n){"use strict";(function(e){n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return d})),n.d(t,"e",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return f}));var r=n(5),i=n(7),a=n(42),o={},s=[],l=["gtwp-kmb"];function d(e,t){return!function(e){for(var t of s)if(t===e)return!0;return!1}(e)&&(s.push(e),!1!==t&&p(),!0)}async function c(e,t){var n;for(await i.b(e),n=0;n<s.length;n++)if(s[n]===e)return s.splice(n,1),!1!==t&&p(),!0;return!1}function u(e){return o[e]}function p(){return window.localStorage.setItem("gtw-plugins",JSON.stringify(s)),!0}function f(t){if(localStorage){var i=localStorage.getItem("gtw-plugins");i&&(s=JSON.parse(i)),s&&"number"==typeof s.length||(console.warn("Warning: Installed plugins JSON string is invalid. Resetting as empty."),p());var d=[];for(var u of s){if(l.includes(u)){alert(e.i18n("plugin-deprecated-auto-uninstall",u)),c(u);continue}const t={package:u,status:1,msg:"Not Enabled"};a[u]?d.push(new Promise((r,i)=>{n(175)(`./${u}/index.js`).then((function(n){var a;if(n)if(n.onload&&"function"==typeof n.onload){new Promise((e,t)=>{var r=n.onload();r instanceof Promise?r.then(e).catch(t):e(r)}).then((function(n){if(n)t.status=0,delete t.msg;else{var i=e.i18n("plugin-error-onload-function-error",u);console.error(i),t.status=-4,t.msg=i}r()})).catch(i)}else a=e.i18n("plugin-error-no-onload-function",u),console.error(a),t.status=-3,t.msg=a;else a=e.i18n("plugin-error-no-module-returned",u),console.error(a),t.status=-2,t.msg=a}))})):(t.status=-1,t.msg="This plugin is not available in this version of GoToWhere."),o[u]=t}return r.a(d,t)}console.error("Error: LocalStorage is not supported in this browser.")}}).call(this,n(0))},,,,,function(e,t,n){"use strict";(function(e){n.d(t,"c",(function(){return u})),n.d(t,"e",(function(){return p})),n.d(t,"b",(function(){return f})),n.d(t,"d",(function(){return g})),n.d(t,"a",(function(){return m}));var r=n(2),i=n(16),a=n(23),o=n(6),s=n(94),l=!1,d=!1;e(document).ready((function(){e(".header-links-plugins").on("click",(function(){g("pluginmanager")})),e(".header-links-settings").on("click",(function(){g("settings")})),e(".header-links-github").on("click",(function(){window.open("https://github.com/mob41/GoToWhere")})),e(".header-links-about").on("click",(function(){g("about")})),e(".header-links-feedback").on("click",(function(){window.open("https://forms.gle/nP9cp1V2rqhdqybv5")}))})),e(".ui-tab").on("click",(function(){if(!e(this).hasClass("btn-primary")){e(".ui-tab").removeClass("btn-primary"),e(".ui-tab").removeClass("btn-link");var t=e(this).attr("data-gtw-tab");e(this).addClass("btn-primary"),e(".ui-tab:not([data-gtw-tab='"+t+"'])").addClass("btn-link"),v(t)}})),e(".btn").on("click",(function(){e(this).blur()})),e(".ui-split-map-back-btn").on("click",(function(){o.c(o.a.EVENT_UI_BACK),r.i(a.a()),r.k(16),r.f(),r.g(),p()}));var c=80;function u(){0===Object.keys(i.d).length&&(b(),h(),n.e(15).then(n.bind(null,207)).then((function(e){e.enable()}))),v("transit"),adjustMargin(),p()}function p(){e(".content-panel-container").css("display","inline-block"),e(".top-panel").css("display","block"),e(".header nav").removeClass("gtw-split-map"),e("body").removeClass("gtw-split-map"),e("#gtw-map").removeClass("gtw-split-map"),e(".map-overlay").removeClass("gtw-split-map"),e(".split-map-panel").removeClass("gtw-split-map"),e(".split-map-container").removeClass("gtw-split-map"),e(".mobile-split-container").removeClass("gtw-split-map"),adjustMargin()}function f(){e(".top-panel").css("display","none"),e(".content-panel-container").css("display","none"),e(".header nav").addClass("gtw-split-map"),e("#gtw-map").addClass("gtw-split-map"),e(".map-overlay").addClass("gtw-split-map"),e(".split-map-panel").addClass("gtw-split-map"),e(".split-map-container").addClass("gtw-split-map"),e(".mobile-split-container").addClass("gtw-split-map"),adjustMargin()}function g(t,...r){h(),function(t,r={}){const i="modal-"+t;!0===r&&((r={}).backdrop="static",r.keyboard=!1);var a=[];a.push(n(196)(`./${i}-header.html`).then((function(t){e(".modal-header").html(t.default)}))),a.push(n(197)(`./${i}-body.html`).then((function(t){e(".modal-body").html(t.default)}))),a.push(n(198)(`./${i}-footer.html`).then((function(t){e(".modal-footer").html(t.default)})));var o=Promise.all(a);return o.then((function(){e(".modal").modal(r)})),o}(t,!0).then((function(){e(".modal").i18n(),n(195)(`./gtw-ui-modal-${t}`).then((function(e){d=e,e.enable.apply(this,r)}))}))}function m(){e(".modal").modal("hide"),h()}function h(){d&&(d.disable(),d=!1)}function b(){l&&(l.disable(),l=!1,e(".tab-panel").html(""),e(".content-panel-container").html(""),e(".split-map-tab-panel").html(""),e(".split-map-container").html(""),s.d())}function v(e,...t){b(),n(199)(`./gtw-ui-tab-${e}`).then((function(e){l=e,e.enable.apply(this,t)}))}e(".ui-pull-up-btn").on("click",(function(){c>=80||(c+=20,e(".mobile-split-container").css("height",c+"%"),adjustMargin())})),e(".ui-pull-down-btn").on("click",(function(){c<=20||(c-=20,e(".mobile-split-container").css("height",c+"%"),adjustMargin())}))}).call(this,n(0))},function(e,t,n){"use strict";n.r(t),n.d(t,"domains",(function(){return a})),n.d(t,"register",(function(){return o})),n.d(t,"extractHost",(function(){return s})),n.d(t,"isCors",(function(){return l}));var r=n(96);const i="https://";var a={};function o(e,t=!1){var n={};n.allowCors=t,a[e]=n}function s(e){if(!e.includes("://"))return"___local___";if(e.startsWith("file://"))return"___file___";var t=e.indexOf("://"),n=e.substring(t+3);return-1===(t=n.indexOf("/"))&&(t=n.length()),n.substring(0,t)}function l(e){if(!e.startsWith(i))return!0;var t=s(e);return a[t]?!a[t].allowCors:window.location.host!==t}n.n(r).a.before((function(e,t){var r=n(22),i=n(8);if(i.get("cors_check_bypass",!1))t();else{if(r.isCors(e.url)){var a=r.extractHost(e.url);if(!a||""===a||"___local___"===a)return void t();var o=r.domains[a];if(!o)return console.error('gtw-cors: The request to "'+a+'" was dropped, because this cross-domain host was not registered before performing AJAX.'),void t({status:403,statusText:"The request is dropped by GoToWhere because this host was not registered before performing AJAX.",headers:{}});if(o.allowCors)return void t();if(!i.get("use_cors_proxy",!0))return console.error("gtw-cors: The request was dropped because there are no proxy available to handle CORS requests."),void t({status:403,statusText:"The request was dropped because there are no proxy available to handle CORS requests.",headers:{}});var s=i.get("cors_proxy_server","https://cp1.gotowhere.ga/");if(!s.startsWith("https://")||!s.endsWith("/"))return console.error("gtw-cors: The provided CORS Proxy server is invalid! Please check if the server URL in the settings is correct!"),void t({status:403,statusText:"The provided CORS Proxy server is invalid! Please check if the server URL in the settings is correct!.",headers:{}});var l=e.url.indexOf("http://"),d=e.url.indexOf("https://");if(-1!==l&&-1===d)e.url=s+e.url.substring(l+7);else{if(-1!==l||-1===d)return console.error("gtw-cors: Invalid URL: "+e.url),void t({status:403,statusText:"Invalid URL: "+e.url,headers:{}});e.url=s+e.url.substring(d+8)}}t()}}))},function(e,t,n){"use strict";n.d(t,"e",(function(){return d})),n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return f}));var r=n(2),i=n(6);var a=0,o={lat:22.2952296,lng:114.1766577},s=!1,l=!1;function d(e=function(){},t=function(){}){if(navigator.geolocation){navigator.geolocation.getCurrentPosition((function(t){s=!0,o={lat:t.coords.latitude,lng:t.coords.longitude},r.i(o),r.k(16),a=r.a(o,{icon:"img/star.png"}),r.e(a),navigator.geolocation.watchPosition(g,m,{enableHighAccuracy:!1,timeout:5e3,maximumAge:0}),i.c(i.a.EVENT_LOCATION_SUCCESS),e(o)}),(function(e){s=!1,l=e,i.c(i.a.EVENT_LOCATION_ERROR,e),t(e)}),{timeout:1e4})}else t(ERROR_NOT_SUPPORTED)}function c(){return s}function u(){return!1!==l}function p(){return l}function f(){return o}function g(e){o={lat:e.coords.latitude,lng:e.coords.longitude},s=!0,l=!1,r.j(a,o),i.c(i.a.EVENT_LOCATION_CHANGE,o)}function m(e){s=!1,l=e,i.c(i.a.EVENT_LOCATION_ERROR,e)}},,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var r=new(n(20).a)("gtw-db");async function i(e,t){return await r.transitReference.where("[package+provider]").equals([e,t]).first()}async function a(e){if(e.package&&e.provider)return await r.transitReference.put(e);console.error("Error: Database missing package or provider parameter(s).")}r.version(2).stores({pluginStorage:"package",transitReference:"[package+provider]"})},function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"languages",(function(){return i})),n.d(t,"translatedString",(function(){return a})),n.d(t,"localizedKey",(function(){return o})),n.d(t,"getLanguage",(function(){return s})),n.d(t,"getLocale",(function(){return l})),n.d(t,"changeLanguage",(function(){return d}));var r=n(8);const i={en:"English",zh:"繁體中文"};function a(e){var t=s(),n=l();for(var r of e.translation)if(r.language===t)return r.text;for(var r of e.translation)if(r.language===n||r.language.split("-")[0]===n)return r.text;for(var r of e.translation)if("en"===r.language)return r.text;return!1}function o(e,t){var n=t+"_"+s(),r=t+"_"+l(),i=t+"_en";return e[n]?e[n]:e[r]?e[r]:e[i]?e[i]:!!e[t]&&e[t]}function s(){return r.get("preferred_language","en")}function l(){return r.get("preferred_language","en").split("-")[0]}function d(t){var a=!1;for(var o in i)if(t===o){a=!0;break}return!!a&&(r.set("preferred_language",t),r.save(),e.i18n().locale=t,n(172)(`./${t}.json`).then((function(n){e.i18n().load(n.default,t),e("body").i18n()})))}}.call(this,n(0))},function(e,t,n){"use strict";n.r(t),n.d(t,"clearCache",(function(){return s})),n.d(t,"timeDifference",(function(){return l})),n.d(t,"registerProvider",(function(){return d})),n.d(t,"unregisterProvider",(function(){return c})),n.d(t,"getProviders",(function(){return u})),n.d(t,"getProvider",(function(){return p})),n.d(t,"getEtaProvider",(function(){return f})),n.d(t,"fetchAllDatabase",(function(){return g})),n.d(t,"fetchEta",(function(){return m})),n.d(t,"getCache",(function(){return h}));n(5);var r=n(31),i=n(40),a=[],o={};function s(){o={}}function l(e,t){return 60*e.hr+e.min-(60*t.hr+t.min)}function d(e,t,n,r){if(!r.fetchEta||"function"!=typeof r.fetchEta||!r.fetchDatabase||"function"!=typeof r.fetchDatabase||!r.checkDatabaseUpdate||"function"!=typeof r.checkDatabaseUpdate)throw new Error("Error: "+t+" does not contain fetchEta, fetchDatabase or checkDatabaseUpdate function!");if(r.pkg=e,r.id=t,r.etaProviders=n,r.db=!1,"object"==typeof name)for(var i in r.name=name.default,name)r["name_"+i]=name[i];else r.name=name;a.push(r)}function c(e,t){for(var n=-1,r=0;r<a.length;r++)a[r].pkg===e&&a[r].id===t&&(n=r);a.splice(n,1)}function u(){return a}function p(e,t){for(var n of a)if(n.pkg===e&&n.id===t)return n;return!1}function f(e){for(var t of a)if(t.etaProviders.includes(e))return t;return!1}async function g(e){var t;for(var n of a)(t=await r.a(n.pkg,n.id))&&(n.db=t);var i={};for(var n of a)if(n.db){console.log("has db "+n.id);try{var o=await new Promise((e,t)=>{n.checkDatabaseUpdate(e,t,n.db.version)});console.log("update: "+n.id+" "+o),i[n.id]=o}catch(e){console.error("Error: Database check update for "+n.id+" failed!"),i[n.id]=!1}}else console.log("No db found for "+n.id),i[n.id]=!0;for(var n of(console.log(i),a))if(i[n.id])try{var s=await new Promise((e,t)=>{n.fetchDatabase(e,t)});if(!s.package||!s.provider||!s.version)return void console.error("Error: Returned reference database is missing version, package or provider parameter(s) for "+(s.provider?s.provider:"unknown provider")+".");n.db=s,await r.b(s)}catch(e){console.error("Error: Database fetch for "+n.id+" failed!")}}function m(e){return e.agency&&e.route&&e.trip&&e.stopTimes&&e.stop?new Promise((t,n)=>{var r=[],a=0;for(var s of e.etaProviders)r.push(new Promise((t,n)=>{var r=f(s);if(!r)return t(),void console.log('Could not find registered Transit ETA provider with name "'+s+'"');a++;var l=s+"-"+e.route.route_id+"-"+e.trip.trip_id+"-"+e.stop.stop_id,d=o[l],c=new Date;if(d&&c-d.lastFetched>3e4&&(d=!1,delete o[l]),d)t(d.feed);else{new Promise((t,n)=>{r.fetchEta(t,n,e)}).then((function(e){var n=i.transit_realtime.FeedMessage.fromObject(e),r=i.transit_realtime.FeedMessage.verify(n);if(null===r){var a=new Date;o[l]={lastFetched:a.getTime(),feed:n},t(n)}else console.error("Error: Returned feed is invalid: "+r)})).catch((function(t){n(e,t)}))}}));Promise.all(r).then((function(n){if(a>0){var r=[];for(var i of n)i&&i.header&&i.entity&&r.push(i);t({feeds:r,options:e,code:0})}else e.etaProviders&&e.etaProviders.length>0?t({code:-2,options:e}):t({code:-1,options:e})})).catch(n)}):(console.error("Error: Fetch ETA missing agency, route, trip or stop parameter."),!1)}function h(){return o}},,,,,,,,,function(e){e.exports=JSON.parse('{"gtwp-hktransit":{"package":"gtwp-hktransit","name":"HKTransit","fullName":"Hong Kong Transit Data","desc":"Official transit data from data.gov.hk","author":"mob41","license":"https://github.com/mob41/GoToWhere/tree/master/src/plugins/gtwp-hktransit/LICENSE","closedApi":false,"github":"https://github.com/mob41/GoToWhere/tree/master/src/plugins/gtwp-hktransit","version":"0.0.1","targetApi":"0.0.1","region":"HK","category":"transit","dependencies":{}},"gtwp-kmblwb":{"package":"gtwp-kmblwb","name":"KMBLWB","fullName":"Kowloon Motor Bus and Long Win Bus Transit ETA","desc":"Providing closed transit data from KMB and LWB.","author":"mob41","license":"https://github.com/mob41/GoToWhere/tree/master/src/plugins/gtwp-kmblwb/LICENSE","closedApi":true,"github":"https://github.com/mob41/GoToWhere/tree/master/src/plugins/gtwp-kmblwb","version":"0.0.1","targetApi":"0.0.1","region":"HK","category":"transitEta","dependencies":{}},"gtwp-ctbnwfb":{"package":"gtwp-ctbnwfb","name":"CTBNWFB","fullName":"Citybus and New World First Bus Transit ETA","desc":"Providing publicized transit data from Citybus and New World First Bus.","author":"mob41","license":"https://github.com/mob41/GoToWhere/tree/master/src/plugins/gtwp-ctbnwfb/LICENSE","closedApi":false,"github":"https://github.com/mob41/GoToWhere/tree/master/src/plugins/gtwp-ctbnwfb","version":"0.0.1","targetApi":"0.0.1","region":"HK","category":"transitEta","dependencies":{}}}')},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s}));var r=[],i=500,a=!1;function o(){a||(a=!0,function e(){var t=r.shift();t&&"function"==typeof t[0]&&t[0].apply(null,t[1]);a&&setTimeout((function(){e()}),i)}())}function s(){r=[]}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";t.a={mapApi:"googlemap",googleMapApiKey:"AIzaSyAhU7FqH46IdF4RaHrBlABfkoFlHZeudFg"}},function(e,t,n){"use strict";(function(e){n.d(t,"f",(function(){return a})),n.d(t,"h",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"g",(function(){return p}));var r=[];function i(){if(e(this).blur(),!e(this).hasClass("disabled"))for(var t of r)t(this)}function a(){e(".numeric-keypad .touch-keypad-value").each((function(){e(this).removeClass("disabled"),e(this).removeClass("btn-secondary"),e(this).addClass("btn-outline-secondary")}))}function o(){e(".touch-keypad").css("display","flex"),adjustMargin()}function s(){e(".touch-keypad").css("display",""),adjustMargin()}function l(e){return"function"==typeof e&&(r.push(e),!0)}function d(e){if("function"!=typeof e)return!1;var t=r.indexOf(e);return-1!==t&&(r.splice(t,1),!0)}function c(){e(".touch-keypad-function").removeClass("disabled")}function u(){e(".touch-keypad-function").addClass("disabled")}function p(t){e(".numeric-keypad .touch-keypad-value").each((function(){var n=e(this).html();t[n]?(e(this).removeClass("disabled"),e(this).removeClass("btn-secondary"),e(this).addClass("btn-outline-secondary")):(e(this).addClass("disabled"),e(this).addClass("btn-secondary"),e(this).removeClass("btn-outline-secondary")),delete t[n]}));var n=Object.keys(t);n.sort((function(e,t){return e.charCodeAt(0)-t.charCodeAt(0)}));var r="";for(var a of n)r+='<button type="button" class="btn btn-outline-secondary py-3 touch-keypad-key touch-keypad-value">'+a+"</button>";e(".letter-keypad").html(r),e(".letter-keypad .touch-keypad-value").on("click",i)}e(".touch-keypad-function-done").on("click",i),e(".touch-keypad-function-backspace").on("click",i),e(".touch-keypad-value").on("click",i)}).call(this,n(0))},,,,,,,,,,,,,,,,,,,function(e,t){},,function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var r={"./jquery.i18n":70,"./jquery.i18n.emitter":71,"./jquery.i18n.emitter.bidi":72,"./jquery.i18n.emitter.bidi.js":72,"./jquery.i18n.emitter.js":71,"./jquery.i18n.fallbacks":73,"./jquery.i18n.fallbacks.js":73,"./jquery.i18n.js":70,"./jquery.i18n.language":74,"./jquery.i18n.language.js":74,"./jquery.i18n.messagestore":75,"./jquery.i18n.messagestore.js":75,"./jquery.i18n.parser":76,"./jquery.i18n.parser.js":76,"./languages/bs":77,"./languages/bs.js":77,"./languages/dsb":78,"./languages/dsb.js":78,"./languages/fi":79,"./languages/fi.js":79,"./languages/ga":80,"./languages/ga.js":80,"./languages/he":81,"./languages/he.js":81,"./languages/hsb":82,"./languages/hsb.js":82,"./languages/hu":83,"./languages/hu.js":83,"./languages/hy":84,"./languages/hy.js":84,"./languages/la":85,"./languages/la.js":85,"./languages/ml":86,"./languages/ml.js":86,"./languages/os":87,"./languages/os.js":87,"./languages/ru":88,"./languages/ru.js":88,"./languages/sl":89,"./languages/sl.js":89,"./languages/uk":90,"./languages/uk.js":90};function i(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=a,e.exports=i,i.id=147},,,,,function(e,t,n){var r=n(153);"string"==typeof r&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};n(30)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(29)(!1)).push([e.i,"body {\r\n    width: 100%;\r\n    height: 100vh;\r\n    /* overflow: hidden; */\r\n    position: absolute;\r\n}\r\n\r\n.landscape-notice {\r\n    display: none;\r\n    width: 100%;\r\n    height: 100%;\r\n    background-color: white;\r\n    z-index: 5;\r\n    position: relative;\r\n    padding: 12%;\r\n    font-weight: bold;\r\n}\r\n\r\n/* Update Change-log */\r\n\r\n.build-version {\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\r\n    z-index: 5;\r\n    padding-top: env(safe-area-inset-top);\r\n    margin: 1rem;\r\n}\r\n\r\n#updated-changelog {\r\n    white-space: normal;\r\n}\r\n\r\n/* Toast */\r\n\r\n.toast-stack-container {\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\r\n    width: 100%;\r\n}\r\n\r\n#gtw-toast-stack {\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\r\n    margin: 1rem;\r\n    z-index: 3;\r\n}\r\n\r\n/* Startup DIV CSS */\r\n\r\n.startup {\r\n    position: absolute;\r\n    top: 0;\r\n    background-color: white;\r\n    width: 100%;\r\n    height: 100%;\r\n    overflow: hidden;\r\n    z-index: 4;\r\n}\r\n\r\n.startup .container {\r\n    display: none;\r\n    position: relative;\r\n}\r\n\r\n.progress-panel {\r\n    position: absolute;\r\n    text-align: center;\r\n    width: 100%;\r\n    bottom: 0px;\r\n    z-index: 2;\r\n}\r\n\r\n.progress {\r\n    border-radius: 0px;\r\n}\r\n\r\n.bg-loaddb-panel {\r\n    display: none;\r\n}\r\n\r\n.request-progress-panel {\r\n    position: absolute;\r\n    text-align: center;\r\n    width: 100%;\r\n    left: 0px;\r\n    bottom: 0px;\r\n    display: none;\r\n}\r\n\r\n.startup .overlay {\r\n    position: absolute;\r\n    top: 0;\r\n    height: 100%;\r\n    width: 100%;\r\n    background-color: white;\r\n    opacity: 0.5;\r\n    z-index: 1;\r\n}\r\n\r\n.startup .progress-panel {\r\n    display: none;\r\n}\r\n\r\n/* Getting Started Panel */\r\n.getting-started-panel {\r\n    display: none;\r\n    padding: 1rem;\r\n    position: absolute;\r\n    z-index: 1;\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\n.getting-started-panel p.app-title {\r\n    margin-top: 0.8125rem;\r\n    margin-left: 1rem;\r\n    margin-bottom: 0.8125rem;\r\n    white-space: nowrap;\r\n    line-height: inherit;\r\n    font-size: 1.25rem;\r\n}\r\n\r\n#gettingStartedWizard {\r\n    margin-top: 2rem;\r\n    background-color: white;\r\n    padding: 1rem;\r\n    width: 100%;\r\n}\r\n\r\n#gettingStartedWizard ul {\r\n    flex-wrap: nowrap;\r\n    overflow-x: auto;\r\n    overflow-y: hidden;\r\n}\r\n\r\n.getting-started-progress-panel {\r\n    display: none;\r\n}\r\n\r\n.getting-started-progress-panel .progress-panel {\r\n    text-align: center;\r\n}\r\n\r\n.getting-started-plugin-error-panel{\r\n    display: none;\r\n}\r\n\r\n/* Navigation CSS */\r\n\r\n.select-location-field {\r\n    background-color: #fff!important;\r\n}\r\n\r\n/* ETA CSS */\r\n.bg-trans {\r\n    background-color: unset;\r\n}\r\n\r\n.split-map-container {\r\n    display: none;\r\n    width: 100%;\r\n    position: absolute;\r\n    overflow-x: hidden;\r\n    overflow-y: scroll;\r\n    z-index: 2;\r\n}\r\n\r\n.container {\r\n    padding: 0px;\r\n}\r\n\r\n.content-panel-container {\r\n\r\n}\r\n\r\n.item-list {\r\n    height: inherit;\r\n}\r\n\r\n.item-list .list-group {\r\n    width: 100%;\r\n    height: inherit;\r\n    overflow-x: hidden;\r\n    overflow-y: scroll;\r\n    z-index: 1;\r\n}\r\n\r\n.item-list .list-group li {\r\n    min-height: 115px;\r\n}\r\n\r\n.all-route-list {\r\n    display: none;\r\n}\r\n\r\n.stop-eta tr.active {\r\n    font-size: 18px;\r\n    font-weight: bold;\r\n}\r\n\r\n/* Map CSS */\r\n\r\n#gtw-map {\r\n    width: 100vw;\r\n    height: 100vh;\r\n    top: 0px;\r\n    left: 0px;\r\n    position: fixed;\r\n    overflow: hidden;\r\n}\r\n\r\n/* Search panel CSS */\r\n\r\n.top-panel {\r\n    padding: 8px;\r\n    margin-bottom: 0px;\r\n    background-color: unset;\r\n}\r\n\r\n.top-panel .tabs, .hori-scroll {\r\n    overflow: auto;\r\n    white-space: nowrap;\r\n    display: block;\r\n    padding: 4px;\r\n}\r\n\r\n.top-panel .tabs .ui-tab, .hori-scroll button {\r\n    display: inline-block;\r\n}\r\n\r\n#loc-status-btn {\r\n    margin-top: env(safe-area-inset-top);\r\n    margin-bottom: env(safe-area-inset-bottom);\r\n    position: fixed;\r\n    z-index: 3;\r\n    right: 4px;\r\n    bottom: 4px;\r\n}\r\n\r\n/* Header, footer CSS */\r\n\r\n.gtw-container {\r\n    position: fixed;\r\n    top: 0;\r\n    width: 100%;\r\n    z-index: 1;\r\n}\r\n\r\n/*\r\n.header nav {\r\n    background-color: #343a40\r\n}\r\n*/\r\n\r\n.footer {\r\n    padding-top: 8px;\r\n    padding-bottom: 0px;\r\n    position: fixed;\r\n    bottom: 0;\r\n    z-index: 2;\r\n    width: 100%;\r\n}\r\n\r\n.map-overlay {\r\n    position: fixed;\r\n    width: 100%;\r\n    height: 100%;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    background-color: rgba(233,236,239,0.8);\r\n    z-index: 1;\r\n    cursor: pointer;\r\n}\r\n\r\n/* Loading Overlay CSS */\r\n\r\n.loading-overlay {\r\n    position: fixed;\r\n    display: none;\r\n    width: 100%;\r\n    height: 100%;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    background-color: rgba(0,0,0,0.3);\r\n    z-index: 3;\r\n    opacity: 100;\r\n    cursor: pointer;\r\n}\r\n\r\n.loading-overlay .loading-spinner {\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\n.loading-overlay .spinner-border {\r\n    width: 3rem;\r\n    height: 3rem;\r\n}\r\n\r\n/* Touch Keypad */\r\n\r\n.touch-keypad {\r\n    position: fixed;\r\n    left: 0;\r\n    bottom: 0;\r\n    width: 100%;\r\n    margin: 0px;\r\n    padding: 0px;\r\n    z-index: 2;\r\n    background: rgba(255, 255, 255, 0.4);\r\n    display: none;\r\n    padding-bottom: env(safe-area-inset-bottom);\r\n}\r\n\r\n.touch-keypad .numeric-keypad {\r\n    width: 75%;\r\n}\r\n\r\n.touch-keypad .letter-keypad {\r\n    width: 25%;\r\n    overflow-x: hidden;\r\n    overflow-y: auto;\r\n    white-space: nowrap;\r\n    justify-content: flex-start;\r\n}\r\n\r\n.touch-keypad-key {\r\n    min-height: 58px;\r\n}\r\n\r\n/* Route selection */\r\n\r\n.route-selection .route-id {\r\n    padding-right: 16px;\r\n    font-weight: bold;\r\n}\r\n\r\n.route-selection .stop-info {\r\n    margin-left: 8px;\r\n    margin-right: 8px;\r\n}\r\n\r\n.route-selection .stop-info .badge {\r\n\r\n}\r\n\r\n.route-selection .stop-info .col-sm-12{\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis; \r\n    width: inherit;\r\n}\r\n\r\n/* Search Transit Field */\r\n\r\n#search-transit-text {\r\n    background-color: #fff;\r\n}\r\n\r\n/* split-map Panel */\r\n.split-map-panel {\r\n    display: none;\r\n    background-color: unset;\r\n    padding: 8px;\r\n    margin-bottom: 0px;\r\n    position: relative;\r\n    z-index: 1;\r\n}\r\n\r\n.mobile-split-container {\r\n    /*margin-top: 50vh;*/\r\n    display: none;\r\n    position: fixed;\r\n    left: 0;\r\n    bottom: 0;\r\n    width: 100%;\r\n    height: 80%;\r\n    padding: 0px;\r\n    background-color: rgba(233,236,239,0.8);\r\n}\r\n\r\n/* Route list */\r\n\r\n.view-alert-btn {\r\n    font-size: inherit;\r\n    padding: 0px;\r\n}\r\n\r\n/* Media Query */\r\n@media only screen and (min-width: 768px) {\r\n    .top-panel {\r\n        /*width: 25%;*/\r\n    }\r\n\r\n    .split-map-panel {\r\n        /*width: 25%;*/\r\n    }\r\n\r\n    .split-map-container {\r\n        /*width: 25%;*/\r\n        margin-left: 0;\r\n    }\r\n\r\n    .content-panel-container {\r\n        /*width: 25%;*/\r\n        margin-left: 0;\r\n    }\r\n\r\n    .request-progress-panel {\r\n        width: 25%;\r\n    }\r\n\r\n    #gtw-map {\r\n        width: 100vw;\r\n        /*width: 75%;\r\n        margin-left: 25%;*/\r\n    }\r\n\r\n    .gtw-container {\r\n        width: 25%;\r\n    }\r\n\r\n    .map-overlay {\r\n        width: 25%;\r\n        /*display: none;*/\r\n    }\r\n\r\n    .touch-keypad {\r\n        width: 25%;\r\n    }\r\n\r\n    .getting-started-panel {\r\n        /*width: 25%;*/\r\n    }\r\n\r\n    .desktop.split-map-panel.gtw-split-map {\r\n        display: block;\r\n    }\r\n\r\n    .desktop.split-map-container.gtw-split-map {\r\n        display: block;\r\n    }\r\n\r\n    .mobile.split-map-panel.gtw-split-map {\r\n        display: none;\r\n    }\r\n\r\n    .mobile.split-map-container.gtw-split-map {\r\n        display: none;\r\n    }\r\n}\r\n\r\n@media only screen and (max-width: 768px) {\r\n    .gtw-container nav {\r\n        margin-top: env(safe-area-inset-top);\r\n        background-color: unset;\r\n    }\r\n\r\n    .toast-stack-container {\r\n        margin-top: env(safe-area-inset-top);\r\n        margin-bottom: env(safe-area-inset-bottom);\r\n    }\r\n\r\n    .getting-started-panel {\r\n        padding-top: env(safe-area-inset-top);\r\n        padding-bottom: env(safe-area-inset-bottom);\r\n    }\r\n\r\n    .modal {\r\n        padding-top: env(safe-area-inset-top);\r\n        padding-bottom: env(safe-area-inset-bottom);\r\n    }\r\n\r\n    .mobile-split-container.gtw-split-map {\r\n        display: block;\r\n    }\r\n\r\n    .startup .progress-panel {\r\n        padding-bottom: env(safe-area-inset-bottom);\r\n    }\r\n\r\n    /*\r\n    body.gtw-split-map {\r\n        overflow-y: scroll;\r\n    }\r\n\r\n    #gtw-map {\r\n        display: none;\r\n    }\r\n    */\r\n\r\n    .map-overlay.gtw-split-map {\r\n        display: none;\r\n        /*margin-top: 50vh;\r\n        height: 50vh;*/\r\n    }\r\n\r\n    /*\r\n    #gtw-map.gtw-split-map {\r\n        height: 50vh;\r\n        display: block;\r\n    }\r\n    */\r\n\r\n    .desktop.split-map-panel.gtw-split-map {\r\n        display: none;\r\n    }\r\n\r\n    .desktop.split-map-container.gtw-split-map {\r\n        display: none;\r\n    }\r\n\r\n    .mobile.split-map-panel.gtw-split-map {\r\n        display: block;\r\n        /*height: 20vh;*/\r\n    }\r\n\r\n    .mobile.split-map-container.gtw-split-map {\r\n        display: block;\r\n        /*height: 30vh;*/\r\n        height: inherit;\r\n    }\r\n}\r\n\r\n/*\r\n@media only screen and (max-height: 768px) and (orientation: landscape) {\r\n    .landscape-notice {\r\n        display: block;\r\n    }\r\n}\r\n*/\r\n\r\n@media screen and (max-width: 470px) {\r\n    .startup h1 {\r\n        font-size: 10vw;\r\n    }\r\n}\r\n\r\n@media (prefers-color-scheme: dark) {\r\n    .map-overlay {\r\n        background-color: rgba(150, 150, 150, 0.8);\r\n    }\r\n\r\n    .mobile-split-container {\r\n        background-color: rgba(150, 150, 150, 0.8);\r\n    }\r\n\r\n    .list-group-item-light {\r\n        background-color: #dadada;\r\n    }\r\n    \r\n    #search-transit-text {\r\n        background-color: #ececec;\r\n    }\r\n\r\n    .btn, .btn-link, a {\r\n        color: #fff;\r\n    }\r\n\r\n    /*\r\n    .timeline-icon {\r\n        background: #a9a9a9;\r\n        color: #fff;\r\n    }\r\n\r\n    .timeline-icon.bg-light {\r\n        background-color: #a9a9a9!important;\r\n    }\r\n\r\n    .timeline-label {\r\n        background: #a9a9a9!important;\r\n    }\r\n\r\n    .timeline-label p{\r\n        color: #fff!important;\r\n    }\r\n    */\r\n\r\n    .startup {\r\n        background-color: #000;\r\n        color: #fff;\r\n    }\r\n\r\n    .build-version{\r\n        color: #fff;\r\n    }\r\n\r\n    .text-dark {\r\n        color: #fff!important;\r\n    }\r\n\r\n    #gettingStartedWizard {\r\n        background-color: #989898;\r\n    }\r\n\r\n    #gettingStartedWizard .nav-tabs{\r\n        border-bottom: unset;\r\n    }\r\n\r\n    #gettingStartedWizard li.active {\r\n        color: #ffffff!important;\r\n    }\r\n\r\n    #gettingStartedWizard li.done {\r\n        color: #cecece!important;\r\n    }\r\n\r\n    #gettingStartedWizard .step-content {\r\n        background-color: #989898;\r\n        color: #fff;\r\n    }\r\n\r\n    #gettingStartedWizard .sw-toolbar {\r\n        background-color: #989898;\r\n    }\r\n    \r\n}",""])},function(e,t,n){var r=n(155);"string"==typeof r&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};n(30)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(29)(!1)).push([e.i,'\r\nimg {\r\n    vertical-align: middle;\r\n}\r\n\r\n.img-responsive {\r\n    display: block;\r\n    height: auto;\r\n    max-width: 100%;\r\n}\r\n\r\n.img-rounded {\r\n    border-radius: 3px;\r\n}\r\n\r\n.img-thumbnail {\r\n    background-color: #fff;\r\n    border: 1px solid #ededf0;\r\n    border-radius: 3px;\r\n    display: inline-block;\r\n    height: auto;\r\n    line-height: 1.428571429;\r\n    max-width: 100%;\r\n    moz-transition: all .2s ease-in-out;\r\n    o-transition: all .2s ease-in-out;\r\n    padding: 2px;\r\n    transition: all .2s ease-in-out;\r\n    webkit-transition: all .2s ease-in-out;\r\n}\r\n\r\n.img-circle {\r\n    border-radius: 50%;\r\n}\r\n\r\n.timeline-centered {\r\n    position: relative;\r\n    margin-bottom: 30px;\r\n}\r\n\r\n    .timeline-centered:before, .timeline-centered:after {\r\n        content: " ";\r\n        display: table;\r\n    }\r\n\r\n    .timeline-centered:after {\r\n        clear: both;\r\n    }\r\n\r\n    .timeline-centered:before, .timeline-centered:after {\r\n        content: " ";\r\n        display: table;\r\n    }\r\n\r\n    .timeline-centered:after {\r\n        clear: both;\r\n    }\r\n\r\n    .timeline-centered:before {\r\n        content: \'\';\r\n        position: absolute;\r\n        display: block;\r\n        width: 4px;\r\n        background: #f5f5f6;\r\n        /*left: 50%;*/\r\n        top: 20px;\r\n        bottom: 20px;\r\n        margin-left: 30px;\r\n    }\r\n\r\n    .timeline-centered .timeline-entry {\r\n        position: relative;\r\n        /*width: 50%;\r\n        float: right;*/\r\n        margin-top: 5px;\r\n        margin-left: 30px;\r\n        margin-bottom: 10px;\r\n        clear: both;\r\n    }\r\n\r\n        .timeline-centered .timeline-entry:before, .timeline-centered .timeline-entry:after {\r\n            content: " ";\r\n            display: table;\r\n        }\r\n\r\n        .timeline-centered .timeline-entry:after {\r\n            clear: both;\r\n        }\r\n\r\n        .timeline-centered .timeline-entry:before, .timeline-centered .timeline-entry:after {\r\n            content: " ";\r\n            display: table;\r\n        }\r\n\r\n        .timeline-centered .timeline-entry:after {\r\n            clear: both;\r\n        }\r\n\r\n        .timeline-centered .timeline-entry.begin {\r\n            margin-bottom: 0;\r\n        }\r\n\r\n        .timeline-centered .timeline-entry.left-aligned {\r\n            float: left;\r\n        }\r\n\r\n            .timeline-centered .timeline-entry.left-aligned .timeline-entry-inner {\r\n                margin-left: 0;\r\n                margin-right: -18px;\r\n            }\r\n\r\n                .timeline-centered .timeline-entry.left-aligned .timeline-entry-inner .timeline-time {\r\n                    left: auto;\r\n                    right: -100px;\r\n                    text-align: left;\r\n                }\r\n\r\n                .timeline-centered .timeline-entry.left-aligned .timeline-entry-inner .timeline-icon {\r\n                    float: right;\r\n                }\r\n\r\n                .timeline-centered .timeline-entry.left-aligned .timeline-entry-inner .timeline-label {\r\n                    margin-left: 0;\r\n                    margin-right: 70px;\r\n                }\r\n\r\n                    .timeline-centered .timeline-entry.left-aligned .timeline-entry-inner .timeline-label:after {\r\n                        left: auto;\r\n                        right: 0;\r\n                        margin-left: 0;\r\n                        margin-right: -9px;\r\n                        -moz-transform: rotate(180deg);\r\n                        -o-transform: rotate(180deg);\r\n                        -webkit-transform: rotate(180deg);\r\n                        -ms-transform: rotate(180deg);\r\n                        transform: rotate(180deg);\r\n                    }\r\n\r\n        .timeline-centered .timeline-entry .timeline-entry-inner {\r\n            position: relative;\r\n            margin-left: -20px;\r\n        }\r\n\r\n            .timeline-centered .timeline-entry .timeline-entry-inner:before, .timeline-centered .timeline-entry .timeline-entry-inner:after {\r\n                content: " ";\r\n                display: table;\r\n            }\r\n\r\n            .timeline-centered .timeline-entry .timeline-entry-inner:after {\r\n                clear: both;\r\n            }\r\n\r\n            .timeline-centered .timeline-entry .timeline-entry-inner:before, .timeline-centered .timeline-entry .timeline-entry-inner:after {\r\n                content: " ";\r\n                display: table;\r\n            }\r\n\r\n            .timeline-centered .timeline-entry .timeline-entry-inner:after {\r\n                clear: both;\r\n            }\r\n\r\n            .timeline-centered .timeline-entry .timeline-entry-inner .timeline-time {\r\n                position: absolute;\r\n                left: -100px;\r\n                text-align: right;\r\n                padding: 10px;\r\n                -webkit-box-sizing: border-box;\r\n                -moz-box-sizing: border-box;\r\n                box-sizing: border-box;\r\n            }\r\n\r\n                .timeline-centered .timeline-entry .timeline-entry-inner .timeline-time > span {\r\n                    display: block;\r\n                }\r\n\r\n                    .timeline-centered .timeline-entry .timeline-entry-inner .timeline-time > span:first-child {\r\n                        font-size: 15px;\r\n                        font-weight: bold;\r\n                    }\r\n\r\n                    .timeline-centered .timeline-entry .timeline-entry-inner .timeline-time > span:last-child {\r\n                        font-size: 12px;\r\n                    }\r\n\r\n            .timeline-centered .timeline-entry .timeline-entry-inner .timeline-icon {\r\n                background: #fff;\r\n                color: #737881;\r\n                display: block;\r\n                width: 40px;\r\n                height: 40px;\r\n                -webkit-background-clip: padding-box;\r\n                -moz-background-clip: padding;\r\n                background-clip: padding-box;\r\n                -webkit-border-radius: 20px;\r\n                -moz-border-radius: 20px;\r\n                border-radius: 20px;\r\n                text-align: center;\r\n                -moz-box-shadow: 0 0 0 5px #f5f5f6;\r\n                -webkit-box-shadow: 0 0 0 5px #f5f5f6;\r\n                box-shadow: 0 0 0 5px #f5f5f6;\r\n                line-height: 40px;\r\n                font-size: 15px;\r\n                float: left;\r\n            }\r\n\r\n                .timeline-centered .timeline-entry .timeline-entry-inner .timeline-icon.bg-primary {\r\n                    background-color: #303641;\r\n                    color: #fff;\r\n                }\r\n\r\n                .timeline-centered .timeline-entry .timeline-entry-inner .timeline-icon.bg-secondary {\r\n                    background-color: #ee4749;\r\n                    color: #fff;\r\n                }\r\n\r\n                .timeline-centered .timeline-entry .timeline-entry-inner .timeline-icon.bg-success {\r\n                    background-color: #00a651;\r\n                    color: #fff;\r\n                }\r\n\r\n                .timeline-centered .timeline-entry .timeline-entry-inner .timeline-icon.bg-info {\r\n                    background-color: #21a9e1;\r\n                    color: #fff;\r\n                }\r\n\r\n                .timeline-centered .timeline-entry .timeline-entry-inner .timeline-icon.bg-warning {\r\n                    background-color: #fad839;\r\n                    color: #fff;\r\n                }\r\n\r\n                .timeline-centered .timeline-entry .timeline-entry-inner .timeline-icon.bg-danger {\r\n                    background-color: #cc2424;\r\n                    color: #fff;\r\n                }\r\n\r\n            .timeline-centered .timeline-entry .timeline-entry-inner .timeline-label {\r\n                position: relative;\r\n                background: #f5f5f6;\r\n                padding: 1em;\r\n                margin-left: 60px;\r\n                -webkit-background-clip: padding-box;\r\n                -moz-background-clip: padding;\r\n                background-clip: padding-box;\r\n                -webkit-border-radius: 3px;\r\n                -moz-border-radius: 3px;\r\n                border-radius: 3px;\r\n            }\r\n\r\n                .timeline-centered .timeline-entry .timeline-entry-inner .timeline-label:after {\r\n                    content: \'\';\r\n                    display: block;\r\n                    position: absolute;\r\n                    width: 0;\r\n                    height: 0;\r\n                    border-style: solid;\r\n                    border-width: 9px 9px 9px 0;\r\n                    border-color: transparent #f5f5f6 transparent transparent;\r\n                    left: 0;\r\n                    top: 10px;\r\n                    margin-left: -9px;\r\n                }\r\n\r\n                .timeline-centered .timeline-entry .timeline-entry-inner .timeline-label h2, .timeline-centered .timeline-entry .timeline-entry-inner .timeline-label p {\r\n                    color: #737881;\r\n                    font-family: "Noto Sans",sans-serif;\r\n                    font-size: 12px;\r\n                    margin: 0;\r\n                    line-height: 1.428571429;\r\n                }\r\n\r\n                    .timeline-centered .timeline-entry .timeline-entry-inner .timeline-label p + p {\r\n                        margin-top: 15px;\r\n                    }\r\n\r\n                .timeline-centered .timeline-entry .timeline-entry-inner .timeline-label h2 {\r\n                    font-size: 16px;\r\n                }\r\n\r\n                    .timeline-centered .timeline-entry .timeline-entry-inner .timeline-label h2 button {\r\n                        color: #303641;\r\n                    }\r\n\r\n                    .timeline-centered .timeline-entry .timeline-entry-inner .timeline-label h2 span {\r\n                        -webkit-opacity: .6;\r\n                        -moz-opacity: .6;\r\n                        opacity: .6;\r\n                        -ms-filter: alpha(opacity=60);\r\n                        filter: alpha(opacity=60);\r\n                    }\r\n',""])},,,,,,,,function(e,t){document.body.appendChild(function(){const e=document.createElement("button"),t=document.createElement("i");return e.setAttribute("class","btn btn-warning"),e.setAttribute("type","button"),e.setAttribute("id","loc-status-btn"),t.setAttribute("class","fas fa-location-arrow"),e.appendChild(t),e}())},function(e,t){document.body.appendChild(function(){const e=document.createElement("span");return e.setAttribute("class","build-version"),e.innerHTML="1.3.4",e}())},function(e,t){document.body.appendChild(function(){const e=document.createElement("div");return e.setAttribute("class","map-overlay"),e}())},function(e,t){document.body.appendChild(function(){const e=document.createElement("div"),t=document.createElement("div"),n=document.createElement("div"),r=document.createElement("span");return r.setAttribute("class","sr-only"),r.innerHTML="Loading...",n.setAttribute("class","spinner-border m-5"),n.setAttribute("role","status"),n.appendChild(r),t.setAttribute("class","loading-spinner d-flex align-items-center justify-content-center"),t.appendChild(n),e.setAttribute("class","loading-overlay"),e.appendChild(t),e}())},function(e,t){document.body.appendChild(function(){const e=document.createElement("div"),t=document.createElement("div");return t.setAttribute("id","gtw-toast-stack"),e.setAttribute("class","toast-stack-container"),e.setAttribute("aria-live","polite"),e.setAttribute("aria-atomic","true"),e.appendChild(t),e}())},function(e,t){document.body.appendChild(function(){const e=document.createElement("div"),t=document.createElement("p");return t.setAttribute("class","text-center"),t.setAttribute("data-i18n","app-license-message"),e.setAttribute("class","jumbotron text-center footer"),e.setAttribute("style","margin-bottom: 0"),e.appendChild(t),e}())},function(e,t){document.body.appendChild(function(){const e=document.createElement("div");return e.setAttribute("id","gtw-map"),e}())},function(e,t){document.body.appendChild(function(){const e=document.createElement("div"),t=document.createElement("div"),n=document.createElement("div"),r=document.createElement("button"),i=document.createElement("button"),a=document.createElement("button"),o=document.createElement("div"),s=document.createElement("div");return r.setAttribute("type","button"),r.setAttribute("class","btn btn-link ui-split-map-back-btn"),r.innerHTML='<i class="fas fa-arrow-left"></i> <span data-i18n="split-panel-back"></span>',i.setAttribute("type","button"),i.setAttribute("class","btn btn-link ui-pull-up-btn"),i.innerHTML='<i class="fas fa-arrow-up"></i> <span data-i18n="split-panel-move-up"></span>',a.setAttribute("type","button"),a.setAttribute("class","btn btn-link ui-pull-down-btn"),a.innerHTML='<i class="fas fa-arrow-down"></i> <span data-i18n="split-panel-move-down"></span>',o.setAttribute("class","split-map-tab-panel"),n.setAttribute("class","container-fluid"),n.appendChild(r),n.appendChild(i),n.appendChild(a),n.appendChild(o),t.setAttribute("class","jumbotron jumbotron-fluid split-map-panel mobile"),t.appendChild(n),s.setAttribute("class","container-fluid split-map-container mobile"),e.setAttribute("class","container-fluid mobile-split-container"),e.appendChild(t),e.appendChild(s),e}())},function(e,t){document.body.appendChild(function(){const e=document.createElement("div"),t=document.createElement("div"),n=document.createElement("div"),r=document.createElement("div"),i=document.createElement("div"),a=document.createElement("div");return r.setAttribute("class","modal-header"),i.setAttribute("class","modal-body"),a.setAttribute("class","modal-footer"),n.setAttribute("class","modal-content"),n.appendChild(r),n.appendChild(i),n.appendChild(a),t.setAttribute("class","modal-dialog"),t.setAttribute("role","document"),t.appendChild(n),e.setAttribute("class","modal fade"),e.setAttribute("tabindex","-1"),e.setAttribute("role","dialog"),e.setAttribute("aria-labelledby","modalLabel"),e.setAttribute("aria-hidden","true"),e.appendChild(t),e}())},function(e,t,n){var r={"./en.json":[202,45],"./zh.json":[203,46]};function i(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],i=t[0];return n.e(t[1]).then((function(){return n.t(i,3)}))}i.keys=function(){return Object.keys(r)},i.id=172,e.exports=i},function(e,t,n){e.exports=n.p+"1.3143549eae1b49940de8.worker.js"},function(e,t,n){e.exports=n.p+"2.b6dfd31411fea68be1fe.worker.js"},function(e,t,n){var r={"./gtwp-ctbnwfb/index.js":[204,47],"./gtwp-hktransit/index.js":[205,48],"./gtwp-kmblwb/index.js":[206,49]};function i(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],i=t[0];return n.e(t[1]).then((function(){return n(i)}))}i.keys=function(){return Object.keys(r)},i.id=175,e.exports=i},function(e,t,n){e.exports=n.p+"0.7bf70f8f6ff8612e34e3.worker.js"},,,,,,,,,,,,,,,,,,function(e,t,n){var r={"./gtw-map-googlemap":[97,2],"./gtw-map-googlemap.js":[97,2]};function i(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],i=t[0];return n.e(t[1]).then((function(){return n(i)}))}i.keys=function(){return Object.keys(r)},i.id=194,e.exports=i},function(e,t,n){var r={"./gtw-ui-modal-about":[98,3],"./gtw-ui-modal-about.js":[98,3],"./gtw-ui-modal-errorplugins":[99,4],"./gtw-ui-modal-errorplugins.js":[99,4],"./gtw-ui-modal-loading":[100,5],"./gtw-ui-modal-loading.js":[100,5],"./gtw-ui-modal-pluginclosedapi":[101,6],"./gtw-ui-modal-pluginclosedapi.js":[101,6],"./gtw-ui-modal-pluginmanager":[102,0],"./gtw-ui-modal-pluginmanager.js":[102,0],"./gtw-ui-modal-settings":[103,7],"./gtw-ui-modal-settings.js":[103,7],"./gtw-ui-modal-updated":[104,8],"./gtw-ui-modal-updated.js":[104,8],"./gtw-ui-modal-viewgtfsalerts":[105,9],"./gtw-ui-modal-viewgtfsalerts.js":[105,9],"./gtw-ui-modal-viewplugin":[106,10],"./gtw-ui-modal-viewplugin.js":[106,10]};function i(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],i=t[0];return n.e(t[1]).then((function(){return n(i)}))}i.keys=function(){return Object.keys(r)},i.id=195,e.exports=i},function(e,t,n){var r={"./modal-about-header.html":[208,18],"./modal-errorplugins-header.html":[209,21],"./modal-loading-header.html":[210,24],"./modal-pluginclosedapi-header.html":[211,27],"./modal-pluginmanager-header.html":[212,30],"./modal-settings-header.html":[213,33],"./modal-updated-header.html":[214,36],"./modal-viewgtfsalerts-header.html":[215,39],"./modal-viewplugin-header.html":[216,42]};function i(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],i=t[0];return n.e(t[1]).then((function(){return n.t(i,7)}))}i.keys=function(){return Object.keys(r)},i.id=196,e.exports=i},function(e,t,n){var r={"./modal-about-body.html":[217,16],"./modal-errorplugins-body.html":[218,19],"./modal-loading-body.html":[219,22],"./modal-pluginclosedapi-body.html":[220,25],"./modal-pluginmanager-body.html":[221,28],"./modal-settings-body.html":[222,31],"./modal-updated-body.html":[223,34],"./modal-viewgtfsalerts-body.html":[224,37],"./modal-viewplugin-body.html":[225,40]};function i(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],i=t[0];return n.e(t[1]).then((function(){return n.t(i,7)}))}i.keys=function(){return Object.keys(r)},i.id=197,e.exports=i},function(e,t,n){var r={"./modal-about-footer.html":[226,17],"./modal-errorplugins-footer.html":[227,20],"./modal-loading-footer.html":[228,23],"./modal-pluginclosedapi-footer.html":[229,26],"./modal-pluginmanager-footer.html":[230,29],"./modal-settings-footer.html":[231,32],"./modal-updated-footer.html":[232,35],"./modal-viewgtfsalerts-footer.html":[233,38],"./modal-viewplugin-footer.html":[234,41]};function i(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],i=t[0];return n.e(t[1]).then((function(){return n.t(i,7)}))}i.keys=function(){return Object.keys(r)},i.id=198,e.exports=i},function(e,t,n){var r={"./gtw-ui-tab-navigation":[107,1],"./gtw-ui-tab-navigation.js":[107,1],"./gtw-ui-tab-transit":[108,11],"./gtw-ui-tab-transit.js":[108,11]};function i(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],i=t[0];return n.e(t[1]).then((function(){return n(i)}))}i.keys=function(){return Object.keys(r)},i.id=199,e.exports=i},function(e,t,n){"use strict";(function(e){var t=n(8),r=1e3,i=[],a=console.trace;console.trace=function(e){b("console",e,-1)};var o=console.debug;console.debug=function(e){b("console",e,-2)};var s=console.log;console.log=function(e){b("console",e,0)};var l=console.warn;console.warn=function(e){b("console",e,1)};var d=console.error;console.error=function(e){b("console",e,2)};var c=!0;function u(e,t){-2===t?a(e):-1===t?o(e):0===t?s(e):1===t?l(e):2===t&&d(e)}function p(n,a,o,s){i.length>=r&&i.shift(),i.push({time:o,msg:a,level:s}),t.get("show_debug_msg",!1)&&function(t,n,r,i,a){if(a<=0)return;if(f===r&&g===n&&m===a&&i-h<7500)return;h=i,f=r,g=n,m=a;var o=e("#gtw-toast-stack"),s="Unknown",l="";-2===a?s="Trace":-1===a?s="Debug":0===a?(s="Info",l=" text-primary"):1===a?(s="Warning",l=" text-warning"):2===a&&(s="Error",l=" text-danger");var d='<div class="toast" role="alert" log-entry-id="'+t+'">    <div class="toast-header">        <strong class="mr-auto'+l+'">'+s+" ("+n+')</strong>        <small class="text-muted">'+new Date(i).toLocaleString()+'</small>        <button type="button" class="ml-2 mb-1 close" data-dismiss="toast" aria-label="Close"><span aria-hidden="true">&times;</span></button>    </div>    <div class="toast-body">'+r+"    </div></div>";o.children().length>=3&&o.children().each((function(t){t>=2&&e(this).toast("hide")}));o.prepend(d);var c=".toast[log-entry-id='"+t+"']";e(c).on("hidden.bs.toast",(function(){e(this).remove()})),e(c).toast({animation:!0,autohide:!0,delay:5e3}),e(c).toast("show")}(i.length,n,a,o,s)}var f=0,g=0,m=0,h=0;function b(e="unknown",t,n=0){var r=Date.now();if("object"==typeof t)if(c)u("["+new Date(r).toLocaleString()+"] ["+e+"]",n),u(t,n);else{var i=JSON.stringify(t);u("["+new Date(r).toLocaleString()+"] ["+e+"] "+i,n)}else u("["+new Date(r).toLocaleString()+"] ["+e+"] "+t,n);p(e,t,r,n)}}).call(this,n(0))},function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),a=n(44),o=n.n(a),s=n(69),l=n.n(s),d=(n(148),n(150),n(152),n(154),n(156),n(157),n(159),n(160),n(161),n(162),n(163),n(164),n(165),n(166),function(){const e=document.createElement("nav"),t=document.createElement("a");t.setAttribute("class","navbar-brand"),t.innerHTML='<i class="fas fa-map-marked-alt"></i> <span data-i18n="app-name"></span>',e.appendChild(t);const n=document.createElement("button");n.setAttribute("class","navbar-toggler"),n.setAttribute("type","button"),n.setAttribute("data-toggle","collapse"),n.setAttribute("data-target","#collapsibleNavbar"),n.innerHTML='<span class="navbar-toggler-icon"></span>',e.appendChild(n);const r=document.createElement("div"),i=document.createElement("ul");i.setAttribute("class","navbar-nav"),i.appendChild(c("plugins","fas fa-plus-circle","nav-plugins")),i.appendChild(c("settings","fas fa-cog","nav-settings")),i.appendChild(c("github","fab fa-github","nav-github")),i.appendChild(c("feedback","fas fa-exclamation-triangle","nav-feedback")),i.appendChild(c("about","fas fa-info-circle","nav-about")),r.setAttribute("class","collapse navbar-collapse"),r.setAttribute("id","collapsibleNavbar"),r.appendChild(i);var a=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;return e.setAttribute("class","navbar navbar-"+(a?"dark":"light")),e.appendChild(r),e});function c(e,t,n){const r=document.createElement("li"),i=document.createElement("button");return i.setAttribute("class","btn btn-link nav-link header-links-"+e),i.setAttribute("data-toggle","collapse"),i.setAttribute("data-target",".navbar-collapse.show"),i.innerHTML='<i class="'+t+'"></i> <span data-i18n="'+n+'"></span>',r.setAttribute("class","nav-item"),r.appendChild(i),r}var u=function(){const e=document.createElement("div"),t=document.createElement("div"),n=document.createElement("div"),r=document.createElement("div");return n.setAttribute("class","tabs btn-group"),n.appendChild(p("transit","fas fa-bus","home-tab-transit",!0)),n.appendChild(p("navigation","fas fa-location-arrow","home-tab-navigation")),t.appendChild(n),r.setAttribute("class","tab-panel"),t.appendChild(r),t.setAttribute("class","container-fluid"),e.appendChild(t),e.setAttribute("class","jumbotron jumbotron-fluid top-panel"),e};function p(e,t,n,r=!1,i=!1){const a=document.createElement("button");return a.setAttribute("class","btn "+(r?"btn-primary":"btn-link")+" ui-tab"),a.setAttribute("type","button"),i&&a.setAttribute("disabled","disabled"),a.setAttribute("data-gtw-tab",e),a.innerHTML='<i class="'+t+'"></i> <span data-i18n="'+n+'"></span>',a}var f=function(){const e=document.createElement("div"),t=document.createElement("div"),n=document.createElement("button"),r=document.createElement("div");return n.setAttribute("type","button"),n.setAttribute("class","btn btn-link ui-split-map-back-btn"),n.innerHTML='<i class="fas fa-arrow-left"></i> <span data-i18n="split-panel-back"></span>',r.setAttribute("class","split-map-tab-panel"),t.setAttribute("class","container-fluid"),t.appendChild(n),t.appendChild(r),e.appendChild(t),e.setAttribute("class","jumbotron jumbotron-fluid split-map-panel desktop"),e},g=function(){const e=document.createElement("div"),t=document.createElement("p"),n=document.createElement("div"),r=document.createElement("ul"),i=document.createElement("div");return t.setAttribute("class","app-title"),t.innerHTML='<i class="fas fa-map-marked-alt"></i> <span data-i18n="app-name"></span> <span class="lead" data-i18n="app-desc"></span>',r.appendChild(m("#step-1","getting-started-wizard-step-language")),r.appendChild(m("#step-2","getting-started-wizard-step-plugins")),r.appendChild(m("#step-3","getting-started-wizard-step-finish")),i.appendChild(function(){const e=document.createElement("div"),t=document.createElement("p"),n=document.createElement("p"),r=document.createElement("p"),i=document.createElement("div"),a=document.createElement("div"),o=document.createElement("label"),s=document.createElement("select"),l=document.createElement("a");return t.setAttribute("class","display-4"),t.setAttribute("data-i18n","getting-started-wizard-step-language-welcome"),n.setAttribute("class","lead"),n.setAttribute("data-i18n","getting-started-wizard-step-language-desc"),r.setAttribute("class","display-5"),r.setAttribute("data-i18n","getting-started-wizard-step-language-choose-language"),o.setAttribute("class","input-group-text"),o.setAttribute("for","langSelect"),o.setAttribute("data-i18n","getting-started-wizard-step-language-input-language"),a.setAttribute("class","input-group-prepend"),a.appendChild(o),s.setAttribute("class","custom-select"),s.setAttribute("id","langSelect"),i.setAttribute("class","input-group mb-3"),i.appendChild(a),i.appendChild(s),l.setAttribute("href","https://github.com/mob41/GoToWhere"),l.setAttribute("target","_blank"),l.setAttribute("data-i18n","getting-started-wizard-step-language-help-translate"),e.setAttribute("id","step-1"),e.appendChild(t),e.appendChild(n),e.appendChild(r),e.appendChild(i),e.appendChild(l),e}()),i.appendChild(function(){const e=document.createElement("div"),t=document.createElement("p"),n=document.createElement("div"),r=document.createElement("div"),i=document.createElement("label"),a=document.createElement("select"),o=document.createElement("option"),s=document.createElement("p"),l=document.createElement("div");return t.setAttribute("class","display-5"),t.setAttribute("data-i18n","getting-started-wizard-step-plugins-select-region"),i.setAttribute("class","input-group-text"),i.setAttribute("for","regionSelect"),i.setAttribute("data-i18n","getting-started-wizard-step-plugins-input-region"),r.setAttribute("class","input-group-prepend"),r.appendChild(i),o.setAttribute("data-i18n","getting-started-wizard-step-plugins-loading"),a.setAttribute("class","custom-select"),a.setAttribute("id","regionSelect"),a.setAttribute("disabled","disabled"),a.appendChild(o),n.setAttribute("class","input-group mb-3"),n.appendChild(r),n.appendChild(a),s.setAttribute("id","pluginsToInstallCount"),l.setAttribute("class","accordion"),l.setAttribute("id","pluginsToInstallAccordion"),e.setAttribute("id","step-2"),e.appendChild(t),e.appendChild(n),e.appendChild(s),e.appendChild(l),e}()),i.appendChild(function(){const e=document.createElement("div"),t=document.createElement("p"),n=document.createElement("p"),r=document.createElement("p"),i=document.createElement("p"),a=document.createElement("button");return t.setAttribute("class","display-4"),t.setAttribute("data-i18n","getting-started-wizard-step-finish-finish-text"),n.setAttribute("class","lead"),n.setAttribute("data-i18n","getting-started-wizard-step-finish-desc"),r.setAttribute("class","display-5"),r.setAttribute("id","installCount"),i.setAttribute("class","need-to-install"),i.setAttribute("data-i18n","[html]getting-started-wizard-step-finish-must-install"),a.setAttribute("class","btn btn-block btn-success disabled"),a.setAttribute("type","button"),a.setAttribute("id","getStartedBtn"),a.setAttribute("data-i18n","getting-started-wizard-step-finish-get-started-btn"),e.setAttribute("id","step-3"),e.appendChild(t),e.appendChild(n),e.appendChild(r),e.appendChild(i),e.appendChild(a),e}()),n.setAttribute("id","gettingStartedWizard"),n.appendChild(r),n.appendChild(i),e.setAttribute("class","container-fluid getting-started-panel"),e.appendChild(t),e.appendChild(n),e.appendChild(function(){const e=document.createElement("div"),t=document.createElement("p"),n=document.createElement("p"),r=document.createElement("div"),i=document.createElement("small"),a=document.createElement("div"),o=document.createElement("div");return t.setAttribute("class","display-4"),t.setAttribute("data-i18n","getting-started-please-wait"),n.setAttribute("class","lead"),n.setAttribute("data-i18n","getting-started-please-wait-desc"),i.setAttribute("data-i18n","getting-started-installing-plugins"),o.setAttribute("class","progress-bar progress-bar-striped progress-bar-animated"),o.setAttribute("role","progressbar"),o.setAttribute("id","gs-plugin-progress"),o.setAttribute("style","width: 0%"),a.setAttribute("class","progress"),a.appendChild(o),r.setAttribute("class","progress-panel"),r.appendChild(i),r.appendChild(a),e.setAttribute("class","getting-started-progress-panel"),e.appendChild(t),e.appendChild(n),e.appendChild(r),e}()),e.appendChild(function(){const e=document.createElement("div"),t=document.createElement("p"),n=document.createElement("p");return t.setAttribute("class","display-4"),t.setAttribute("data-i18n","getting-started-error"),n.setAttribute("class","desc"),e.setAttribute("class","getting-started-plugin-error-panel"),e.appendChild(t),e.appendChild(n),e}()),e};function m(e,t){const n=document.createElement("li"),r=document.createElement("a");return r.setAttribute("href",e),r.setAttribute("data-i18n",t),n.appendChild(r),n}var h=function(){const e=document.createElement("div"),t=document.createElement("div"),n=document.createElement("div");return t.setAttribute("class","numeric-keypad btn-group-vertical"),t.setAttribute("role","group"),t.appendChild(b([["value","btn-outline-secondary","1"],["value","btn-outline-secondary","2"],["value","btn-outline-secondary","3"]])),t.appendChild(b([["value","btn-outline-secondary","4"],["value","btn-outline-secondary","5"],["value","btn-outline-secondary","6"]])),t.appendChild(b([["value","btn-outline-secondary","7"],["value","btn-outline-secondary","8"],["value","btn-outline-secondary","9"]])),t.appendChild(b([["function","btn-primary touch-keypad-function-done",'<i class="fas fa-check"></i>'],["value","btn-outline-secondary","0"],["function","btn-warning touch-keypad-function-backspace",'<i class="fas fa-backspace"></i>']])),n.setAttribute("class","letter-keypad btn-group-vertical"),n.setAttribute("role","group"),e.setAttribute("class","container-fluid touch-keypad row"),e.appendChild(t),e.appendChild(n),e};function b(e){const t=document.createElement("div");var n;for(t.setAttribute("class","btn-group"),n=0;n<e.length;n++)t.appendChild(v(e[n][0],e[n][1],e[n][2]));return t}function v(e,t,n){const r=document.createElement("button");return r.setAttribute("type","button"),r.setAttribute("class","btn "+t+" py-3 touch-keypad-key touch-keypad-"+e+" disabled"),r.innerHTML=n,r}document.body.appendChild(function(){const e=document.createElement("div"),t=document.createElement("div"),n=document.createElement("div"),r=document.createElement("div");return n.setAttribute("class","container-fluid content-panel-container"),r.setAttribute("class","container-fluid split-map-container desktop"),t.setAttribute("class","header"),t.appendChild(d()),t.appendChild(u()),t.appendChild(f()),e.setAttribute("class","gtw-container"),e.appendChild(t),e.appendChild(g()),e.appendChild(n),e.appendChild(r),e.appendChild(h()),e}());n(167),n(168),n(169),n(170),n(171);var w=n(8),y=n(22),k=n(16),_=n(9),C=n(33),E=n(2),A=n(23),x=n(21),j=n(43),T=(n(200),n(32)),O=(n(31),n(7),n(41));window.jQuery=i.a,window.$=i.a,window.JSZip=o.a,window.JSZipUtils=l.a;var S=n(147);["js","messagestore","fallbacks","parser","emitter","language"].forEach((function(e){S("./jquery.i18n."+e)})),window.__stopHeaderAnimation=!1,"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js").then(e=>{console.log("SW registered: ",e)}).catch(e=>{console.log("SW registration failed: ",e)})}),w.load(),n.e(44).then(n.bind(null,238)).then((function(){i()(".startup .progress-panel").fadeIn(5e3),i()(".startup .container").fadeIn(2e3),console.log("GoToWhere (c) 2019. Licensed under the GPLv3 License."),i()("#startup-status").html("Loading GoToWhere scripts..."),i()(window).resize((function(){adjustMargin()})),window.adjustMargin=function(){var e=0;i()(".numeric-keypad .btn-group").each((function(){e+=i()(this).height()})),i()(".letter-keypad").css("height",e);var t=i()(".header").height(),n=i()(window).height();i()(".desktop.split-map-container").css("height",n-t),i()(".content-panel-container").css("height",n-t-e);var r=i()(".mobile-split-container").height(),a=i()(".mobile.split-map-panel").height();i()(".mobile.split-map-container").css("height",r-a)},adjustMargin(),T.changeLanguage(w.get("preferred_language","en")),window.p=C,O.a.defs("EPSG:2326","+proj=tmerc +lat_0=22.31213333333334 +lon_0=114.1785555555556 +k=1 +x_0=836694.05 +y_0=819069.8 +ellps=intl +towgs84=-162.619,-276.959,-161.764,0.067753,-2.24365,-1.15883,-1.09425 +units=m +no_defs"),O.a.defs("EPSG:4326","+proj=longlat +datum=WGS84 +no_defs"),j.b(),y.register("www.gotowhere.ga",!0),y.register("plugins.gotowhere.ga",!0);var e=["agency","calendar","calendar_dates","frequencies","routes","trips","stops","stop_time_paths","stop_times","fare_attributes","fare_rules"];window.indexedDB&&window.localStorage?(i()("#startup-progress").css("width","0%"),i()("#startup-status").html(i.a.i18n("startup-status-loading-plugins")),k.c((function(e){i()("#startup-progress").css("width",e/5+"%")})).then((function(){return i()("#startup-status").html(i.a.i18n("startup-status-fetching-reference-db")),C.fetchAllDatabase((function(e){i()("#startup-progress").css("width",e/5+20+"%")}))})).then((function(){return i()("#startup-status").html(i.a.i18n("startup-status-obtaining-db-version")),_.e((function(e){i()("#startup-progress").css("width",e/5+40+"%")}))})).then((function(){return i()("#startup-status").html(i.a.i18n("startup-status-checking-db-update")),_.a((function(e){i()("#startup-progress").css("width",e/5+60+"%")}))})).then((function(){return i()("#startup-status").html(i.a.i18n("startup-status-validating-db")),_.j((function(e){i()("#startup-progress").css("width",e/5+80+"%")}))})).then((function(){if(_.c()){_.d();var t="<b>"+i.a.i18n("startup-status-load-db-take-some-time")+"</b><br />";return i()("#startup-status").html(t+i.a.i18n("startup-status-downloading-db")),_.b((function(e){console.log(e),i()("#startup-progress").css("width",e/8+"%")})).then((function(){return i()("#startup-status").html(t+i.a.i18n("startup-status-preparing-update")),_.f((function(e){console.log(e),i()("#startup-progress").css("width",e/8+12.5+"%")}))})).then((function n(r){"number"!=typeof r&&(r=0);var a=e[r];return i()("#startup-status").html(t+i.a.i18n("startup-status-loading-"+a)),_.g(a,(function(t){console.log(t),i()("#startup-progress").css("width",(t/2/e.length+100*r/e.length)/100*75+25+"%")})).then((function(){return i()("#startup-status").html(t+i.a.i18n("startup-status-updating-"+a)),_.k((function(t){console.log(t),i()("#startup-progress").css("width",((t/2+50)/e.length+100*r/e.length)/100*75+25+"%")}))})).then((function(){if(r!=e.length-1)return n(r+1);_.i()}))}))}})).then((function(){return i()("#startup-progress").css("width","100%"),i()("#startup-status").html(i.a.i18n("startup-status-init-map")),E.d()})).then((function(){i()("#startup-status").html(i.a.i18n("startup-status-finish")),i()(".build-version").fadeOut(2e3);var e=localStorage.getItem("gtw-lastversion");e&&"1.3.4"!==e&&(console.log("Application updated to 1.3.4. Showing change-log."),x.d("updated","1.3.4")),localStorage.setItem("gtw-lastversion","1.3.4"),__stopHeaderAnimation=!0,x.c();var t,n=[];for(var r in k.d)(t=k.d[r]).status<0&&n.push(t);console.log(n),n.length&&x.d("errorplugins",n),A.e((function(){i()("#loc-status-btn").addClass("btn-success"),i()("#loc-status-btn").removeClass("btn-warning"),setTimeout((function(){i()("#loc-status-btn").fadeOut(500)}),2e3)}),(function(){i()("#loc-status-btn").addClass("btn-danger"),i()("#loc-status-btn").removeClass("btn-warning"),i()("#loc-status-btn").append(" <span> "+i.a.i18n("location-error")+"</span>"),setTimeout((function(){i()("#loc-status-btn span").fadeOut(500)}),5e3)})),setTimeout((function(){i()(".footer").animate({height:0,opacity:0},1e3,(function(){i()(".footer").css("display","none")}))}),2e3),i()(".startup").fadeOut(1e3)}))):(i()("#startup-status").attr("style","color: red"),i()("#startup-status").html(i.a.i18n("startup-status-not-supported")))}))}],[[201,13,14]]]);
//# sourceMappingURL=app.c083da7f206d207dce61.js.map